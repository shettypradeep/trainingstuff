From users-return-136169-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Apr 17 14:12:54 2014
Return-Path: <users-return-136169-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EC5010AB4
	for <apmail-maven-users-archive@www.apache.org>; Thu, 17 Apr 2014 14:12:54 +0000 (UTC)
Received: (qmail 44169 invoked by uid 500); 17 Apr 2014 14:12:50 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 44101 invoked by uid 500); 17 Apr 2014 14:12:49 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 44089 invoked by uid 99); 17 Apr 2014 14:12:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Apr 2014 14:12:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mcculls@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Apr 2014 14:12:45 +0000
Received: by mail-wi0-f177.google.com with SMTP id cc10so883372wib.4
        for <users@maven.apache.org>; Thu, 17 Apr 2014 07:12:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to;
        bh=TXaSjlIx0A/p5xqgAqmNW1MsMtOyi0k3vaZrSEdPzyg=;
        b=u4AV6SdIw06kRClisw5fwV9mp/sHpEa0I1bTU0XELDBFgetLEmu9p96rYTkJ52surx
         iQ48qbekKUxYq/pAzW5zwifXIdhTKcRoib/CFPGbh4PI3HumcQ+MQIJrRPjoaJPuRmVR
         E5G7xuAqzHz0U2/aOZNPkUiaJo5OyxUrmUpu7CgOAZRts+SmKWXoSWsIENTWeTQg/vaH
         uuoAKxLqaUldnNq8AX5yWlOvcr8W1l9yVZJYvosCYYW527FAqDh50ZZAGuSb8VUF0hJI
         oUV0iSW6YomuxphJLuTml/M3gRtXVyPYQxVPTa+6XhSSgBf02Ipn9EIo7SQc5/mkIFM4
         PLgQ==
X-Received: by 10.181.13.137 with SMTP id ey9mr11253654wid.54.1397743943698;
        Thu, 17 Apr 2014 07:12:23 -0700 (PDT)
Received: from tulloch.home (host217-42-202-195.range217-42.btcentralplus.com. [217.42.202.195])
        by mx.google.com with ESMTPSA id gz1sm5094659wib.14.2014.04.17.07.12.22
        for <users@maven.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Thu, 17 Apr 2014 07:12:23 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 7.2 \(1874\))
Subject: Re: Class loader issues after Maven 3.1.0
From: Stuart McCulloch <mcculls@gmail.com>
In-Reply-To: <CAMomwMpRHgtE3Vhpt=aAqkfRY8WvhHq7xNPKnSGs3_-tAvMcog@mail.gmail.com>
Date: Thu, 17 Apr 2014 15:12:21 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <72A774AB-FCEA-419B-8691-BBD71DF1FB66@gmail.com>
References: <CAMomwMpRHgtE3Vhpt=aAqkfRY8WvhHq7xNPKnSGs3_-tAvMcog@mail.gmail.com>
To: Maven Users List <users@maven.apache.org>
X-Mailer: Apple Mail (2.1874)
X-Virus-Checked: Checked by ClamAV on apache.org

See =
http://mail-archives.apache.org/mod_mbox/maven-dev/201402.mbox/%3cA70F13EF=
-38E2-49A8-B696-B5E59209226A@gmail.com%3e for why this is happening

AFAICT neither of the suggested solutions mentioned in the above email =
have been applied to DefaultClassRealmManager, so I believe this is =
still an issue in Maven 3.2.1

On 17 Apr 2014, at 14:57, Martin Grigorov <mgrigorov@apache.org> wrote:

> Hi,
>=20
> We have troubles use 'mvn jetty:run' for
> https://github.com/apache/wicket/tree/master/wicket-examples after
> upgrading to Maven 3.1.0+.
>=20
> It fails with:
>=20
> 2014-04-17 16:22:57.160:WARN:oejuc.AbstractLifeCycle:FAILED
> org.mortbay.jetty.plugin.JettyServer@44e5b006: java.lang.LinkageError:
> loader constraint violation: when resolving overridden method
> =
"org.jboss.weld.Weld.select(Ljavax/enterprise/util/TypeLiteral;[Ljava/lang=
/annotation/Annotation;)Ljavax/enterprise/inject/Instance;"
> the class loader (instance of =
org/eclipse/jetty/webapp/WebAppClassLoader)
> of the current class, org/jboss/weld/Weld, and its superclass loader
> (instance of org/codehaus/plexus/classworlds/realm/ClassRealm), have
> different Class objects for the type
> tion/Annotation;)Ljavax/enterprise/inject/Instance; used in the =
signature
> java.lang.LinkageError: loader constraint violation: when resolving
> overridden method
> =
"org.jboss.weld.Weld.select(Ljavax/enterprise/util/TypeLiteral;[Ljava/lang=
/annotation/Annotation;)Ljavax/enterprise/inject/Instance;"
> the class loader (instance of =
org/eclipse/jetty/webapp/WebAppClassLoader)
> of the current class, org/jboss/weld/Weld, and its superclass loader
> (instance of org/codehaus/plexus/classworlds/realm/ClassRealm), have
> different Class objects for the type
> tion/Annotation;)Ljavax/enterprise/inject/Instance; used in the =
signature
> at
> =
org.jboss.weld.servlet.StaticWeldProvider$WeldSingleton.<clinit>(StaticWel=
dProvider.java:29)
> at
> =
org.jboss.weld.servlet.StaticWeldProvider.getCDI(StaticWeldProvider.java:4=
9)
> at javax.enterprise.inject.spi.CDI.current(CDI.java:60)
> at
> =
org.jboss.weld.servlet.WeldInitialListener.contextInitialized(WeldInitialL=
istener.java:85)
> at
> =
org.jboss.weld.servlet.api.helpers.ForwardingServletListener.contextInitia=
lized(ForwardingServletListener.java:34)
> at
> =
org.jboss.weld.environment.servlet.Listener.contextInitialized(Listener.ja=
va:171)
> at
> =
org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandle=
r.java:733)
> ...
>=20
> The issue is not new. We just noticed that when using 3.0.5 it runs =
fine so
> it should be some change in Maven itself.
>=20
> I've found that another user had the same issue:
> http://stackoverflow.com/a/18168215/497381
>=20
> How to reproduce:
> 1) git clone https://github.com/apache/wicket.git
> 2) mvn install (just to have all dependencies)
> 3) cd wicket-examples
> 4) mvn jetty:run (fails with 3.1.0+)
>=20
> Thanks!
>=20
>=20
> Martin Grigorov
> Wicket Training and Consulting


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


