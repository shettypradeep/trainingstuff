From users-return-136066-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Apr  3 02:23:52 2014
Return-Path: <users-return-136066-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3653107C6
	for <apmail-maven-users-archive@www.apache.org>; Thu,  3 Apr 2014 02:23:52 +0000 (UTC)
Received: (qmail 53180 invoked by uid 500); 3 Apr 2014 02:23:49 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 53038 invoked by uid 500); 3 Apr 2014 02:23:48 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 53030 invoked by uid 99); 3 Apr 2014 02:23:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Apr 2014 02:23:48 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FORGED_YAHOO_RCVD,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of its_toasted@yahoo.com designates 98.138.91.232 as permitted sender)
Received: from [98.138.91.232] (HELO nm10-vm5.bullet.mail.ne1.yahoo.com) (98.138.91.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Apr 2014 02:23:42 +0000
Received: from [98.138.100.117] by nm10.bullet.mail.ne1.yahoo.com with NNFMP; 03 Apr 2014 02:23:19 -0000
Received: from [98.138.226.132] by tm108.bullet.mail.ne1.yahoo.com with NNFMP; 03 Apr 2014 02:23:19 -0000
Received: from [127.0.0.1] by smtp219.mail.ne1.yahoo.com with NNFMP; 03 Apr 2014 02:23:19 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1396491799; bh=h+taotNVBMc8A7OjuBkh9LcIeZAz98R+386y5Kgo0Qc=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:X-Rocket-Received:Message-ID:Date:From:Reply-To:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding:X-Antivirus:X-Antivirus-Status; b=q+EYngw2e1z6Hi2u48qQM3Kr15U2QZICOK40ZExpy+l3zKioyHCLkPxg5WgZReE+NP2g23N+vbD/Ogda2JYdnWXaSVEhqIu9sKwVtmIWpb2fsFR/CtgfJy+7JB5znuU81eDHDPNg6K8yxXB3QbYHq7wMWYxU3IrpXgPy4gkWVks=
X-Yahoo-Newman-Id: 624807.42979.bm@smtp219.mail.ne1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: FiM2C10VM1l.0A2yTqqdSzItSZw8g75smExdYzb2_gwAvGX
 KfdtE3Ewu_Q6i2eKhil5CYeCmYLSpJiV56EDqAQHAM0JNv_Qj2Rvt_Rl.4lq
 hdMe1dbSnRDmSZvmM.OAWpyuecaKrtLiVcdzliK3qqxOnkXwl3T_vPg5o6jd
 PzT06oHcfVzNr4fWdV59Hhp78VDsTpyv7B2.Xz2K_YzsLxhf4BCLgb_HuI0G
 JjRkpcicLUTFgJjITxWSxjYFDVWRnnBXRsNLgsDmUyoR6BQLHfOPprpzno4D
 5mvfcCZcNvStXxhDMMcSNyDRKVD2UJC6rZDqdTFMVElMy230zBQN1xkGvvpq
 BOIVQ2EA7MJHJci0rOOcuNMmkOwX8ttxXMRjoSxTrvhrrKCT_R1WGYnzu..B
 LPHO7_sJO257SkFAVN0eE5fHrRJNLJFNy0xRo8d2_LooNW8SgKuM0FzLdh2s
 XHBs5e.Lf.g2SVXUxMjL2uLV1e7evhKKs_fHWEB8D0Xj1_5WhM.oZXFpo0qe
 44ElFyAwmH6TjDMQ7aJohLprnbXDO83siqftE1F4Nciu6kyrljlPKBZD0mlh
 9adu8CLdGtw9eNQ7KUsccq9V8e9BzanoAdZ2pN072aT4y2wZumkbqh6whVgq
 NKuokAY64V6iL0GqA0FEeYsQHkiie8aCA4fm3_uvoLyFnVIpKZjKHYi22u5m
 fkglDge_4SY2GWNIghqj1kidf_ytAHQjK8JNylVrrh55IutLchA--
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
X-Rocket-Received: from [127.0.0.1] (its_toasted@108.13.36.11 with plain [63.250.193.228])
        by smtp219.mail.ne1.yahoo.com with SMTP; 02 Apr 2014 19:23:19 -0700 PDT
Message-ID: <533CC5E1.8090205@yahoo.com>
Date: Wed, 02 Apr 2014 19:22:25 -0700
From: Mark Eggers <its_toasted@yahoo.com>
Reply-To: Maven Users List <users@maven.apache.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.4.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: Enforcer plugin
References: <533CAA8F.3030807@yahoo.com>
In-Reply-To: <533CAA8F.3030807@yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 140402-5, 04/02/2014), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

On 4/2/2014 5:25 PM, Mark Eggers wrote:
> Folks,
>
> I've gotten my classifier artifact to build and install in our local
> repository. Specifying the classifier gets the appropriate artifact, and
> removing the classifier gets the [other] appropriate artifact.
>
> Now I'm a bit paranoid that the artifact with the classifier will leak
> out into other releases, so I thought I would write an enforcer rule.
>
> I thought that the following would work:
>
> <bannedDependencies>
>      <excludes>
>          <exclude>org.mdeggers:*:*:*:*:DEBUG</exclude>
>      </excludes>
> </bannedDependencies>
>
> based on:
>
> http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html
>
> While this certainly blocked the following dependency:
>
> <dependency>
>      <groupId>org.mdeggers</groupId>
>      <artifactId>SampleBuild</artifactId>
>      <version>1.5</version>
>      <type>war</type>
>      <classifier>DEBUG</classifier>
> </dependency>
>
> with the message:
> Found Banned Dependency: org.mdeggers:SampleBuild:war:DEBUG:1.5
>
> It also blocked the following dependency:
>
> <dependency>
>      <groupId>org.mdeggers</groupId>
>      <artifactId>SampleBuild</artifactId>
>      <version>1.5</version>
>      <type>war</type>
> </dependency>
>
> with the message:
> Found Banned Dependency: org.mdeggers:SampleBuild:war:1.5
>
> This I did not expect. The messages are also a bit suspect in that they
> don't match the pattern given in the documentation.
>
> I looked on JIRA and found the following (based on another thread):
>
> http://jira.codehaus.org/browse/MENFORCER-74
> http://jira.codehaus.org/browse/MENFORCER-75
> http://jira.codehaus.org/browse/MENFORCER-72
>
> These are all closed with a 'fixed' designation for release 1.3.
>
> I'm using version 1.3.1
>
> However, I briefly looked at the code here:
>
> http://svn.apache.org/viewvc/maven/enforcer/tags/enforcer-1.3.1/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/BannedDependencies.java?revision=1502671&view=markup
>
>
> and classifier does not seem to have made it in.
>
> Have I walked through this correctly? If so, is there a fix (other than
> not using classifiers, or just hoping that a DEBUG classifier doesn't
> make it into a release)?
>
> Thanks,
> Mark
>
> /mde/

Works with 2.0-SNAPSHOT of the maven enforcer plugin.

/mde/


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


