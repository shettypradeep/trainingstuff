From users-return-136079-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Apr  4 13:33:45 2014
Return-Path: <users-return-136079-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D2C010161
	for <apmail-maven-users-archive@www.apache.org>; Fri,  4 Apr 2014 13:33:45 +0000 (UTC)
Received: (qmail 52142 invoked by uid 500); 4 Apr 2014 13:33:29 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 51998 invoked by uid 500); 4 Apr 2014 13:33:27 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 51841 invoked by uid 99); 4 Apr 2014 13:33:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Apr 2014 13:33:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of khmarbaise@gmx.de designates 212.227.17.22 as permitted sender)
Received: from [212.227.17.22] (HELO mout.gmx.net) (212.227.17.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Apr 2014 13:33:17 +0000
Received: from Karl-Heinzs-MacBook-Pro.local ([109.46.89.37]) by mail.gmx.com
 (mrgmx103) with ESMTPSA (Nemesis) id 0LufbI-1XDxf52ufY-00zkjT for
 <users@maven.apache.org>; Fri, 04 Apr 2014 15:32:56 +0200
Message-ID: <533EB494.9000106@gmx.de>
Date: Fri, 04 Apr 2014 15:33:08 +0200
From: Karl Heinz Marbaise <khmarbaise@gmx.de>
Reply-To: info@soebes.de
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:24.0) Gecko/20100101 Thunderbird/24.3.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: Enforcer plugin
References: <533CAA8F.3030807@yahoo.com>
In-Reply-To: <533CAA8F.3030807@yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID:  V03:K0:Nq2W3V8VkdoMZFUl50QFeZMIaSRYPvpRJO2cUIfDUwF9/ZIKmKH
 5wpNL/tsyqgqTwwvWne3ifNC1BIw3sydYVJR9yFiv0LnYoKxQwDz13h9+DnFwoXGM5R1Spr
 IZMybHIaS9LZ5C82EeBpuwzKRp9oMxRSQNPiZPlvBbSwvEgo/pJ12EByiQqXA5CHt7k+8KX
 +zAO+Of5mcRAJUS9gWzTQ==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

it would be really nice having a test case which reproduces the wrong 
behaviour ...

Kind regards
Karl-Heinz Marbaise
On 4/3/14 2:25 AM, Mark Eggers wrote:
> Folks,
>
> I've gotten my classifier artifact to build and install in our local
> repository. Specifying the classifier gets the appropriate artifact, and
> removing the classifier gets the [other] appropriate artifact.
>
> Now I'm a bit paranoid that the artifact with the classifier will leak
> out into other releases, so I thought I would write an enforcer rule.
>
> I thought that the following would work:
>
> <bannedDependencies>
>      <excludes>
>          <exclude>org.mdeggers:*:*:*:*:DEBUG</exclude>
>      </excludes>
> </bannedDependencies>
>
> based on:
>
> http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html
>
> While this certainly blocked the following dependency:
>
> <dependency>
>      <groupId>org.mdeggers</groupId>
>      <artifactId>SampleBuild</artifactId>
>      <version>1.5</version>
>      <type>war</type>
>      <classifier>DEBUG</classifier>
> </dependency>
>
> with the message:
> Found Banned Dependency: org.mdeggers:SampleBuild:war:DEBUG:1.5
>
> It also blocked the following dependency:
>
> <dependency>
>      <groupId>org.mdeggers</groupId>
>      <artifactId>SampleBuild</artifactId>
>      <version>1.5</version>
>      <type>war</type>
> </dependency>
>
> with the message:
> Found Banned Dependency: org.mdeggers:SampleBuild:war:1.5
>
> This I did not expect. The messages are also a bit suspect in that they
> don't match the pattern given in the documentation.
>
> I looked on JIRA and found the following (based on another thread):
>
> http://jira.codehaus.org/browse/MENFORCER-74
> http://jira.codehaus.org/browse/MENFORCER-75
> http://jira.codehaus.org/browse/MENFORCER-72
>
> These are all closed with a 'fixed' designation for release 1.3.
>
> I'm using version 1.3.1
>
> However, I briefly looked at the code here:
>
> http://svn.apache.org/viewvc/maven/enforcer/tags/enforcer-1.3.1/enforcer-rules/src/main/java/org/apache/maven/plugins/enforcer/BannedDependencies.java?revision=1502671&view=markup
>
>
> and classifier does not seem to have made it in.
>
> Have I walked through this correctly? If so, is there a fix (other than
> not using classifiers, or just hoping that a DEBUG classifier doesn't
> make it into a release)?
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


