From users-return-136150-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Apr 15 09:31:12 2014
Return-Path: <users-return-136150-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C73FD113DB
	for <apmail-maven-users-archive@www.apache.org>; Tue, 15 Apr 2014 09:31:12 +0000 (UTC)
Received: (qmail 2974 invoked by uid 500); 15 Apr 2014 09:31:08 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 2743 invoked by uid 500); 15 Apr 2014 09:31:08 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 52381 invoked by uid 99); 15 Apr 2014 09:19:40 -0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fmueller@sapient.com designates 12.130.39.220 as permitted sender)
From: Frank Mueller <fmueller@sapient.com>
To: "nexus-user@sonatype.org" <nexus-user@sonatype.org>, maven users
	<users@maven.apache.org>
Subject: RE: [nexus-user] Why are alternate repositories so hard to configure
Thread-Topic: [nexus-user] Why are alternate repositories so hard to
 configure
Thread-Index: AQHPWFj0cXKTo7aBr0OckYtBVdWGEpsSVouw
Date: Tue, 15 Apr 2014 09:19:12 +0000
Message-ID: <8AAE21D1593B4840B3BA95CF1BE5D5CA010FC1FF@NAMAIL01.sapient.com>
References: <534CA422.1080408@gmail.com>
In-Reply-To: <534CA422.1080408@gmail.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.134.61.7]
Content-Type: multipart/alternative;
	boundary="_000_8AAE21D1593B4840B3BA95CF1BE5D5CA010FC1FFNAMAIL01sapient_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_8AAE21D1593B4840B3BA95CF1BE5D5CA010FC1FFNAMAIL01sapient_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Do you have anonymous access enabled in you Nexus instance?

You did not have any credentials in your (I assume) settings.xml.

The problem with the apache.org repo might be caused by missing the Pluginr=
epo configuration. Maybe try something like the following:

-------------------------[snip]------------------------
  <profiles>
    <profile>
      <id>nexus</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <repositories>
        <repository>
          <id>central</id>
          <url>http://central</url>
          <releases><enabled>true</enabled></releases>
          <snapshots><enabled>true</enabled></snapshots>
        </repository>
      </repositories>
      <pluginRepositories>
        <pluginRepository>
          <id>central</id>
          <url>http://central</url>
          <releases><enabled>true</enabled></releases>
          <snapshots><enabled>true</enabled></snapshots>
        </pluginRepository>
      </pluginRepositories>
    </profile>
  </profiles>
  <mirrors>
    <mirror>
      <id>nexus</id>
      <mirrorOf>central</mirrorOf>
      <url>https://your.nexus.url/content/groups/public</url>
    </mirror>
  </mirrors>
-------------------------[snap]------------------------

Regarding the download problems, do you have added the repository to the pu=
blic group?`

Best regards

Frank


From: Eric Kolotyluk [mailto:eric.kolotyluk@gmail.com]
Sent: Tuesday, April 15, 2014 5:15 AM
To: maven users; nexus-user@sonatype.org
Subject: [nexus-user] Why are alternate repositories so hard to configure

I have the following

      <repositories>
        <repository>
            <id>sonatype</id>
            <name>Sonatype Maven OSS Repository</name>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
            <url>https://oss.sonatype.org/content/groups/public</url>
        </repository>
      </repositories>

But when I run maven I get

[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3=
.3:site (default-site) on project csharp-windows-elevate: Execution default=
-site of goal org.apache.maven.plugins:maven-site-plugin:3.3:site failed: P=
lugin org.apache.maven.plugins:maven-site-plugin:3.3 or one of its dependen=
cies could not be resolved: Could not find artifact net.trajano.wagon:wagon=
-git:jar:1.0.1-SNAPSHOT in apache.snapshots (http://repository.apache.org/s=
napshots) -> [Help 1]

Why in the world is it looking in http://repository.apache.org/snapshots ??=
?

So, then I configure nexus to mirror https://oss.sonatype.org/content/group=
s/public and I add to my settings.xml

  <mirrors>
    <mirror>
      <id>nexus</id>
      <mirrorOf>*</mirrorOf>
      <url>http://localhost:8081/nexus/content/groups/public</url>
    </mirror>
  </mirrors>

and then I get

[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3=
.3:site (default-site) on project csharp-windows-elevate: Execution default=
-site of goal org.apache.maven.plugins:maven-site-plugin:3.3:site failed: P=
lugin org.apache.maven.plugins:maven-site-plugin:3.3 or one of its dependen=
cies could not be resolved: Could not find artifact net.trajano.wagon:wagon=
-git:jar:1.0.1-SNAPSHOT in nexus (http://localhost:8081/nexus/content/group=
s/public) -> [Help 1]

I know this to be a lie because when I go through the nexus UI I can clearl=
y see the artifact in question in both the nexus index and storage. However=
, for some reason, the artifact pom.xml is neither in the index nor storage=
. When I go to https://oss.sonatype.org/content/groups/public/net/trajano/w=
agon/wagon-git/1.0.1-SNAPSHOT/ I can clearly see the pom.xml with the other=
 files that nexus has downloaded. Why is nexus refusing to download the pom=
.xml?

Cheers, Eric



--_000_8AAE21D1593B4840B3BA95CF1BE5D5CA010FC1FFNAMAIL01sapient_--

