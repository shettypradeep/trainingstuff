From users-return-136172-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Apr 17 14:30:43 2014
Return-Path: <users-return-136172-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD74410B71
	for <apmail-maven-users-archive@www.apache.org>; Thu, 17 Apr 2014 14:30:43 +0000 (UTC)
Received: (qmail 85825 invoked by uid 500); 17 Apr 2014 14:30:39 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 85750 invoked by uid 500); 17 Apr 2014 14:30:39 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 85739 invoked by uid 99); 17 Apr 2014 14:30:38 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Apr 2014 14:30:38 +0000
Received: from localhost (HELO mail-we0-f172.google.com) (127.0.0.1)
  (smtp-auth username mgrigorov, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Apr 2014 14:30:38 +0000
Received: by mail-we0-f172.google.com with SMTP id t61so523040wes.17
        for <users@maven.apache.org>; Thu, 17 Apr 2014 07:30:36 -0700 (PDT)
X-Received: by 10.180.89.241 with SMTP id br17mr9848988wib.0.1397745036950;
 Thu, 17 Apr 2014 07:30:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.105.74 with HTTP; Thu, 17 Apr 2014 07:29:56 -0700 (PDT)
In-Reply-To: <261E0ABE-356B-4D5D-9CFA-51338194F4B8@gmail.com>
References: <CAMomwMpRHgtE3Vhpt=aAqkfRY8WvhHq7xNPKnSGs3_-tAvMcog@mail.gmail.com>
 <72A774AB-FCEA-419B-8691-BBD71DF1FB66@gmail.com> <CAMomwMpE-EKvLhU+fnuhjtBmvO+O0=xSRxveFk0odx-Li-TLqQ@mail.gmail.com>
 <261E0ABE-356B-4D5D-9CFA-51338194F4B8@gmail.com>
From: Martin Grigorov <mgrigorov@apache.org>
Date: Thu, 17 Apr 2014 17:29:56 +0300
Message-ID: <CAMomwMrFtgAHBR5FZm9=EoFJrf4yLX2-YRfrCjNcm3Q2fjDvew@mail.gmail.com>
Subject: Re: Class loader issues after Maven 3.1.0
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f3ba93b6a02db04f73de009

--e89a8f3ba93b6a02db04f73de009
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Created http://jira.codehaus.org/browse/MNG-5620

Thank you!

Martin Grigorov
Wicket Training and Consulting


On Thu, Apr 17, 2014 at 5:24 PM, Stuart McCulloch <mcculls@gmail.com> wrote=
:

> On 17 Apr 2014, at 15:15, Martin Grigorov <mgrigorov@apache.org> wrote:
>
> > Thanks, Stuart!
> >
> > I can confirm that the issue is still there in 3.2.1.
> > Is there an open issue at http://jira.codehaus.org/browse/MNG that I ca=
n
> > follow ?
>
> I don=E2=80=99t believe so, suggest you open a new issue and refer to tha=
t
> maven-dev discussion.
>
> > Martin Grigorov
> > Wicket Training and Consulting
> >
> > On Thu, Apr 17, 2014 at 5:12 PM, Stuart McCulloch <mcculls@gmail.com>
> wrote:
> >
> >> See
> >>
> http://mail-archives.apache.org/mod_mbox/maven-dev/201402.mbox/%3cA70F13E=
F-38E2-49A8-B696-B5E59209226A@gmail.com%3eforwhy this is happening
> >>
> >> AFAICT neither of the suggested solutions mentioned in the above email
> >> have been applied to DefaultClassRealmManager, so I believe this is
> still
> >> an issue in Maven 3.2.1
> >>
> >> On 17 Apr 2014, at 14:57, Martin Grigorov <mgrigorov@apache.org> wrote=
:
> >>
> >>> Hi,
> >>>
> >>> We have troubles use 'mvn jetty:run' for
> >>> https://github.com/apache/wicket/tree/master/wicket-examples after
> >>> upgrading to Maven 3.1.0+.
> >>>
> >>> It fails with:
> >>>
> >>> 2014-04-17 16:22:57.160:WARN:oejuc.AbstractLifeCycle:FAILED
> >>> org.mortbay.jetty.plugin.JettyServer@44e5b006: java.lang.LinkageError=
:
> >>> loader constraint violation: when resolving overridden method
> >>>
> >>
> "org.jboss.weld.Weld.select(Ljavax/enterprise/util/TypeLiteral;[Ljava/lan=
g/annotation/Annotation;)Ljavax/enterprise/inject/Instance;"
> >>> the class loader (instance of
> org/eclipse/jetty/webapp/WebAppClassLoader)
> >>> of the current class, org/jboss/weld/Weld, and its superclass loader
> >>> (instance of org/codehaus/plexus/classworlds/realm/ClassRealm), have
> >>> different Class objects for the type
> >>> tion/Annotation;)Ljavax/enterprise/inject/Instance; used in the
> signature
> >>> java.lang.LinkageError: loader constraint violation: when resolving
> >>> overridden method
> >>>
> >>
> "org.jboss.weld.Weld.select(Ljavax/enterprise/util/TypeLiteral;[Ljava/lan=
g/annotation/Annotation;)Ljavax/enterprise/inject/Instance;"
> >>> the class loader (instance of
> org/eclipse/jetty/webapp/WebAppClassLoader)
> >>> of the current class, org/jboss/weld/Weld, and its superclass loader
> >>> (instance of org/codehaus/plexus/classworlds/realm/ClassRealm), have
> >>> different Class objects for the type
> >>> tion/Annotation;)Ljavax/enterprise/inject/Instance; used in the
> signature
> >>> at
> >>>
> >>
> org.jboss.weld.servlet.StaticWeldProvider$WeldSingleton.<clinit>(StaticWe=
ldProvider.java:29)
> >>> at
> >>>
> >>
> org.jboss.weld.servlet.StaticWeldProvider.getCDI(StaticWeldProvider.java:=
49)
> >>> at javax.enterprise.inject.spi.CDI.current(CDI.java:60)
> >>> at
> >>>
> >>
> org.jboss.weld.servlet.WeldInitialListener.contextInitialized(WeldInitial=
Listener.java:85)
> >>> at
> >>>
> >>
> org.jboss.weld.servlet.api.helpers.ForwardingServletListener.contextIniti=
alized(ForwardingServletListener.java:34)
> >>> at
> >>>
> >>
> org.jboss.weld.environment.servlet.Listener.contextInitialized(Listener.j=
ava:171)
> >>> at
> >>>
> >>
> org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandl=
er.java:733)
> >>> ...
> >>>
> >>> The issue is not new. We just noticed that when using 3.0.5 it runs
> fine
> >> so
> >>> it should be some change in Maven itself.
> >>>
> >>> I've found that another user had the same issue:
> >>> http://stackoverflow.com/a/18168215/497381
> >>>
> >>> How to reproduce:
> >>> 1) git clone https://github.com/apache/wicket.git
> >>> 2) mvn install (just to have all dependencies)
> >>> 3) cd wicket-examples
> >>> 4) mvn jetty:run (fails with 3.1.0+)
> >>>
> >>> Thanks!
> >>>
> >>>
> >>> Martin Grigorov
> >>> Wicket Training and Consulting
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> >> For additional commands, e-mail: users-help@maven.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--e89a8f3ba93b6a02db04f73de009--

