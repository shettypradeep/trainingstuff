From users-return-136134-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Apr 14 11:29:10 2014
Return-Path: <users-return-136134-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E8F811766
	for <apmail-maven-users-archive@www.apache.org>; Mon, 14 Apr 2014 11:29:10 +0000 (UTC)
Received: (qmail 52115 invoked by uid 500); 14 Apr 2014 11:29:06 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 51455 invoked by uid 500); 14 Apr 2014 11:29:05 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 51446 invoked by uid 99); 14 Apr 2014 11:29:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Apr 2014 11:29:04 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of delbertum@gmail.com does not designate 216.139.236.26 as permitted sender)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Apr 2014 11:28:59 +0000
Received: from [192.168.236.26] (helo=sam.nabble.com)
	by sam.nabble.com with esmtp (Exim 4.72)
	(envelope-from <delbertum@gmail.com>)
	id 1WZf41-0002Lz-MZ
	for users@maven.apache.org; Mon, 14 Apr 2014 04:28:37 -0700
Date: Mon, 14 Apr 2014 04:28:37 -0700 (PDT)
From: delbert <delbertum@gmail.com>
To: users@maven.apache.org
Message-ID: <1397474917687-5791282.post@n5.nabble.com>
Subject: Do not substitute ${revision} when performing a release
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Using maven 3.2.1

I have a project where I include a property in the versions tag:

	<groupId>com.test</groupId>
	<artifactId>sample-project</artifactId>
	<version>1.1.0-${revision}-SNAPSHOT</version>

	<properties>
		<revision>xyz</revision>
	</properties>


Now when I release this project I would like to keep the parameter:
${revision} un-substituted in the version tag. As an example:

mvn release:prepare -DreleaseVersion=2.0.0
-DdevelopmentVersion=2.0.1-${revision}-SNAPSHOT -Dtag=sample-project-2.0.0

should result in:

	<groupId>com.test</groupId>
	<artifactId>sample-project</artifactId>
	<version>2.0.1-${revision}-SNAPSHOT</version>

	<properties>
		<revision>xyz</revision>
	</properties>

But right now it instead ends up like this

	<groupId>com.test</groupId>
	<artifactId>sample-project</artifactId>
	<version>2.0.1--SNAPSHOT</version>
        <properties>
		<revision>xyz</revision>
	</properties>

Is there anyway to pass a variable in the version that is not substituted
when performing a release?



--
View this message in context: http://maven.40175.n5.nabble.com/Do-not-substitute-revision-when-performing-a-release-tp5791282.html
Sent from the Maven - Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


