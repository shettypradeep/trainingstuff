From users-return-137278-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sat Sep 13 11:52:34 2014
Return-Path: <users-return-137278-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B501D11A41
	for <apmail-maven-users-archive@www.apache.org>; Sat, 13 Sep 2014 11:52:34 +0000 (UTC)
Received: (qmail 18563 invoked by uid 500); 13 Sep 2014 11:52:33 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 18477 invoked by uid 500); 13 Sep 2014 11:52:33 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 18465 invoked by uid 99); 13 Sep 2014 11:52:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Sep 2014 11:52:32 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of saurav.sarkar1@gmail.com designates 209.85.216.180 as permitted sender)
Received: from [209.85.216.180] (HELO mail-qc0-f180.google.com) (209.85.216.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Sep 2014 11:52:05 +0000
Received: by mail-qc0-f180.google.com with SMTP id m20so752262qcx.25
        for <users@maven.apache.org>; Sat, 13 Sep 2014 04:52:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=lgVVswbD5SSV/RUXFSIY+fgwMxSE1HcjN2pB3iTW7Fg=;
        b=A1sxXPIu2WLKf1tytCuA9jY0atAjiIJHy+osgR7Zrz312Mzp8hdSu5blET6bKbStK2
         viYo07fymmmwXKpY4Wdwh2gOG8moE5Yw6uIOE8yFK+oOQ/z7UJ/SXxeGu8kGZ54sTEQC
         E8dqKkEzSHnYebCE4HZntwvKMKUCCntIu5t2YE76RL14vUjqNqdbhqLrlMf9goljnwDP
         1igySlAUZwHPLAbSir+pIdFUbyHZO8qDroDFLpcDl0uvbpNzvq7AcKv9XP9QlaIRpsPq
         K6h9pIlePJtV2tC6BGcSSYRoPk/oCZ3SoXOner+UxWO0sFgwqbA96zfqMGvdidxyrpIH
         WtqQ==
MIME-Version: 1.0
X-Received: by 10.229.67.69 with SMTP id q5mr20750579qci.25.1410609124126;
 Sat, 13 Sep 2014 04:52:04 -0700 (PDT)
Received: by 10.96.246.69 with HTTP; Sat, 13 Sep 2014 04:52:04 -0700 (PDT)
Date: Sat, 13 Sep 2014 17:22:04 +0530
Message-ID: <CAP+kwAVcLAWu9HTFiVdG1BOjg_0zOc5Ac=-Jjxwa2Md7Ln_3BQ@mail.gmail.com>
Subject: Maven clean plugin not deleting file
From: Saurav Sarkar <saurav.sarkar1@gmail.com>
To: users@maven.apache.org
Content-Type: multipart/alternative; boundary=001a11c308ecc2b48d0502f10708
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c308ecc2b48d0502f10708
Content-Type: text/plain; charset=UTF-8

Hi All,

I have two files in my directory like this:

   - a.b.so
   - a.so

I want to delete only a.b.so.

So here is my Maven clean plugin entry in my pom.xml file:

<plugin>
<artifactId>maven-clean-plugin</artifactId>
<executions>
  <execution>
    <id>auto-clean</id>
    <phase>prepare-package</phase>
    <goals>
      <goal>clean</goal>
    </goals>
    <configuration>
    <excludeDefaultDirectories>true</excludeDefaultDirectories>
     <filesets>
        <fileset>
      <directory>${project.build.directory}/libs/x86</directory>
      <includes>
        <include>*.so</include>
      </includes>
      <excludes>
       <exclude>a.so</exclude>
      <excludes>
       <followSymlinks>false</followSymlinks>
    </fileset>
      </filesets>
      <verbose>true</verbose>
    </configuration>
  </execution>
</executions>

Just for some backgorund of this, file a.b.so gets downloaded as a
dependency then it gets renamed into a.so just before i execute the above
entry. I copy file using maven depedency plugin. I don't know whether this
affects the not deletion of a.b.so later on or not.

In turn it always delete a.so. Even I tried including **/*, but it deletes
a.so every time.

It never deletes a.b.so.

cheers,

Saurav

--001a11c308ecc2b48d0502f10708--

