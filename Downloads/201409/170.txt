From users-return-137172-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Sep  1 02:20:02 2014
Return-Path: <users-return-137172-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61EBD11CB9
	for <apmail-maven-users-archive@www.apache.org>; Mon,  1 Sep 2014 02:20:02 +0000 (UTC)
Received: (qmail 54320 invoked by uid 500); 1 Sep 2014 02:20:00 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 54234 invoked by uid 500); 1 Sep 2014 02:20:00 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 91105 invoked by uid 99); 29 Aug 2014 06:46:29 -0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vijaysenthil@gmail.com designates 209.85.213.182 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=+4I+jdiRZWzyZD1QHlcdxGDxpTl4i7KRMRrW8/yIw9c=;
        b=AznG3I2iBucxVfGoSPuatJcWZ+e/ZpBoAn1mDub2yfEbvIxJUMV78VkHR7bqWm89mv
         qfnOu5QO7WBlQkX8dbeA6QLnr34FmJqxIWldVpvUrKr5jEvebrGkJteZRA16f4rc3xBY
         fzDK0FA6vaQ8dotQSH2KNYlXKx+gluCIrvJTtP3R/mGgR36WffI6gOjIAJFNCYa5x6Oe
         PL3RYTpF6NnomagtXZE4CRsiBDNeQZRwRsfQJK2uu06EeLW8Vjim1M+EaWg7OVDVFPQi
         /p2cwX+hkTJJfj9JbC1JPpK4zmNKX1JSkxMh1qmbv62h0PVZG1MFpu0Eev6gnL/FxBvv
         J71Q==
MIME-Version: 1.0
X-Received: by 10.50.61.195 with SMTP id s3mr1787904igr.29.1409294763673; Thu,
 28 Aug 2014 23:46:03 -0700 (PDT)
Date: Thu, 28 Aug 2014 23:46:03 -0700
Message-ID: <CAPiiJArdUGRs0203qhfE54t8tkT1Ng55EexoqsG=1dUkLC_tOw@mail.gmail.com>
Subject: Maven Release Plugin and Java 8 issue
From: Vijaysenthil Veeriah <vijaysenthil@gmail.com>
To: users@maven.apache.org
Content-Type: multipart/alternative; boundary=047d7bdc05f2c5cd220501bf01e6
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bdc05f2c5cd220501bf01e6
Content-Type: text/plain; charset=UTF-8

Hi
  I apologize I'm kind of new to maven and I cant figure out how  get the
Maven Release plugin to work for a Java 8 project.  I'm using  version 2.5
(The maven compiler version is 3.1) . When i just use the compiler plugin
and do a compile it works in fact i can use most of the other plugins like
deploy etc but when i try to use the maven release plugin it get the
following error, I'm running this in IntelliJ and the java_home and Maven
runner are all configured to use 1.8, Also like i said if i directly
execute the maven compiler plugin, it works fine


Any help is greatly appreciated
Thanks
Vijay



The info the is spitted out Before the run

/Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home/bin/java
-Dmaven.home=/usr/share/apache-maven-3.2.2
-Dclassworlds.conf=/usr/share/apache-maven-3.2.2/bin/m2.conf
-Didea.launcher.port=7547 "-Didea.launcher.bin.path=/Applications/IntelliJ
IDEA 13.app/bin" -Dfile.encoding=UTF-8 -classpath
"/usr/share/apache-maven-3.2.2/boot/plexus-classworlds-2.5.1.jar:/Applications/IntelliJ
IDEA 13.app/lib/idea_rt.jar" com.intellij.rt.execution.application.AppMain
org.codehaus.classworlds.Launcher -Didea.version=13.1.3 -e -X
release:prepare -DdryRun=true
Apache Maven 3.2.2 (45f7c06d68e745d05611f7fd14efb6594181933e;
2014-06-17T06:51:42-07:00)
*Maven home: /usr/share/apache-maven-3.2.2*
*Java version: 1.8.0_05, vendor: Oracle Corporation*
*Java home:
/Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home/jre*
Default locale: en_US, platform encoding: UTF-8
OS name: "mac os x", version: "10.9.4", arch: "x86_64", family: "mac"



The error



 Failed to execute goal
org.apache.maven.plugins:maven-compiler-plugin:3.1:compile
(default-compile) on project xxxx: Fatal error compiling: invalid target
release: 1.8 -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute
goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile
(default-compile) on project xxxx: Fatal error compiling
[INFO] at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)
[INFO] at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
[INFO] at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
[INFO] at
org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
[INFO] at
org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
[INFO] at
org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
[INFO] at
org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)
[INFO] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)
[INFO] at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)
[INFO] at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
[INFO] at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
[INFO] at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
[INFO] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[INFO] at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[INFO] at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[INFO] at java.lang.reflect.Method.invoke(Method.java:597)
[INFO] at
org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
[INFO] at
org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
[INFO] at
org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
[INFO] at
org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
[INFO] Caused by: org.apache.maven.plugin.MojoExecutionException: Fatal
error compiling
[INFO] at
org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:796)
[INFO] at
org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)
[INFO] at
org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)
[INFO] at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
[INFO] ... 19 more
[INFO] Caused by: org.codehaus.plexus.compiler.CompilerException: invalid
target release: 1.8
[INFO] at
org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:191)
[INFO] at
org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:169)
[INFO] at
org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:785)
[INFO] ... 22 more
[INFO] Caused by: java.lang.IllegalArgumentException: invalid target
release: 1.8
[INFO] at
com.sun.tools.javac.main.RecognizedOptions$GrumpyHelper.error(RecognizedOptions.java:75)
[INFO] at
com.sun.tools.javac.main.RecognizedOptions$14.process(RecognizedOptions.java:380)
[INFO] at
com.sun.tools.javac.api.JavacTool.processOptions(JavacTool.java:247)
[INFO] at com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:207)
[INFO] at com.sun.tools.javac.api.JavacTool.getTask(JavacTool.java:53)
[INFO] at
org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:115)
[INFO] ... 24 more
[INFO] [ERROR]
[INFO] [ERROR]
[INFO] [ERROR] For more information about the errors and possible
solutions, please read the following articles:
[INFO] [ERROR] [Help 1]
http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
[INFO]
------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO]
------------------------------------------------------------------------
[INFO] Total time: 2.604 s
[INFO] Finished at: 2014-08-28T18:51:53-07:00
[INFO] Final Memory: 7M/305M
[INFO]
------------------------------------------------------------------------
[ERROR] Failed to execute goal
org.apache.maven.plugins:maven-release-plugin:2.5:prepare (default-cli) on
project xxxx: Maven execution failed, exit code: '1' -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute
goal org.apache.maven.plugins:maven-release-plugin:2.5:prepare
(default-cli) on project xxxx: Maven execution failed, exit code: '1'
 at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)
at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
 at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
at
org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
 at
org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
at
org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
 at
org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)
at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)
 at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)
at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
 at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:483)
 at
org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
at
org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
 at
org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
 at org.codehaus.classworlds.Launcher.main(Launcher.java:46)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 at java.lang.reflect.Method.invoke(Method.java:483)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)
Caused by: org.apache.maven.plugin.MojoExecutionException: Maven execution
failed, exit code: '1'
at
org.apache.maven.plugins.release.PrepareReleaseMojo.prepareRelease(PrepareReleaseMojo.java:281)
 at
org.apache.maven.plugins.release.PrepareReleaseMojo.execute(PrepareReleaseMojo.java:232)
at
org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)
 at
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
... 25 more
Caused by: org.apache.maven.shared.release.ReleaseExecutionException: Maven
execution failed, exit code: '1'
 at
org.apache.maven.shared.release.phase.AbstractRunGoalsPhase.execute(AbstractRunGoalsPhase.java:89)
at
org.apache.maven.shared.release.phase.RunPrepareGoalsPhase.execute(RunPrepareGoalsPhase.java:44)
 at
org.apache.maven.shared.release.phase.RunPrepareGoalsPhase.simulate(RunPrepareGoalsPhase.java:57)
at
org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:228)
 at
org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:169)
at
org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:146)
 at
org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:107)
at
org.apache.maven.plugins.release.PrepareReleaseMojo.prepareRelease(PrepareReleaseMojo.java:277)
 ... 28 more
Caused by: org.apache.maven.shared.release.exec.MavenExecutorException:
Maven execution failed, exit code: '1'
at
org.apache.maven.shared.release.exec.InvokerMavenExecutor.executeGoals(InvokerMavenExecutor.java:394)
 at
org.apache.maven.shared.release.exec.AbstractMavenExecutor.executeGoals(AbstractMavenExecutor.java:110)
at
org.apache.maven.shared.release.phase.AbstractRunGoalsPhase.execute(AbstractRunGoalsPhase.java:81)
 ... 35 more
[ERROR]
[ERROR]
[ERROR] For more information about the errors and possible solutions,
please read the following articles:
[ERROR] [Help 1]
http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException

--047d7bdc05f2c5cd220501bf01e6--

