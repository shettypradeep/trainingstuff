From users-return-137214-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Sep  8 17:57:04 2014
Return-Path: <users-return-137214-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E1471109D
	for <apmail-maven-users-archive@www.apache.org>; Mon,  8 Sep 2014 17:57:04 +0000 (UTC)
Received: (qmail 29990 invoked by uid 500); 8 Sep 2014 17:57:02 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 29911 invoked by uid 500); 8 Sep 2014 17:57:02 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 29896 invoked by uid 99); 8 Sep 2014 17:57:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Sep 2014 17:57:02 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of John.E.Gregg@wellsfargo.com designates 167.138.239.98 as permitted sender)
Received: from [167.138.239.98] (HELO mxdcmx01e.wellsfargo.com) (167.138.239.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Sep 2014 17:56:55 +0000
Received: from mxidlv04.wellsfargo.com (mxidlv04.wellsfargo.com [162.101.156.102])
	by mxdcmx01e.wellsfargo.com (Sentrion-MTA-4.3.1/Sentrion-MTA-4.3.1) with ESMTP id s88HuJQW032350
	for <users@maven.apache.org>; Mon, 8 Sep 2014 17:56:33 GMT
Received: from mxidlv03.wellsfargo.com (mxidlv03.wellsfargo.com [162.101.146.199])
	by mxidlv04.wellsfargo.com (postmaster@wellsfargo.com) with SMTP id CA.87.15854.ECDED045; Mon,  8 Sep 2014 17:56:30 +0000 (GMT)
X-AuditID: a2659c66-f79096d000003dee-f5-540dedced05b
Received: from mxicmx01.wellsfargo.com (mxicmx01.wellsfargo.com [162.102.137.58])
	by mxidlv03.wellsfargo.com (postmaster@wellsfargo.com) with SMTP id 9D.51.26060.DCDED045; Mon,  8 Sep 2014 17:56:30 +0000 (GMT)
Received: from MSGEXSV27121.ent.wfb.bank.corp (msgexsv27121.wellsfargo.com [162.101.144.46])
	by mxicmx01.wellsfargo.com (Sentrion-MTA-4.3.1/Sentrion-MTA-4.3.1) with ESMTP id s88HuIIr025230
	for <users@maven.apache.org>; Mon, 8 Sep 2014 17:56:28 GMT
Received: from MSGEXSV24101.ent.wfb.bank.corp (162.101.228.40) by
 MSGEXSV27121.ent.wfb.bank.corp (162.101.144.46) with Microsoft SMTP Server
 (TLS) id 14.3.174.1; Mon, 8 Sep 2014 12:56:26 -0500
Received: from MSGEXSV21109.ent.wfb.bank.corp ([169.254.1.228]) by
 MSGEXSV24101.ent.wfb.bank.corp ([162.101.228.40]) with mapi id
 14.03.0174.001; Mon, 8 Sep 2014 12:56:26 -0500
From: <John.E.Gregg@wellsfargo.com>
To: <users@maven.apache.org>
Subject: nonProxyHosts not working
Thread-Topic: nonProxyHosts not working
Thread-Index: Ac/Li4toAiK54facRyyXYSZWvv873w==
Date: Mon, 8 Sep 2014 17:56:26 +0000
Message-ID: <B63D10721FE7744A8FC526A4D9DC3E1E4C4F35E1@MSGEXSV21109.ent.wfb.bank.corp>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.91.43.158]
Content-Type: multipart/alternative;
	boundary="_000_B63D10721FE7744A8FC526A4D9DC3E1E4C4F35E1MSGEXSV21109ent_"
MIME-Version: 1.0
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFnrIIsWRmVeSWpSXmKPExsWyKK3zrO75t7whBm92qlo82nqd0YHRo/2p
	UABjlKJNSmpOZllqkb6dTVJlQWJxsW5ymkJiTo6tUklRaaqSvl2CYsbDngWsBc16FfMa1zE3
	ML5Q72Lk5JAQMJFo/XCWBcIWk7hwbz1bFyMXh5DAFUaJhb83scEU9U34DJW4zCix5+sOKOc3
	o8TrHeeYIZwjjBLd7TOgnC2MEk2TL7J2MXJwsAkoSzxdGg4ySkRARuLUt9nsILawgJLE7COr
	mCHi6hKHv+9jhLD1JKb87QCrYRFQkfi8/DLYfbwCoRKnL78Fq2EEuvX7qTVMIDazgLjErSfz
	mSBOFZBYsuc8M4QtKvHy8T9WCFtBYsaVq8wQ9fkSM7u3M0LMFJQ4OfMJC8jNEgLT2SVWbH3H
	DguM5bunQNmSEgdX3GCZwCg5C8m+WUhmzUIyCyKuI7Fg9yc2CFtbYtnC18ww9pkDj5mQxRcw
	sq9iFM+tyEzJKTMw0StPzckpTkssSs/XS87P3cQIivnUOWk7GBs2Oh9iFOBgVOLhnZnwL1iI
	NbGsuDL3EKMpMJQmMkuJJucDE0teSbyhiYGFsaWJqZGhqaWJkjjv1IVsIUIC6YklqdmpqQWp
	RfFFpTmpxYcYmTg4pRoY3e+W2l1U9GUxmVr/J/pQtkp5/P27FYUbZt9clvi+WWwT3y/HYKNF
	f4O1e65Il3Cf8v5zZKvla67ky9eL1t83OZl0N8Ly53LzB9vv9ax2Epj3fYFyzdmMA93Pf6lu
	OXjz8kzeUw0nLF4LtB36vIrHOM8w+2QF97Ik5bYPOz/pvQt6soCFYX79ZyWW4oxEQy3mouJE
	AIkl6/v0AgAA
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFjrGIsWRmVeSWpSXmKPExsWyKK3TSvfcW94Qg8fn2C0ebb3O6MDo0f5U
	KIAxysUmIzUxJbVIITUvOT8lMy/dVskz2F/XwsLUUtdQSSEvMTfVVilCN9zNSdfFJ0DXxdXN
	MdQnREmhLDGnFCgT6RqspG+X4JLxsGcBa0GzXsW8xnXMDYwv1LsYOTkkBEwk+iZ8ZoOwxSQu
	3FsPZHNxCAlcZpTY83UHlPObUeL1jnPMEM4RRonu9hlQzhZGiabJF1m7GDk42ASUJZ4uDQcZ
	JSIgI3Hq22x2EFtYQEli9pFVzBBxdYnD3/cxQth6ElP+doDVsAioSHxefpkFxOYVCJU4ffkt
	WA0j0EnfT61hArGZBcQlbj2ZzwRxqoDEkj3nmSFsUYmXj/+xQtgKEjOuXGWGqM+XmNm9nRFi
	pqDEyZlPWCYwisxCMmoWkrJZSMog4joSC3Z/YoOwtSWWLXzNDGOfOfCYCVl8ASP7Kkbx3IrM
	lJwyA2O98tScnOK0xKL0fL3k/NxNjKDoTZ10fAfj/4nOhxgFOBiVeHhnJPwLFmJNLCuuzD3E
	aAoMgInMUqLJ+cAUkVcSb2hiYGFsaWFgbGZpbqQkzjt1IVuIkEB6YklqdmpqQWpRfFFpTmrx
	IUYmDk6pBsb+7QcXrLnZHaaakGVXOXM3t+v2k57LN/8XyXvOyn4gVMK11qZoSmRJUfms2EMr
	9WeV9e852HC876NnR5HcR58aqffiK7iuTj3Kuu+LMV9CifOlhAvyrTqn22eFnV+VZ+Gk4+6Q
	cPDSLuV48zqhR3FnBO5cNHxbYXsokI2RU8HGblGFafI6bSWW4oxEQy3mouJEAH4zE0zZAgAA
X-WFB-DLP-DEFAULT: YES
X-CFilter-Loop: Reflected
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_B63D10721FE7744A8FC526A4D9DC3E1E4C4F35E1MSGEXSV21109ent_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

All,

I've tried Maven 3.1.1 and 3.2.3 but can't get nonProxyHosts in settings.xm=
l to work in some cases.  I'm trying to deploy a war to Tomcat using the To=
mcat Maven plugin version 2.3.  It works fine if I set active=3Dfalse in th=
e proxy config.

I think this works:

  <proxies>
    <proxy>
      <active>true</active>
      <protocol>http</protocol>
      <host>proxy.mycompany.com</host>
      <port>80</port>
      <nonProxyHosts>*.mycompany.com</nonProxyHosts>
    </proxy>
  </proxies>

This does not:

  <proxies>
    <proxy>
      <active>true</active>
      <protocol>http</protocol>
      <host>proxy.mycompany.com</host>
      <port>80</port>
      <nonProxyHosts>localhost|*.mycompany.com</nonProxyHosts>
    </proxy>
  </proxies>

Likewise, using just localhost, my machine name, and commas instead of pipe=
s doesn't work, either.  The plugin tries to upload the war to my company's=
 proxy, which eventually responds with a 404 "The hostname "localhost" cann=
ot be found.  Please check the URL you are trying to reach to verify that i=
t is spelled correctly."

This is in the log:

[INFO] Deploying war to http://localhost:8080/coherence-extend-web
Uploading: http://localhost:8080/manager/text/deploy?path=3D%2Fcoherence-ex=
tend-web
Uploaded: http://localhost:8080/manager/text/deploy?path=3D%2Fcoherence-ext=
end-web (8409 KB at 3024.7 KB/sec)

[ERROR] Tomcat return http status error: 404, Reason Phrase: Not Found

That looks correct except the error isn't quite right because Tomcat isn't =
even being hit.  I get the same error if Tomcat isn't running.  It's the pr=
oxy server that is returning the error.

I know everything else is correct because if I set active=3Dfalse, the depl=
oy succeeds.

Thanks

John


--_000_B63D10721FE7744A8FC526A4D9DC3E1E4C4F35E1MSGEXSV21109ent_--

