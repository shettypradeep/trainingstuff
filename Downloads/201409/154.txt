From users-return-137332-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sat Sep 20 03:43:38 2014
Return-Path: <users-return-137332-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F6CB11EFC
	for <apmail-maven-users-archive@www.apache.org>; Sat, 20 Sep 2014 03:43:38 +0000 (UTC)
Received: (qmail 30640 invoked by uid 500); 20 Sep 2014 03:43:36 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 30545 invoked by uid 500); 20 Sep 2014 03:43:36 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 30348 invoked by uid 99); 20 Sep 2014 03:43:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Sep 2014 03:43:36 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of solomax666@gmail.com designates 209.85.192.172 as permitted sender)
Received: from [209.85.192.172] (HELO mail-pd0-f172.google.com) (209.85.192.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Sep 2014 03:43:31 +0000
Received: by mail-pd0-f172.google.com with SMTP id y10so1092768pdj.31
        for <users@maven.apache.org>; Fri, 19 Sep 2014 20:43:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GOXVCBDI1nHC0IvqJOEprIMjrD7thnylvRKu97vkyn4=;
        b=YqOZj6wQOYnJM/+wp+/KhxetyZWIPfvBAa4uZSvfpoLV2vfjS8vLIiiL24Li4BAeNV
         YcE84yPi13mwaph/jGzaaasIY8DJXmcYswFeBN/HGgQ1kQQ3+j+k7x6BfCdHe2vX92xY
         9ZiJgMZc12nYxIvb/1CdDENyR35Eo52bFem11hMGoYgKya6fXdZJlXYZACyUH7rSQKfS
         c5TaUzA9QkX4YP0l6RmUhTNQb2fgb4dDU6k16h8KgCPEBLRj0kkl+H7SYHP3Sw48k1K9
         Bbo1LxxHY1YHQ2l8mRLbCJ3EAmiH0djrV94XEcVfkCbbhFKmp2jkEolvu1kd4WwNkTiO
         Y7BQ==
MIME-Version: 1.0
X-Received: by 10.69.12.34 with SMTP id en2mr1168366pbd.4.1411184591314; Fri,
 19 Sep 2014 20:43:11 -0700 (PDT)
Received: by 10.66.249.97 with HTTP; Fri, 19 Sep 2014 20:43:11 -0700 (PDT)
In-Reply-To: <CADyGkNRDPUs7wW9S6_Xd+KCvAYaonL3OAHkKEiNguZbjgAGwwg@mail.gmail.com>
References: <CADyGkNRDPUs7wW9S6_Xd+KCvAYaonL3OAHkKEiNguZbjgAGwwg@mail.gmail.com>
Date: Sat, 20 Sep 2014 10:43:11 +0700
Message-ID: <CAJmbs8jMbmr-zLP=tjrGZ1KfZzCBdU-f=xMzzWHTvKHKXLXXwA@mail.gmail.com>
Subject: Re: maven-antrun-plugin questions
From: Maxim Solodovnik <solomax666@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b5d9c1b4725e50503770469
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b5d9c1b4725e50503770469
Content-Type: text/plain; charset=UTF-8

I moved OS check into ant xml file (build.xml or other)

On 20 September 2014 03:12, Dennis Gesker <dennis@gesker.com> wrote:

> Hello List:
>
> I could really use a couple of hints on this plugin with regard to ant
> tasks within execution.
>
> 1. It it allowed to have two targets within an execution?
> It seems that only the last target in the execution is run:
>
>
>                    <execution>
>                         <id>item1</id>
>                         <phase>pre-clean</phase>
>                         <goals>
>                             <goal>run</goal>
>                         </goals>
>                         <configuration>
>                             <!-- This does NOT Execute -->
>                             <target name="checkOnWindows">
>                                 <condition property="isWindows"
> value="true" else="false">
>                                     <os family="windows" />
>                                 </condition>
>                                 <echo>${isWindows}</echo>
>                             </target>
>                             <!-- This DOES Execute -->
>                             <target name="checkOnUnix">
>                                 <condition property="isUnix" value="true"
> else="false">
>                                     <os family="unix" />
>                                 </condition>
>                                 <echo>${isUnix}</echo>
>                             </target>
>                         </configuration>
>                     </execution>
>
>
> 2. Ant tasks outside of a project (condition in this case) seem to be
> ignored or not set:
>
>                     <execution>
>                         <id>item2</id>
>                         <phase>pre-clean</phase>
>                         <goals>
>                             <goal>run</goal>
>                         </goals>
>                         <configuration>
>                             <!-- This property does not seem to set -->
>                             <condition property="isWindows" value="true"
> else="false">
>                                 <os family="windows" />
>                             </condition>
>                             <!-- This displays as executed task -->
>                             <target name="helloWorld" if="isWindows">
>                                 <!-- This is never reached -->
>                                 <echo>Hello World.</echo>
>                             </target>
>                         </configuration>
>                     </execution>
>
>
>
> I was going to try to use the <task> tags but I get a deprecated message.
> Could someone offer some insight on the above scenarios.
>
> JDK8_20, Ant_1.9.4
>
> Dennis
>



-- 
WBR
Maxim aka solomax

--047d7b5d9c1b4725e50503770469--

