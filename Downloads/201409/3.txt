From users-return-137269-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Sep 12 18:12:17 2014
Return-Path: <users-return-137269-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C5FB1131E
	for <apmail-maven-users-archive@www.apache.org>; Fri, 12 Sep 2014 18:12:17 +0000 (UTC)
Received: (qmail 26841 invoked by uid 500); 12 Sep 2014 18:12:15 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 26755 invoked by uid 500); 12 Sep 2014 18:12:15 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 26738 invoked by uid 99); 12 Sep 2014 18:12:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Sep 2014 18:12:15 +0000
X-ASF-Spam-Status: No, hits=2.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_IMAGE_ONLY_20,HTML_MESSAGE,HTML_SHORT_LINK_IMG_3,RCVD_IN_DNSWL_LOW,SPF_PASS,T_REMOTE_IMAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of burtonator2011@gmail.com designates 209.85.217.171 as permitted sender)
Received: from [209.85.217.171] (HELO mail-lb0-f171.google.com) (209.85.217.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Sep 2014 18:12:10 +0000
Received: by mail-lb0-f171.google.com with SMTP id 10so1408919lbg.30
        for <users@maven.apache.org>; Fri, 12 Sep 2014 11:11:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:from:date:message-id:subject:to:content-type;
        bh=vhWPOU4fr4xoE7AfFtZLOaw/FW0xWmlXSQEl43tVmo8=;
        b=Jiw2xS8oWQeRCvdBKsGk8JEh3TROHihC/F4AXFMcDhU5t8ecRVfWp/KKM4dYaG0klB
         VVgd1eZGM5/zFgMDzZ0W9kQHUnQc+E0i7oL06q1a7ODgHTvdaSUlkGr3BE8rcJgzC3WL
         UWASck4FcMR093wc3+3O5ucK0e8qFEDVhJvLDDr3lMZhoXAUYBiGkzRYQRPyF9CMR4gr
         p1TsKgbnjPIAqF2xTEtYFf8iXo1E5zytZLGQ9aB5KujpovF8D8DBrzovstVn3rAyyXga
         +tHfwROiidiBk2ElRCx3sRSa8qz9qXRZvZT5pBzzPcCuMSwtTa4Pm8ozhRpfFTtab+f0
         lRRw==
X-Received: by 10.112.14.199 with SMTP id r7mr10343094lbc.58.1410545509460;
 Fri, 12 Sep 2014 11:11:49 -0700 (PDT)
MIME-Version: 1.0
Sender: burtonator2011@gmail.com
Received: by 10.112.210.137 with HTTP; Fri, 12 Sep 2014 11:11:29 -0700 (PDT)
From: Kevin Burton <burton@spinn3r.com>
Date: Fri, 12 Sep 2014 11:11:29 -0700
X-Google-Sender-Auth: --FX04EMJgjqesFRNatDqpyx8Jg
Message-ID: <CAAZU44nZFW1s7_e60J+i5dARhDM_eMQRNbEREbpYaLE-3ibHYQ@mail.gmail.com>
Subject: =?UTF-8?Q?Improving_the_speed_of_=E2=80=98deploy=E2=80=99_=3F?=
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a11332fee07edcb0502e23873
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11332fee07edcb0502e23873
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

"mvn package=E2=80=9D on my code , without tests, is actually pretty fast. =
 Takes
about one minute.  (I don=E2=80=99t need the tests btw as I=E2=80=99m using=
 continuous
integration and the code is already tested).

One minute is pretty darn good=E2=80=A6

The problem is that =E2=80=98deploy=E2=80=99 takes about 7 minutes.

That=E2=80=99s kind of not fun.

I think the issue is that I=E2=80=9Dm using scpexe for my distributionManag=
ement
repository.

Any options for improving the performance here?

I think the issue is creating new SSH connections each time.  I could use
ControlPersist I think=E2=80=A6 which is an SSH feature to keep the SSH con=
nection
in the background and re-use it.

Downside: This will require me to use a custom SSH config everywhere.

Another option is to use a file:// repository which is local and then rsync
the binaries over in one pass.

Downside: kind of jacky and requires an additional step.

Any other options ?



--=20

Founder/CEO Spinn3r.com
Location: *San Francisco, CA*
blog: http://burtonator.wordpress.com
=E2=80=A6 or check out my Google+ profile
<https://plus.google.com/102718274791889610666/posts>
<http://spinn3r.com>

--001a11332fee07edcb0502e23873--

