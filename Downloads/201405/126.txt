From users-return-136347-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue May 13 06:59:34 2014
Return-Path: <users-return-136347-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D66611557
	for <apmail-maven-users-archive@www.apache.org>; Tue, 13 May 2014 06:59:34 +0000 (UTC)
Received: (qmail 66332 invoked by uid 500); 13 May 2014 06:31:33 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 66238 invoked by uid 500); 13 May 2014 06:31:33 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 66230 invoked by uid 99); 13 May 2014 06:31:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 May 2014 06:31:33 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bmathus@gmail.com designates 209.85.213.53 as permitted sender)
Received: from [209.85.213.53] (HELO mail-yh0-f53.google.com) (209.85.213.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 May 2014 06:31:29 +0000
Received: by mail-yh0-f53.google.com with SMTP id i57so4986631yha.26
        for <users@maven.apache.org>; Mon, 12 May 2014 23:31:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=Fe6Yx3NO1wsEEpYoJU5+TOKFajO6w2e9SIYvilALxlU=;
        b=iM5MgR0Qn+yiVtruowA1LQgcQ5CLaJjCf1RSObU46LZqvLof+zHHTyy+r82Zbp75TE
         wyjwmOdRSUvYxQEAOxkZXqk8ZgdM+NRlVmSCrgQF0BSDjeVECLWwdDtKGU7edcDEdCmD
         neyKfueSQLDP53NxLNkhX14bkc4ikZ0hu77mzbmn6oOuw8Lr5Owrb7iUxr6zT4RIYwtL
         obcw3TvBuD9ECrvaMU56zPUhYWzTrk1YsHRuAsg7z3qVDjFZ91SMN5DSYmonM5XTmB6v
         qOY6bfQUCuFf8O333WaFK5BRZy5pijFJjVa29WTFbGImukBPuQVxa5g6xn4Fqdz1Os4r
         F9Dg==
MIME-Version: 1.0
X-Received: by 10.236.126.43 with SMTP id a31mr843611yhi.154.1399962668746;
 Mon, 12 May 2014 23:31:08 -0700 (PDT)
Sender: bmathus@gmail.com
Received: by 10.170.207.68 with HTTP; Mon, 12 May 2014 23:31:08 -0700 (PDT)
Received: by 10.170.207.68 with HTTP; Mon, 12 May 2014 23:31:08 -0700 (PDT)
In-Reply-To: <50C340EE894D274CA932537972C07B0F01052C51@fcc.gov>
References: <50C340EE894D274CA932537972C07B0F01052C51@fcc.gov>
Date: Tue, 13 May 2014 08:31:08 +0200
X-Google-Sender-Auth: LCwIMk32s3-cqD0-cE9_2HE6S7U
Message-ID: <CANWgJS6iSDj+ASAp5DDKTVfdw1FDNF5sAX1d+O=BNyUxP-gW0A@mail.gmail.com>
Subject: Re: Truncating SCM/Git URL for tagging only
From: Baptiste Mathus <bmathus@batmat.net>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=20cf3005de6691cd8404f94235ac
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3005de6691cd8404f94235ac
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Which version of the maven release plugin are you using? I'd check with at
least 2.4.2 or 2.5 since known issues with Git have been fixed in those
versions.
Le 13 mai 2014 03:07, "Neil Hunt" <Neil.Hunt@fcc.gov> a =C3=A9crit :

> For some reason, when running maven release, it is giving me an invalid
> URL just for the tagging part of the push. For the pom.xml commit/push, i=
t
> works fine and goes to appropriate URL. See below:
>
>
>
> [INFO] Working directory: /opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent
>
> [INFO] Executing: /bin/sh -c cd "/opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent" && git commit --verbose -F
> /tmp/maven-scm-217365030.commit '/opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-services/pom.xml'
> '/opt/jenkins-home/jobs/Section 4362/workspace/section4362-webapp/pom.xml=
'
> '/opt/jenkins-home/jobs/Section 4362/workspace/section4362-static/pom.xml=
'
> pom.xml
>
> [INFO] Working directory: /opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent
> [INFO] Executing: /bin/sh -c cd "/opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent" && git symbolic-ref HEAD
> [INFO] Working directory: /opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent
> [INFO] Executing: /bin/sh -c cd "/opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent" && git push ssh://
> git@github.com/{org}/Section4362.git maven-release-test:maven-release-tes=
t
> [INFO] Working directory: /opt/jenkins-home/jobs/Section
> 4362/workspace/section4362-parent
> [INFO] Tagging release with the label section4362-parent-0.3...
> [INFO] Executing: /bin/sh -c cd "/opt/jenkins-home/jobs/Section
> 4362/workspace" && git tag -F /tmp/maven-scm-882610155.commit
> section4362-parent-0.3
> [INFO] Working directory: /opt/jenkins-home/jobs/Section 4362/workspace
> [INFO] Executing: /bin/sh -c cd "/opt/jenkins-home/jobs/Section
> 4362/workspace" && git push ssh://git@github.com/{org}section4362-parent-=
0.3
> [INFO] Working directory: /opt/jenkins-home/jobs/Section 4362/workspace
>
> You can see that for the push after the commit, it pushes to ssh://
> git@github.com/{org}/Section4362.git ({org} scrubbed by me), whereas for
> the push after the tag, it goes to ssh://git@github.com/{org} - URL
> should include /Section4362.git at the end. All my pom files specify the
> correct: scm:git:ssh://git@github.com/{org}/Section4362.git
>
> How would URL be changing for tag push and where would it get it from?
> Build is obviously failing at that step saying unable to connect to repo.
>

--20cf3005de6691cd8404f94235ac--

