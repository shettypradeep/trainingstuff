From users-return-136324-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sun May  4 04:21:47 2014
Return-Path: <users-return-136324-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1387108AC
	for <apmail-maven-users-archive@www.apache.org>; Sun,  4 May 2014 04:21:47 +0000 (UTC)
Received: (qmail 8877 invoked by uid 500); 4 May 2014 04:21:43 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 8086 invoked by uid 500); 4 May 2014 04:21:40 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 8077 invoked by uid 99); 4 May 2014 04:21:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 May 2014 04:21:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [209.85.216.177] (HELO mail-qc0-f177.google.com) (209.85.216.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 May 2014 04:21:33 +0000
Received: by mail-qc0-f177.google.com with SMTP id i17so5680345qcy.36
        for <users@maven.apache.org>; Sat, 03 May 2014 21:21:09 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:date:from:to:subject:message-id:mime-version
         :content-type:content-transfer-encoding;
        bh=mSvfUTMNsMJLUBW6yCMjQ37NcBr2k+S4Q20AoDz7RFg=;
        b=W15v+934y8gwRhDH2xbf+EX1P/tjf48ju2arVHdo8XlEBA2tkU5tqIco7qw9wNtBsk
         aAfhvnvA8w1kThG79Ud3rubir678r7ME+MEgI07te8WUo7zp3rfyt32rA0TLJQehFRih
         hcPMBUZ+q7KFUG1eWSNr8FbwpAUUKRJsYrGXTSN5IMDOnSK4F3E3WPQHJL0YRGZVozmU
         dAo8wrurh72e9ysvb/dIiSGwh/Q9JzpPglaGGZ5pZlUGbXM+37KKe28mvNG2PbG0ItAo
         iUACz+4RJ980vzMQK47ZD3rLVLpkDuzWdZBFIokACHvPbsw/oBg6w2VrWzrfn3oHHmal
         A22w==
X-Gm-Message-State: ALoCoQmJUSapqstxS7kfJnMe8k0bsFePWm6lz6zO7mvxQPlPgzokF3evtp2fcgmMjk9PF0MInjuI
X-Received: by 10.224.115.68 with SMTP id h4mr34616922qaq.35.1399177269853;
        Sat, 03 May 2014 21:21:09 -0700 (PDT)
Received: from localhost (HSI-KBW-37-209-111-144.hsi15.kabel-badenwuerttemberg.de. [37.209.111.144])
        by mx.google.com with ESMTPSA id t5sm8414289qaj.34.2014.05.03.21.21.09
        for <users@maven.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sat, 03 May 2014 21:21:09 -0700 (PDT)
Date: Sun, 4 May 2014 06:21:07 +0200
From: Bernd Eckenfels <ecki@zusammenkunft.net>
To: users@maven.apache.org
Subject: How is version:display-plugin-updates determine the super-pom
 version (wrongly?)
Message-ID: <20140504062107.00004194.ecki@zusammenkunft.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

when I create a minimal POM* and expand it with maven 3.2.1 then I see
an entry in the resulting effective pom:

      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>2.12.4</version>
        <executions>
          <execution>
            <id>default-test</id>
            <phase>test</phase>
            <goals>
              <goal>test</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

(and no plugin management enty). When I run the version:display-plugin-updates
on the same pom, it will print:

[DEBUG] [org.apache.maven.plugins:maven-surefire-plugin].version=null
[DEBUG] [org.apache.maven.plugins:maven-surefire-plugin].artifactVersion=2.4.2
[DEBUG] [org.apache.maven.plugins:maven-surefire-plugin].effectiveVersion=2.17
[DEBUG] [org.apache.maven.plugins:maven-surefire-plugin].specified=false
[DEBUG] [org.apache.maven.plugins:maven-surefire-plugin].superPom.version=2.12.4
[WARNING] The following plugins do not have their version specified:
...
[WARNING]   maven-surefire-plugin ...................... (from super-pom) 2.17

I have no idea why it tells me that the super-pom defines 2.17, is this the expected behavior? In the debug output the versions look better.

Greetings
Bernd

PS: I tested it with the following pom, settings file, empty local repo and commands:

pom.xml:
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                      http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>test</groupId>
  <artifactId>pom-test</artifactId>
  <version>0.1-SNAPSHOT</version>

</project>

empty.xml:
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0
                      http://maven.apache.org/xsd/settings-1.0.0.xsd">
	<localRepository>C:\Users\USER\.m2\default-repository</localRepository>
</settings>

$ mvn -s empty.xml versions:display-plugin-updates
$ mvn -s empty.xml help:effective-pom > pom-effective.xml

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


