From users-return-135260-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Jan 27 20:35:39 2014
Return-Path: <users-return-135260-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81BB2102F4
	for <apmail-maven-users-archive@www.apache.org>; Mon, 27 Jan 2014 20:35:39 +0000 (UTC)
Received: (qmail 25155 invoked by uid 500); 27 Jan 2014 20:35:35 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 25087 invoked by uid 500); 27 Jan 2014 20:35:35 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 25079 invoked by uid 99); 27 Jan 2014 20:35:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Jan 2014 20:35:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bdamm@silverspringnet.com designates 74.121.22.27 as permitted sender)
Received: from [74.121.22.27] (HELO it-ipdr-01.silverspringnet.com) (74.121.22.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Jan 2014 20:35:29 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AqIEAInC5lIKOQxz/2dsb2JhbABXA4QavFuBMXSCJQEBAQMBOhQwCwIBCBEEAQELFBAhEAEdCAEBBAgHBAEHFQSHUAMJwRINhVYXjHeBZSEXEYMTgRQEljuLSIMBiG5tgT0
X-IronPort-AV: E=Sophos;i="4.95,731,1384329600"; 
   d="scan'208";a="587092"
Received: from sfo-barrlb-01.silverspringnet.com (HELO mail.silverspringnet.com) ([10.57.12.115])
  by it-ipdr-01.silverspringnet.com with ESMTP/TLS/AES128-SHA; 27 Jan 2014 12:35:00 -0800
Received: from SFO-EXMB-03.silverspringnet.com ([fe80::e877:a0b0:2e8d:1b57])
 by SFO-EXCA-03.silverspringnet.com ([::1]) with mapi id 14.02.0318.004; Mon,
 27 Jan 2014 12:35:00 -0800
From: Benjamin Damm <bdamm@silverspringnet.com>
To: Maven Users List <users@maven.apache.org>
Subject: RE: Renaming site.xml or using different top-level site.xml for
 site plugin
Thread-Topic: Renaming site.xml or using different top-level site.xml for
 site plugin
Thread-Index: Ac8ZXFPQzGdATWavSdasgL0hlUt5ngBtMdIAACLz/tI=
Date: Mon, 27 Jan 2014 20:35:00 +0000
Message-ID: <5D70C45FFA36DD4385E12C1B60B499F36D3A653D@SFO-EXMB-03.silverspringnet.com>
References: <5D70C45FFA36DD4385E12C1B60B499F36D3A4CA8@SFO-EXMB-03.silverspringnet.com>,<CA+nPnMz2dDv7dSWX0Q_HW49_d7PSbtNeD1J3hzNjys7S-8xcJg@mail.gmail.com>
In-Reply-To: <CA+nPnMz2dDv7dSWX0Q_HW49_d7PSbtNeD1J3hzNjys7S-8xcJg@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.57.12.115]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks to you and Mr. Boutemy for your replies.  Let me explain a little mo=
re about what I want to do.

We have perhaps two dozen maven modules that together provide a collection =
of core services.  Together these modules are an SDK of sorts for clients. =
 I'm trying to create a structure for generated documentation; however Java=
Doc alone is not enough since we have other artifacts that make up our SDK.=
  Protobuf definitions, WSDL files, REST services, etc.  So, if an effort t=
o create reliable documentation is going to produce good results, we need a=
 mechanism that can be shared across all these modules and a model for how =
to aggregate the resulting documentation back into one SDK.

The maven site plugin seems like the perfect structure to base this effort.=
  We can take advantage of the maven build cycle and the parent pom structu=
re, we can use skins to create a consistent look and feel, and we can use e=
xisting and new plugins (e.g. JavaDoc and others) to produce "site" artifac=
ts from source.  Controlling the inherited site definition gives us a relat=
ively easy way to cross-link module output.

However, the "site" defaults and related plugins also are useful, so I want=
 to retain the ability to generate classic "site" output (e.g. test reports=
, code coverage, javadoc, findbugs).  This output is not appropriate for di=
stribution, but it's very useful for us internally.  Hence, my investigatio=
n of using profiles.  I started by redefining the site plugin's configurati=
on in the parent pom within two profiles, so that all the sub-modules got a=
ccess to those profiles without defining them individually.

If this is a maven anti-pattern, then I certainly hear that and respect tha=
t.  I wonder what other options are available?  Any ideas?

Thanks,
-Ben

--
Benjamin Damm
Silver Spring Networks
+1-650-839-4201
________________________________________
From: Stephen Connolly [stephen.alan.connolly@gmail.com]
Sent: Sunday, January 26, 2014 11:37 AM
To: Maven Users List
Subject: Re: Renaming site.xml or using different top-level site.xml for si=
te plugin

In a multimodule project you need to attach the site descriptor of parent
poms to the reactor.

Thus the site descriptor you attach will depend on your profile...

Thus you are in a maven anti-pattern (ie artifacts attached to the reactor
should not depend on the profiles active at the time)

You will likely have to find a different way, as I believe the rest if the
maven developers will agree with me that this is a bad plan, and hence
there will not be support for trying to solve your actual problem with the
technique that us giving you thus problem

HTH

Stephen

On Friday, 24 January 2014, Benjamin Damm <bdamm@silverspringnet.com> wrote=
:

> Hello Mavens,
>
> Is there a way to rename site.xml to something else?  I want to use the
> site framework to produce two "trees" of sites, each quite distinct from
> each other because they are based on two different profiles, and I was
> hoping, two different site.xml from the superpom at the top.
>
> In other words, I'm trying to achieve two trees of sites, each with a
> different site.xml at the top, but otherwise retaining the same structure
> (in terms of modules).  I also plan to use profiles to use different
> site.xml files at the module level; that part works fine already because =
I
> can repoint the entire site document structure by using siteDirectory.
>
> It's the site.xml at the very top that's giving me trouble.  No matter
> what I seem to do, I can only have one site.xml at the top of the module
> hierarchy.  Does anyone know if there's a way around this limitation?
>  Scouring the source code of the site plugin has so far not revealed
> anything.
>
> Thank you,
> -Ben
>
> --
> Benjamin Damm
> Silver Spring Networks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org <javascript:;>
> For additional commands, e-mail: users-help@maven.apache.org<javascript:;=
>
>
>

--
Sent from my phone=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


