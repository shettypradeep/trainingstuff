From users-return-135039-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Jan  9 08:44:32 2014
Return-Path: <users-return-135039-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A48CA108B6
	for <apmail-maven-users-archive@www.apache.org>; Thu,  9 Jan 2014 08:44:32 +0000 (UTC)
Received: (qmail 83637 invoked by uid 500); 9 Jan 2014 08:43:25 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 83552 invoked by uid 500); 9 Jan 2014 08:43:15 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 83053 invoked by uid 99); 9 Jan 2014 08:43:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Jan 2014 08:43:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of christofer.dutz@c-ware.de designates 213.199.154.83 as permitted sender)
Received: from [213.199.154.83] (HELO emea01-db3-obe.outbound.protection.outlook.com) (213.199.154.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Jan 2014 08:43:07 +0000
Received: from DBXPR05MB237.eurprd05.prod.outlook.com (10.242.143.147) by
 DBXPR05MB240.eurprd05.prod.outlook.com (10.242.143.154) with Microsoft SMTP
 Server (TLS) id 15.0.842.7; Thu, 9 Jan 2014 08:42:46 +0000
Received: from DBXPR05MB237.eurprd05.prod.outlook.com ([169.254.7.144]) by
 DBXPR05MB237.eurprd05.prod.outlook.com ([169.254.7.13]) with mapi id
 15.00.0842.003; Thu, 9 Jan 2014 08:42:46 +0000
From: Christofer Dutz <christofer.dutz@c-ware.de>
To: Maven Users List <users@maven.apache.org>
Subject: AW: Need advice automating a Java test suite.
Thread-Topic: Need advice automating a Java test suite.
Thread-Index: AQHPDL5K5Or5m4lpuUOHTV73Iiy3JJp8EwPO
Date: Thu, 9 Jan 2014 08:42:44 +0000
Message-ID: <ccfa55635ffd43db95e2e6055be674c2@DBXPR05MB237.eurprd05.prod.outlook.com>
References: <CAG54imaRda46pY4=aeuWPtcPCqP5jK_KumH=JbSR7GVzHPtDvA@mail.gmail.com>
In-Reply-To: <CAG54imaRda46pY4=aeuWPtcPCqP5jK_KumH=JbSR7GVzHPtDvA@mail.gmail.com>
Accept-Language: de-DE, en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [193.99.42.56]
x-forefront-prvs: 008663486A
x-forefront-antispam-report: SFV:NSPM;SFS:(10009001)(52044002)(189002)(199002)(41574002)(66066001)(74706001)(74876001)(77982001)(63696002)(79102001)(59766001)(81686001)(15975445006)(65816001)(81816001)(76796001)(76786001)(76576001)(56776001)(85306002)(551934002)(87266001)(90146001)(56816005)(83072002)(87936001)(85852003)(2656002)(83322001)(19580405001)(80976001)(19580395003)(53806001)(77096001)(74316001)(74366001)(54356001)(4396001)(46102001)(49866001)(50986001)(51856001)(47736001)(47976001)(47446002)(74482001)(54316002)(31966008)(74662001)(75402002)(81542001)(69226001)(81342001)(33646001)(92566001)(24736002);DIR:OUT;SFP:1101;SCL:1;SRVR:DBXPR05MB240;H:DBXPR05MB237.eurprd05.prod.outlook.com;CLIP:193.99.42.56;FPR:;RD:InfoNoRecords;MX:1;A:1;LANG:en;
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: c-ware.de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Todd,=0A=
=0A=
we use a combination of the cargo, antrun and surefire plugin for this. =0A=
=0A=
I dumped the pom for one of our Projects in my Confluence, so feel free to =
have a look:=0A=
https://dev.c-ware.de/confluence/display/PUBLIC/Maven+setup+for+Integration=
testing=0A=
=0A=
In general we use:=0A=
- Cargo to install/configure/deploy/start/stop the application.=0A=
- Antrun is used to Setup the Database with Default values.=0A=
- Surefire is configured to run tests ending with "IT" after starting the C=
ontainer and before stopping it again.=0A=
=0A=
Perhaps this helps.=0A=
=0A=
Chris=0A=
=0A=
________________________________________=0A=
Von: Todd Chapman <todd@chaka.net>=0A=
Gesendet: Mittwoch, 8. Januar 2014 23:08=0A=
An: users@maven.apache.org=0A=
Betreff: Need advice automating a Java test suite.=0A=
=0A=
Hello,=0A=
=0A=
We have a java multi-module project that has a somewhat painful to run test=
=0A=
suite that I would like to get under control using Maven.=0A=
=0A=
Currently it takes 5 separate Maven commands to setup, run, and teardown=0A=
all the tests and test databases. I'd like to get this down to one command.=
=0A=
Also I would like this structured so that individual parts of the process=
=0A=
can be run separately to aid in debugging problems.=0A=
=0A=
The pom has 1 profile for each part of the task, all bound to the "test"=0A=
goal:=0A=
=0A=
mvn clean test -P test-setup-1,local-enterprise-test-db  (exec:java plugin=
=0A=
to setup up a database)=0A=
mvn test -P test-setup-2,local-enterprise-test-db           (exec:java=0A=
plugin to setup up a 2nd database)=0A=
mvn test -P test-design,local-enterprise-test-db            (surefire=0A=
plugin to run a subset of the tests with maven properties set)=0A=
mvn test -P test-transactional,local-enterprise-test-db   (surefire plugin=
=0A=
to run a different subset of the tests with different maven properties set)=
=0A=
mvn test -P test-tear-down,local-enterprise-test-db        (exec:java=0A=
plugin to teardown the databases)=0A=
=0A=
=0A=
The problem I am running into is how to get this organized so that it all=
=0A=
happens with 1 command. It seems nearly unpossible.=0A=
=0A=
Can anyone offer any advice on how to accomplish this? Pointer to relevant=
=0A=
articles, blog posts, stackoverflow questions would be most appreciated.=0A=
=0A=
Thanks!=0A=
=0A=
-Todd=0A=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


