From users-return-135060-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Jan  9 19:37:30 2014
Return-Path: <users-return-135060-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5F701012F
	for <apmail-maven-users-archive@www.apache.org>; Thu,  9 Jan 2014 19:37:30 +0000 (UTC)
Received: (qmail 61866 invoked by uid 500); 9 Jan 2014 19:37:27 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 61790 invoked by uid 500); 9 Jan 2014 19:37:25 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 61782 invoked by uid 99); 9 Jan 2014 19:37:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Jan 2014 19:37:24 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.116.34 as permitted sender)
Received: from [65.55.116.34] (HELO blu0-omc1-s23.blu0.hotmail.com) (65.55.116.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Jan 2014 19:37:16 +0000
Received: from BLU172-W39 ([65.55.116.9]) by blu0-omc1-s23.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 9 Jan 2014 11:36:55 -0800
X-TMN: [8/FMdnBn6rvnXdJrd71w3Oi4LR5dDT5r]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W39D2ADF9E09868697EBF3FAEB00@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_4464958c-e1ad-4be6-9080-7f983f89ab88_"
From: Martin Gainty <mgainty@hotmail.com>
To: "users@maven.apache.org" <users@maven.apache.org>
Subject: RE: Can't set Class-Path in jar using external manifest file
Date: Thu, 9 Jan 2014 14:36:55 -0500
Importance: Normal
In-Reply-To:
 <CALy+7UnmUGfondP_tPOiDuAqkjCeZ0+0LnYzaDiXVZ7Cqw=KJA@mail.gmail.com>
References: <1389289785604-5781041.post@n5.nabble.com>
 <CALy+7UkOEawTgvAX42QZ8aiN5KPmMtMTyPKgBLCkw40ULV7PMg@mail.gmail.com>,<1389291276238-5781045.post@n5.nabble.com>,<CALy+7UnmUGfondP_tPOiDuAqkjCeZ0+0LnYzaDiXVZ7Cqw=KJA@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 09 Jan 2014 19:36:55.0998 (UTC) FILETIME=[27AAEDE0:01CF0D72]
X-Virus-Checked: Checked by ClamAV on apache.org

--_4464958c-e1ad-4be6-9080-7f983f89ab88_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

> From: waynefay@gmail.com
> Date: Thu=2C 9 Jan 2014 13:06:10 -0600
> Subject: Re: Can't set Class-Path in jar using external manifest file
> To: users@maven.apache.org
>=20
> > I have tried Java 1.6.0_32 and 1.7.0_09. They both behave the same.
>=20
> Try this:
> create a jar file that you know works with Maven
> test to be sure it works
> unzip the file
> edit the file by hand to swap those 2 lines
> zip the file back up=2C rename to .jar etc
> test with JVM
>=20
> Just remove Maven entirely from the equation. Does this work or not?
>=20
> Wayne
>=20
MG>Hi Wayne
MG>a quick and dirty test using Earls plugin configuration
MG><plugin>
       <groupId>org.apache.maven.plugins</groupId>
       <artifactId>maven-jar-plugin</artifactId>
       <version>2.2</version>
       <configuration>      =20
        <forced>true</forced>
        <archive>
          <addMavenDescriptor>false</addMavenDescriptor>
          <index>true</index>
          <manifest>
              <addDefaultImplementationEntries>true</addDefaultImplementati=
onEntries>
              <addClasspath>true</addClasspath>
              <!-- mainClass>com.compuware.istrobe.manager.centralManager.I=
SMGR</mainClass -->
          </manifest>
        </archive>
      </configuration>
     </plugin>
MG>
BASH>org.apache.maven.plugins:maven-jar-plugin:2.2:jar

MG>here is /META-INF/MANIFEST.MF that was generated
Built-By: mgainty
Build-Jdk: 1.7.0_45
Specification-Title: Maven Dependency Tree
Specification-Version: 2.1
Specification-Vendor: The Apache Software Foundation
Implementation-Title: Maven Dependency Tree
Implementation-Version: 2.1
Implementation-Vendor-Id: org.apache.maven.shared
Implementation-Vendor: The Apache Software Foundation
Class-Path: commons-logging-1.1.1.jar surefire-junit-2.6.jar surefire-
 booter-2.6.jar plexus-utils-2.0.6.jar surefire-api-2.10.jar maven-sur
 efire-common-2.12.4.jar maven-plugin-api-2.0.9.jar maven-plugin-annot
 ations-3.1.jar maven-artifact-2.0.9.jar maven-toolchain-2.0.9.jar com
 mons-lang3-3.1.jar maven-common-artifact-filters-1.3.jar maven-projec
 t-2.2.1.jar maven-settings-2.2.1.jar maven-profile-2.2.1.jar maven-mo
 del-2.2.1.jar maven-artifact-manager-2.2.1.jar wagon-provider-api-1.0
 -beta-6.jar backport-util-concurrent-3.1.jar maven-plugin-registry-2.
 2.1.jar plexus-interpolation-1.11.jar plexus-container-default-1.0-al
 pha-9-stable-1.jar classworlds-1.1-alpha-2.jar maven-repository-metad
 ata-3.0.4.jar plexus-component-annotations-1.5.5.jar aether-api-1.13.
 1.jar aether-api-0.9.0.M2.jar aether-util-0.9.0.M2.jar junit-3.8.1.jar
=20
MG>Note1: all of the target/classes were packaged into the jar
MG>Note2:the entities in 'Class-Path' are NOT in the jar
MG>For that effort I will need to build an "uber-jar"
MG>to build uber-jar (a jar with all the jars in classpath) I will need to =
implement maven-assembly-plugin
MG>with <dependencySet> specified with <includes><include>jar1.jar</include=
><include<jar2.jar></includes>
MG>http://maven.apache.org/plugins/maven-assembly-plugin/assembly.html#clas=
s_dependencySet
MG>does this help? 		 	   		  =

--_4464958c-e1ad-4be6-9080-7f983f89ab88_--

