From users-return-135292-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Jan 29 11:02:48 2014
Return-Path: <users-return-135292-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BAF2F10E37
	for <apmail-maven-users-archive@www.apache.org>; Wed, 29 Jan 2014 11:02:48 +0000 (UTC)
Received: (qmail 73843 invoked by uid 500); 29 Jan 2014 11:02:30 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 73568 invoked by uid 500); 29 Jan 2014 11:02:24 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 73282 invoked by uid 99); 29 Jan 2014 11:02:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Jan 2014 11:02:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stephen.alan.connolly@gmail.com designates 209.85.220.48 as permitted sender)
Received: from [209.85.220.48] (HELO mail-pa0-f48.google.com) (209.85.220.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Jan 2014 11:02:12 +0000
Received: by mail-pa0-f48.google.com with SMTP id kx10so1627250pab.35
        for <users@maven.apache.org>; Wed, 29 Jan 2014 03:01:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ftYeNrJnCwUfraz9zzkgdky2cxiE28/ueLkbzrNhHgQ=;
        b=rB7bG21OCnw20t7K352oO2gviMjTSAz1beNbKUDVYKSK+S6y3Lia/wLtfQZFfePgZQ
         vl3/X+UI9OxeoDSFuGySfMHSGfbLqlm71bMu8OHlvp0u2QIWCjkiuSZlua1jhkCcZclW
         K6DHTVEn+Hak+r3MBjro338ur3U0YxyxGFULQ+6KWyxI0+tjRmQh5oSTExEAFFma9m41
         snM7I09SQ8j1EHJK8sZk9mUq0jKvQe5f4HmTSHIwbt6/axzW83YHW7nava+AJ0nlb80X
         rVftsKzSgjscLpXyrCLqeREgQQm2mVHZzTRVPcUfYnSVamB12adGWxrR8sI7o9MGg2Ug
         nqCA==
MIME-Version: 1.0
X-Received: by 10.68.198.68 with SMTP id ja4mr7303188pbc.24.1390993311228;
 Wed, 29 Jan 2014 03:01:51 -0800 (PST)
Received: by 10.68.147.102 with HTTP; Wed, 29 Jan 2014 03:01:51 -0800 (PST)
In-Reply-To: <58EAA08AF8232344ADDB2E31D4996BFD5483CDFA@SMAPEXCHIDAG3.prod.ad.merc.chicago.cme.com>
References: <58EAA08AF8232344ADDB2E31D4996BFD5483CDFA@SMAPEXCHIDAG3.prod.ad.merc.chicago.cme.com>
Date: Wed, 29 Jan 2014 11:01:51 +0000
Message-ID: <CA+nPnMytiv6nsoY44ODWQtVCYp6Uqvib0xGx4gHHuQDj9=V9Qg@mail.gmail.com>
Subject: Re: dependency plugin strangeness
From: Stephen Connolly <stephen.alan.connolly@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7bd75faa33695a04f119de82
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bd75faa33695a04f119de82
Content-Type: text/plain; charset=ISO-8859-1

The crucial detail was omitted... what version of Maven?

I suspect it could be a transitive dependency with system scope causing a
bug of some sort.

Most likely if you switch to a different version of Maven the command will
work... in which case you might be able to construct a test case to prove a
regression.

Touchstone versions of Maven to try are: 2.2.1, 3.0.4/3.0.5 and 3.1.1

If you see the error on all three then it is something different... but
still an important data point.

More of the stack trace would help... ideally include a line or two above
and below... there is often crucial details therein... if you need to hide
GAV details, change the groupId's to something gibberish, e.g.
com.foobar:foo-manchu:1.0-SNAPSHOT and other dummy GAVs


On 28 January 2014 22:55, Lyons, Roy <Roy.Lyons@cmegroup.com> wrote:

> So, I tried my google-fu first - and in general my google-fu is very very
> strong...
>
> I've been fighting with this multi-module plan for some time now with the
> developer who is reporting the issue to me.  The issue manifested itself as
> part of a Sonar failure...  the funny thing is, that the failure was on a
> dependenct tree resolution that Sonar was doing - so I had him try the
> dependency plugin and perform a dependency:tree
>
> dependency tree failed us...  well, it probably isn't dependency plugin's
> fault but I am at a loss as to what it is really dying on or why.
>
> I would absolutely love it if someone saw this and said "Oh yeah, I know
> that issue.  Its a real pain.  They have XXX defined incorrectly in their
> multimodule build so the dependency plugin is in a circular dependency
> loop" (or something like that).  I have no idea if its a dependency loop,
> was just an example.
>
> I can't share the poms because its all proprietary closed source stuff
> (and I have to be careful about what is shared).  If this means that I dont
> have enough info to help, I can live with that - and will continue to plow
> forwards...  I just wanted to see if theres someone on the list who knows
> exactly what I should be looking for to help shorten my investigation time.
>
> Here's an example of what dependency:tree is complaining about.
>
>
>  mvn dependency:tree -Dverbose=true -DoutputFile=dependencies.txt -e -X
>
> urls[38] =
> file:/C:/Users/thisguysuserid/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar
> Number of foreign imports: 1
> import: Entry[import  from realm ClassRealm[maven.api, parent: null]]
> -----------------------------------------------------
>
>         at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:139)
>         at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
>         ... 19 more
> Caused by: org.apache.maven.plugin.PluginContainerException: An API
> incompatibility was encountered while executing
> org.apache.maven.plugins:maven-dependency-plugin:2.8:tree:
> java.lang.AbstractMethodError:
> org.apache.maven.shared.dependency.tree.DependencyTreeResolutionListener.manageArtifactSystemPath(Lorg/apache/maven/artifact/Artifact;Lorg/apache/maven/artifact/Artifact;)V
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--047d7bd75faa33695a04f119de82--

