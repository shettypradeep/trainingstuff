From users-return-135034-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Jan  9 00:45:02 2014
Return-Path: <users-return-135034-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9247910C9A
	for <apmail-maven-users-archive@www.apache.org>; Thu,  9 Jan 2014 00:45:02 +0000 (UTC)
Received: (qmail 54045 invoked by uid 500); 9 Jan 2014 00:45:00 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 53985 invoked by uid 500); 9 Jan 2014 00:45:00 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 53952 invoked by uid 99); 9 Jan 2014 00:44:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Jan 2014 00:44:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.116.22 as permitted sender)
Received: from [65.55.116.22] (HELO blu0-omc1-s11.blu0.hotmail.com) (65.55.116.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Jan 2014 00:44:54 +0000
Received: from BLU172-W38 ([65.55.116.9]) by blu0-omc1-s11.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 8 Jan 2014 16:44:33 -0800
X-TMN: [UlnwTAqHSuZ4wyCN7Z1W1CcJ6Fppskke]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W3899D444ABD180CA81DCD8AEB00@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_d876db80-2881-413f-b8d6-3e82319d356a_"
From: Martin Gainty <mgainty@hotmail.com>
To: "users@maven.apache.org" <users@maven.apache.org>
Subject: RE: Need advice automating a Java test suite.
Date: Wed, 8 Jan 2014 19:44:32 -0500
Importance: Normal
In-Reply-To:
 <CAG54imaRda46pY4=aeuWPtcPCqP5jK_KumH=JbSR7GVzHPtDvA@mail.gmail.com>
References:
 <CAG54imaRda46pY4=aeuWPtcPCqP5jK_KumH=JbSR7GVzHPtDvA@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 09 Jan 2014 00:44:33.0788 (UTC) FILETIME=[F6F46BC0:01CF0CD3]
X-Virus-Checked: Checked by ClamAV on apache.org

--_d876db80-2881-413f-b8d6-3e82319d356a_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable



 =20


> Date: Wed=2C 8 Jan 2014 17:08:53 -0500
> Subject: Need advice automating a Java test suite.
> From: todd@chaka.net
> To: users@maven.apache.org
>=20
> Hello=2C
>=20
> We have a java multi-module project that has a somewhat painful to run te=
st
> suite that I would like to get under control using Maven.
>=20
> Currently it takes 5 separate Maven commands to setup=2C run=2C and teard=
own
> all the tests and test databases. I'd like to get this down to one comman=
d.
> Also I would like this structured so that individual parts of the process
> can be run separately to aid in debugging problems.
>=20
> The pom has 1 profile for each part of the task=2C all bound to the "test=
"
> goal:
MG>My initial thought was to bind each profile-group to different phases
MG>that way the reactor will govern the execution order of who gets execute=
d first (mvn initialize)=2C
MG>which profile gets executed second (mvn generate-test-sources)=20
MG>and finally last profile gets executed (mvn package)
MG>the problem is you have alot of testcases to run so perhaps running a st=
ring of profiles maybe the answer
=20
MG>Profile1
> mvn clean test -P test-setup-1=2Clocal-enterprise-test-db (exec:java plug=
in
> to setup up a database)
> mvn test -P test-setup-2=2Clocal-enterprise-test-db (exec:java
> plugin to setup up a 2nd database)
MG>Profile1
=20
MG>Profile2
> mvn test -P test-design=2Clocal-enterprise-test-db (surefire
> plugin to run a subset of the tests with maven properties set)
> mvn test -P test-transactional=2Clocal-enterprise-test-db (surefire plugi=
n
> to run a different subset of the tests with different maven properties se=
t)
MG>Profile2

MG>Profile3
> mvn test -P test-tear-down=2Clocal-enterprise-test-db (exec:java
> plugin to teardown the databases)
MG>Profile3
=20
MG>Off the top of my head i would setup a 'marker file' for the successful =
completion of each Profile
MG>When marker file from Profile1 exists trigger Profile 2=20
MG>When marker file from Profile2 exists trigger Profile3
=20
MG>mvn help:active-profiles -P Profile1=2CProfile2=2CProfile3=20

>=20
> The problem I am running into is how to get this organized so that it all
> happens with 1 command. It seems nearly unpossible.
>=20
> Can anyone offer any advice on how to accomplish this? Pointer to relevan=
t
> articles=2C blog posts=2C stackoverflow questions would be most appreciat=
ed.
>=20
> Thanks!
>=20
> -Todd
MG>assuming the IDentifiers are unique (and presence of marker files are un=
ique) synchronous profile execution *should* work
 		 	   		  =

--_d876db80-2881-413f-b8d6-3e82319d356a_--

