From users-return-136573-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Jun 13 02:32:14 2014
Return-Path: <users-return-136573-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A72D8103F6
	for <apmail-maven-users-archive@www.apache.org>; Fri, 13 Jun 2014 02:32:14 +0000 (UTC)
Received: (qmail 12631 invoked by uid 500); 13 Jun 2014 02:32:11 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 12531 invoked by uid 500); 13 Jun 2014 02:32:11 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 12520 invoked by uid 99); 13 Jun 2014 02:32:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jun 2014 02:32:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [69.163.253.135] (HELO homiemail-a95.g.dreamhost.com) (69.163.253.135)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Jun 2014 02:32:09 +0000
Received: from homiemail-a95.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a95.g.dreamhost.com (Postfix) with ESMTP id 30A7F1E05C
	for <users@maven.apache.org>; Thu, 12 Jun 2014 19:31:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=rapicault.net; h=
	message-id:date:from:mime-version:to:subject:references
	:in-reply-to:content-type:content-transfer-encoding; s=
	rapicault.net; bh=ko7Ljfr8NUfe6bikJ6PI/eT7jeI=; b=j5zJIrp/vH9mvC
	CX6NrZKHm/Tp70YNJzAvo6lpqr7bVnCbQnzgkO8a34eFlcs96akj/GpRMHyAn7Rk
	Zn60xtWyWIJVtd6ulqfKCJ7Qe430S4r/HYBBkKTm5GIUcfl7ehJ6ivQUelrttk7e
	m2rlsdUkCzUl6jtxFIdm53AbG1N3E=
Received: from [192.168.2.14] (bas16-ottawa23-1242439955.dsl.bell.ca [74.14.33.19])
	(using TLSv1 with cipher DHE-RSA-AES128-SHA (128/128 bits))
	(No client certificate requested)
	(Authenticated sender: pascal@rapicault.net)
	by homiemail-a95.g.dreamhost.com (Postfix) with ESMTPSA id E7EF61E059
	for <users@maven.apache.org>; Thu, 12 Jun 2014 19:31:42 -0700 (PDT)
Message-ID: <539A628F.1050808@rapicault.net>
Date: Thu, 12 Jun 2014 22:31:43 -0400
From: Pascal Rapicault <pascal@rapicault.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.6.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: Complex Maven projects - Tutorials? Books?
References: <3B7A7BDFFD286F49A19A5B35D26E08FB0140EA5E@srvmail2.aurenz.local>
In-Reply-To: <3B7A7BDFFD286F49A19A5B35D26E08FB0140EA5E@srvmail2.aurenz.local>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

If you are really aiming at doing continuous delivery (any potential 
build can be pushed to prod), then SNAPSHOT is not a great way to deal 
with dependencies since you will not be able to exactly know what you 
ship. To avoid this, one practice is to use the build number in the 
artifact version (1.0.0-b1 or 1.0.1).
This has of course had the drawback that now you have to update the 
pom.xml of components using a specific artifact (move from build 1 to 2) 
but this also gives you greater control on the rate at which you consume 
libraries.
You may be interested in these articles:
- 
http://maven.40175.n5.nabble.com/Continuous-Delivery-and-Maven-td3245370.html
- 
http://stackoverflow.com/questions/18456111/what-is-the-maven-way-for-project-versions-when-doing-continuous-delivery

That said, if you add Artifactory to the mix, you can leverage its 
capabilities of obtaining specific versions of a SNAPSHOT through matrix 
parameters 
(https://www.jfrog.com/confluence/display/RTF/Using+Properties+in+Deployment+and+Resolution) 
quite handy. One example where this comes handy is when you split your 
build process over multiple jenkins jobs and you want to make sure that 
you use the same artifact throughout the process and this w/o blocking 
the whole "pipeline" for the whole duration of the process.

HTH

Pascal
On 12/06/2014 10:46 AM, Hohl, Gerrit wrote:
> Hello everyone, :)
>
>   
>
> I have a question which is not about a specific problem with Maven, but
> more a general question.
>
> I hope it is okay to ask this question here.
>
>   
>
> We use Maven and Jenkins for about 1.5 years now, I guess. Until now the
> Maven projects have been very simple and - let's say - very monolithic.
>
> But recently we identify more and more internal libraries in our
> products. Of course we don't want to share this libraries by
> copy-n-paste between the products - especially as we have Maven.
>
> So we started to read books, tutorials on the Internet and so on. But
> most of them only deal with simple projects. They don't cover e.g.
> versioning the build process (especially if your build process consists
> of more than just one step). They also don't cover the problems of
> developing the libraries while your developing the products which depend
> on them. Especially at the beginning your libraries will go through a
> lot of changes. A few name snapshots as a solution, but don't explain
> how you can work using them, how you can use them in your pom.xml and
> how you deal with them if you finally switch your product and/or your
> library from the snapshot state to the release state. A few also say
> that you shouldn't use snapshots at all because it will result in many
> problems (e.g. having -SNAPSHOT entries in your pom.xml). Nightly builds
> or build triggered by the SCM are also an issue here.
>
>   
>
> Does someone know a good book or tutorial which handles all of these
> issues around Maven and CI/CD in more depth?
>
>   
>
>   
>
> Regards,
>
> Gerrit
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


