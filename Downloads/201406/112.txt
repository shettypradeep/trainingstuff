From users-return-136511-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Jun  3 19:48:46 2014
Return-Path: <users-return-136511-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB09E1137F
	for <apmail-maven-users-archive@www.apache.org>; Tue,  3 Jun 2014 19:48:46 +0000 (UTC)
Received: (qmail 28793 invoked by uid 500); 3 Jun 2014 19:48:45 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 28708 invoked by uid 500); 3 Jun 2014 19:48:45 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 28698 invoked by uid 99); 3 Jun 2014 19:48:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jun 2014 19:48:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jim.garrison@nwea.org designates 165.212.64.21 as permitted sender)
Received: from [165.212.64.21] (HELO gwo1.mbox.net) (165.212.64.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Jun 2014 19:48:41 +0000
Received: from gwo1.mbox.net (localhost [127.0.0.1])
	by gwo1.mbox.net (Postfix) with ESMTP id 3gjkM466cHz18Yphw
	for <users@maven.apache.org>; Tue,  3 Jun 2014 19:48:16 +0000 (UTC)
X-USANET-Received: from gwo1.mbox.net [127.0.0.1] by gwo1.mbox.net via mtad (C8.MAIN.3.82G) 
	with ESMTP id 961sFcTWL8976Mo1; Tue, 03 Jun 2014 19:48:11 -0000
X-USANET-Routed: 5 gwsout-gwsd Q:gwsd
X-USANET-Routed: 3 gwsout-vs Q:bmvirus
X-USANET-GWS2-Tenant: nwea.org
X-USANET-GWS2-Tagid: NWEA
Received: from S1P5HUB2.EXCHPROD.USA.NET [165.212.120.254] by gwo1.mbox.net via smtad (C8.MAIN.3.96E) 
	with ESMTPS id XID547sFcTWL8245Xo1; Tue, 03 Jun 2014 19:48:11 -0000
X-USANET-Source: 165.212.120.254 OUT  jim.garrison@nwea.org S1P5HUB2.EXCHPROD.USA.NET TLS
X-USANET-MsgId: XID547sFcTWL8245Xo1
Received: from S1P5DAG3C.EXCHPROD.USA.NET ([169.254.3.187]) by
 S1P5HUB2.EXCHPROD.USA.NET ([10.120.223.32]) with mapi id 14.03.0181.006; Tue,
 3 Jun 2014 19:48:07 +0000
From: Jim Garrison <jim.garrison@nwea.org>
To: "users@maven.apache.org" <users@maven.apache.org>
Subject: Controlling order of plugin execution
Thread-Topic: Controlling order of plugin execution
Thread-Index: Ac9/X6Z/NCzFD5puS9aAU48tOhMVbQ==
Date: Tue, 3 Jun 2014 19:48:07 +0000
Message-ID: <0C723FEB5B4E5642B25B451BA57E2730A29DFF4A@S1P5DAG3C.EXCHPROD.USA.NET>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [70.98.171.2]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

I'm trying to set up a Maven build for CI/CD, and one of the requirements f=
or testing is to create, populate and tweak a database schema.

This involves interleaving various executions of maven-dependency-plugin, s=
ql-maven-plugin and exec-maven-plugin, and there aren't enough lifecycle ph=
ases *-test-[re]sources to accommodate all the steps.=20

I'd like to bind six executions as follows:

    1 maven-dependency-plugin:unpack -> generate-test-resources
    2 sql-maven-plugin:execute       -> generate-test-resources
    3 sql-maven-plugin:execute       -> generate-test-resources
    4 exec-maven-plugin:exec         -> process-test-resources
    5 exec-maven-plugin:exec         -> process-test-resources
    6 sql-maven-plugin:execute       -> process-test-resources

But this doesn't work as Maven wants to execute sql-maven-plugin (steps 2 &=
 3) before step 1 and I can't find a way to make it do things in the desire=
d sequence.

There's a bug in Jira for this http://jira.codehaus.org/browse/MNG-3522 but=
 it was closed as part of the "great Jira cleanup of 2014".

This has been an issue for several years but seems to get no attention.  I =
don't think I should be required to write my own plugin to do what should b=
e a common requirement.

Can someone explain if there's an approved way to accomplish this?=20

I know Maven is supposed to be declarative in nature, but sequencing steps =
seems like a basic requirement.  From the lack of attention, and from readi=
ng other posts in places like StackOverflow, it appears there may be a phil=
osophical objection to explicitly ordering executions.  Can someone explain=
 the reasoning for this?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


