From users-return-136586-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sun Jun 15 02:49:35 2014
Return-Path: <users-return-136586-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5138112FA
	for <apmail-maven-users-archive@www.apache.org>; Sun, 15 Jun 2014 02:49:34 +0000 (UTC)
Received: (qmail 61973 invoked by uid 500); 15 Jun 2014 02:49:33 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 61893 invoked by uid 500); 15 Jun 2014 02:49:33 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 61880 invoked by uid 99); 15 Jun 2014 02:49:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jun 2014 02:49:33 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [74.125.82.42] (HELO mail-wg0-f42.google.com) (74.125.82.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Jun 2014 02:49:26 +0000
Received: by mail-wg0-f42.google.com with SMTP id z12so4147878wgg.25
        for <users@maven.apache.org>; Sat, 14 Jun 2014 19:49:04 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=efEtWnoRVtS5VBv+mP+HYfaqDEeuu2sJ71yJJuPrLtI=;
        b=GfYHA4Hnk3izBqYYUiGtx24MucK7Hx4iWdzuL0eUYiyjlKfabQ9f+weqQLHR80P6Zh
         s2RqlmwHFYN/KoOxA7zeOpHEFRUbpYTom1MxXAdukd+s8cc3O8JHDgZHIjoPXoIW7Zh6
         D2KbOrc3GtkkGJT4/4B3NkI1/kggEh15BQZMnm0IiuY9xb67W8M16bBOWhTlqoB8chdT
         LIbwk94fMkAtnRhsgNvww2c894DHTsRipHiR+YrJAWgmaplDAa7TE9vGnDwsx+iZJTjD
         t91yuyMQQhPaM8mHv2sFnIjCTq3/LMtP9cUcWzsZdM2zNkrXdsrgfVlpTg87SOIY3Plb
         6zRw==
X-Gm-Message-State: ALoCoQnK27vm7Thzfu3PDDVL2w1K4ggP155e1xGVhop9ZNkaTZWx9pxzf3FIbJNWF8s7PeQu0AQq
MIME-Version: 1.0
X-Received: by 10.181.11.193 with SMTP id ek1mr16360864wid.15.1402800544697;
 Sat, 14 Jun 2014 19:49:04 -0700 (PDT)
Received: by 10.216.235.74 with HTTP; Sat, 14 Jun 2014 19:49:04 -0700 (PDT)
X-Originating-IP: [101.165.250.71]
Date: Sun, 15 Jun 2014 12:49:04 +1000
Message-ID: <CAEBcyzpnU08-mCEFDz5yrJD6K8UCcG6jxA6iL7sx4_Avc=Z7fQ@mail.gmail.com>
Subject: Need to resolve the dependencies for a MavenArtifact
From: William Ferguson <william.ferguson@xandar.com.au>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=f46d043bdeda286f1304fbd6f4ef
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043bdeda286f1304fbd6f4ef
Content-Type: text/plain; charset=UTF-8

I have a Mojo that needs to work with Maven 3.0.* and 3.1+

In the Mojo I have an Artifact and I need to resolve it's dependencies. How
can/should I do it?

If I can resolve the Artifact to a MavenProject then I can use
DependencyGraphBuilder (from maven-dependency-tree) to construct a graph of
the deps. But I'm struggling to make the Artifact to MavenProject
conversion happen.

I thought that If I could get a URL to the Artifact's POM file then I could
use DefaultMavenRuntime (maven-runtime) to resolve the URL into a
MavenProject. But

   1. I can't work out how to get a URL to the artifact's POM file (it
   needs to handle both reactor deps and repo deps)
   2. Even with a URL to the POM file, MavenRuntime#getProject) is
   returning null.

Can someone please point me in the right direction?
Am I even on the right path or is there a much more straight forward way of
getting the dependencies for the Artifact?

William

--f46d043bdeda286f1304fbd6f4ef--

