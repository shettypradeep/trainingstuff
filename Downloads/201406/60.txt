From users-return-136598-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Jun 16 18:33:15 2014
Return-Path: <users-return-136598-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A34051131D
	for <apmail-maven-users-archive@www.apache.org>; Mon, 16 Jun 2014 18:33:15 +0000 (UTC)
Received: (qmail 65192 invoked by uid 500); 16 Jun 2014 18:33:14 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 65121 invoked by uid 500); 16 Jun 2014 18:33:14 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 65109 invoked by uid 99); 16 Jun 2014 18:33:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jun 2014 18:33:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of northrup.james@gmail.com designates 209.85.212.173 as permitted sender)
Received: from [209.85.212.173] (HELO mail-wi0-f173.google.com) (209.85.212.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jun 2014 18:33:09 +0000
Received: by mail-wi0-f173.google.com with SMTP id cc10so4578115wib.12
        for <users@maven.apache.org>; Mon, 16 Jun 2014 11:32:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=V/c4hFCJ1mAmNMm2Gw5Rax8Em//C+15qpCWZ4dTA5h4=;
        b=XA8uc9Kd2uNqwqJX3geMJ+PXQlirfgdGjalKGa00Vv9bghsvBPeqoQjGUP7JkVvDTh
         7AWJHnL9mqiNMD0EXBwQcpgzGztSXm1FO8Y2fq+qR+L25BHZdOsMbBE9jNskNAeugoJm
         ImELWYh6Ydra40zTFcCebCeeLrpXHixMbe4wmVNbRLEuYtV5y341BBwSaQASBGEr21mx
         Y5Y3inwztUtjCpmWh74ivlg2L76x81gnV9Wc42+BJmoTPkGVOAch4W9IxL4khPobpGzH
         oiR/TSpqR6KShi5ihG0y2qqFe2s4B2lHGGvuLhKFhWKx/rTUPn/U4KqQtz46MnzumluA
         8fwA==
X-Received: by 10.180.160.205 with SMTP id xm13mr30152490wib.13.1402943568615;
 Mon, 16 Jun 2014 11:32:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.160.197 with HTTP; Mon, 16 Jun 2014 11:32:28 -0700 (PDT)
In-Reply-To: <CAEBcyzr1am4wxPbRYGmSCdfJVj-9k=tvCJGjS=doW4X2m5KN-g@mail.gmail.com>
References: <CAEBcyzpnU08-mCEFDz5yrJD6K8UCcG6jxA6iL7sx4_Avc=Z7fQ@mail.gmail.com>
 <CAEBcyzpK_1SfJ6gVWBFYVJMxDC3m0Cwvp+FvKeqpV_6puevfQA@mail.gmail.com>
 <CAPkEcwjNmhvN9ZgW4FKe+wKGwMq+=2=dL9i5xHz6GiXrqYO3uQ@mail.gmail.com> <CAEBcyzr1am4wxPbRYGmSCdfJVj-9k=tvCJGjS=doW4X2m5KN-g@mail.gmail.com>
From: james northrup <northrup.james@gmail.com>
Date: Mon, 16 Jun 2014 11:32:28 -0700
Message-ID: <CAPkEcwiOy0cqFiCTx1k=K9gGKqu389_HvX8drWUp4uX2LS7iew@mail.gmail.com>
Subject: Re: Need to resolve the dependencies for a MavenArtifact
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b62494e0c3e2c04fbf84160
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b62494e0c3e2c04fbf84160
Content-Type: text/plain; charset=UTF-8

what's not clear is how build-classpath doesn't give you the deps you want.



On Mon, Jun 16, 2014 at 1:23 AM, William Ferguson <
william.ferguson@xandar.com.au> wrote:

> Thanks James, but perhaps I wasn't clear.
>
> I need to be able to resolve the dependencies for a given artifact from
> within my Mojo (ie within my plugin). That's the problem I am trying to
> solve.
>
> William
>
>
> On Mon, Jun 16, 2014 at 5:38 PM, james northrup <northrup.james@gmail.com>
> wrote:
>
> > mvn dependency:build-classpath is tricky in my experience but i have at
> > least one script in guithub using it to launch a java service withoutr
> > maven assembly plugin or untoward grepping.
> >
> > https://github.com/jnorthrup/RelaxFactory/blob/master/bin/run.sh
> >
> >
> > On Mon, Jun 16, 2014 at 12:21 AM, William Ferguson <
> > william.ferguson@xandar.com.au> wrote:
> >
> > > Anyone?
> > >
> > >
> > > On Sun, Jun 15, 2014 at 12:49 PM, William Ferguson <
> > > william.ferguson@xandar.com.au> wrote:
> > >
> > > > I have a Mojo that needs to work with Maven 3.0.* and 3.1+
> > > >
> > > > In the Mojo I have an Artifact and I need to resolve it's
> dependencies.
> > > > How can/should I do it?
> > > >
> > > > If I can resolve the Artifact to a MavenProject then I can use
> > > > DependencyGraphBuilder (from maven-dependency-tree) to construct a
> > graph
> > > of
> > > > the deps. But I'm struggling to make the Artifact to MavenProject
> > > > conversion happen.
> > > >
> > > > I thought that If I could get a URL to the Artifact's POM file then I
> > > > could use DefaultMavenRuntime (maven-runtime) to resolve the URL
> into a
> > > > MavenProject. But
> > > >
> > > >    1. I can't work out how to get a URL to the artifact's POM file
> (it
> > > >    needs to handle both reactor deps and repo deps)
> > > >    2. Even with a URL to the POM file, MavenRuntime#getProject) is
> > > >    returning null.
> > > >
> > > > Can someone please point me in the right direction?
> > > > Am I even on the right path or is there a much more straight forward
> > way
> > > > of getting the dependencies for the Artifact?
> > > >
> > > > William
> > > >
> > >
> >
> >
> >
> > --
> > Jim Northrup  *  (408) 837-2270 *
> >
>



-- 
Jim Northrup  *  (408) 837-2270 *

--047d7b62494e0c3e2c04fbf84160--

