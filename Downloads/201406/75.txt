From users-return-136600-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Jun 16 21:55:58 2014
Return-Path: <users-return-136600-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A635111BC0
	for <apmail-maven-users-archive@www.apache.org>; Mon, 16 Jun 2014 21:55:58 +0000 (UTC)
Received: (qmail 68657 invoked by uid 500); 16 Jun 2014 21:55:57 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 68574 invoked by uid 500); 16 Jun 2014 21:55:57 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 68556 invoked by uid 99); 16 Jun 2014 21:55:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jun 2014 21:55:56 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ctrueden.wisc@gmail.com designates 209.85.128.173 as permitted sender)
Received: from [209.85.128.173] (HELO mail-ve0-f173.google.com) (209.85.128.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 16 Jun 2014 21:55:52 +0000
Received: by mail-ve0-f173.google.com with SMTP id db11so6691291veb.18
        for <users@maven.apache.org>; Mon, 16 Jun 2014 14:55:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:from:date:message-id
         :subject:to:content-type;
        bh=3Co5bjkT9TsN5g1CIZajlH/Vo5B+OGt+F0x6B0A3ERs=;
        b=gndWMucnMTRNTkPiCqkdx1jDJSckiZzUwIAKU+/I/rqTnIuAL8euLhKn/5lIPHhTjP
         FKIKT7o55Ax8lKIWir6XR9n2xUZvCCnpI5DcC60DAEe0XZKpmRftIMyDmVHzZdzlO6xP
         4W2qUgRjza7P2zbMvL53MF5F4Y8vPMpa5A1S/z68YoHzXkZc7P0O5UyzoBgkZuW1F49j
         HCZDoDz8dctlCiXIZQby82jdg4AEePD44BM4fAawh7L1/NypJug029LLLH5swL4CTPed
         z23HlCLC7WFfFMS1c2ivgdgIQZ1H3q2I4UVtAl+BS39SYwXJQvGlP6CXHNFZP0vOUacQ
         BlHQ==
X-Received: by 10.58.119.75 with SMTP id ks11mr14593394veb.20.1402955731767;
 Mon, 16 Jun 2014 14:55:31 -0700 (PDT)
MIME-Version: 1.0
Sender: ctrueden.wisc@gmail.com
Received: by 10.58.15.168 with HTTP; Mon, 16 Jun 2014 14:55:01 -0700 (PDT)
In-Reply-To: <CAEBcyzqyyB0PDqg79LpSfJ9zwp2wrnJu+vd1tJhwxU9Y5+dV9w@mail.gmail.com>
References: <CAEBcyzpnU08-mCEFDz5yrJD6K8UCcG6jxA6iL7sx4_Avc=Z7fQ@mail.gmail.com>
 <CAEBcyzpK_1SfJ6gVWBFYVJMxDC3m0Cwvp+FvKeqpV_6puevfQA@mail.gmail.com>
 <CAPkEcwjNmhvN9ZgW4FKe+wKGwMq+=2=dL9i5xHz6GiXrqYO3uQ@mail.gmail.com>
 <CAEBcyzr1am4wxPbRYGmSCdfJVj-9k=tvCJGjS=doW4X2m5KN-g@mail.gmail.com>
 <CAPkEcwiOy0cqFiCTx1k=K9gGKqu389_HvX8drWUp4uX2LS7iew@mail.gmail.com> <CAEBcyzqyyB0PDqg79LpSfJ9zwp2wrnJu+vd1tJhwxU9Y5+dV9w@mail.gmail.com>
From: Curtis Rueden <ctrueden@wisc.edu>
Date: Mon, 16 Jun 2014 16:55:01 -0500
X-Google-Sender-Auth: vGcaj949qqbxvxWQQp-Au9iS6GE
Message-ID: <CADN69y=ObJPqTSX7CpHdhUWLpfecvvXjf9Pon_H1MBbCrKUfwg@mail.gmail.com>
Subject: Re: Need to resolve the dependencies for a MavenArtifact
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a11c21fc0071a2304fbfb167a
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c21fc0071a2304fbfb167a
Content-Type: text/plain; charset=UTF-8

Hi William,

> Am I even on the right path or is there a much more straight forward
> way of getting the dependencies for the Artifact?

My naive impression, having dabbled with writing Maven plugins without
spending too much time doing it, is that there is a lot of copying and
pasting going on. Find a plugin that does close to what you want, and steal
blocks of code. As such, unfortunately, it may very well be that there is
not an especially straightforward way.

Anyway, your question reminds me of something similar (IIUC?) asked and
answered by Laird Nelson awhile back:

http://mail-archives.apache.org/mod_mbox/maven-users/201401.mbox/%3CCAHNdxu==eJv-fuX8aAuVvzrhkEAXsy=RV2AFoRZ+XuMtLkZnfw@mail.gmail.com%3E

https://github.com/ljnelson/maven-artifacts/blob/master/src/main/java/com/edugility/maven/Artifacts.java#L80

Maybe that code is helpful?

Or if not, apologies for the noise.

Regards,
Curtis


On Mon, Jun 16, 2014 at 4:40 PM, William Ferguson <
william.ferguson@xandar.com.au> wrote:

> I'm not looking for the dependencies of the current project.
> I'm looking for the dependencies of a given artifact.
>
> Perhaps I'm not reading maven-dependecy-tree:build-classpath correctly, but
> I don't see how it can be configured to provide that.
>
>
> On Tue, Jun 17, 2014 at 4:32 AM, james northrup <northrup.james@gmail.com>
> wrote:
>
> > what's not clear is how build-classpath doesn't give you the deps you
> want.
> >
> >
> >
> > On Mon, Jun 16, 2014 at 1:23 AM, William Ferguson <
> > william.ferguson@xandar.com.au> wrote:
> >
> > > Thanks James, but perhaps I wasn't clear.
> > >
> > > I need to be able to resolve the dependencies for a given artifact from
> > > within my Mojo (ie within my plugin). That's the problem I am trying to
> > > solve.
> > >
> > > William
> > >
> > >
> > > On Mon, Jun 16, 2014 at 5:38 PM, james northrup <
> > northrup.james@gmail.com>
> > > wrote:
> > >
> > > > mvn dependency:build-classpath is tricky in my experience but i have
> at
> > > > least one script in guithub using it to launch a java service
> withoutr
> > > > maven assembly plugin or untoward grepping.
> > > >
> > > > https://github.com/jnorthrup/RelaxFactory/blob/master/bin/run.sh
> > > >
> > > >
> > > > On Mon, Jun 16, 2014 at 12:21 AM, William Ferguson <
> > > > william.ferguson@xandar.com.au> wrote:
> > > >
> > > > > Anyone?
> > > > >
> > > > >
> > > > > On Sun, Jun 15, 2014 at 12:49 PM, William Ferguson <
> > > > > william.ferguson@xandar.com.au> wrote:
> > > > >
> > > > > > I have a Mojo that needs to work with Maven 3.0.* and 3.1+
> > > > > >
> > > > > > In the Mojo I have an Artifact and I need to resolve it's
> > > dependencies.
> > > > > > How can/should I do it?
> > > > > >
> > > > > > If I can resolve the Artifact to a MavenProject then I can use
> > > > > > DependencyGraphBuilder (from maven-dependency-tree) to construct
> a
> > > > graph
> > > > > of
> > > > > > the deps. But I'm struggling to make the Artifact to MavenProject
> > > > > > conversion happen.
> > > > > >
> > > > > > I thought that If I could get a URL to the Artifact's POM file
> > then I
> > > > > > could use DefaultMavenRuntime (maven-runtime) to resolve the URL
> > > into a
> > > > > > MavenProject. But
> > > > > >
> > > > > >    1. I can't work out how to get a URL to the artifact's POM
> file
> > > (it
> > > > > >    needs to handle both reactor deps and repo deps)
> > > > > >    2. Even with a URL to the POM file, MavenRuntime#getProject)
> is
> > > > > >    returning null.
> > > > > >
> > > > > > Can someone please point me in the right direction?
> > > > > > Am I even on the right path or is there a much more straight
> > forward
> > > > way
> > > > > > of getting the dependencies for the Artifact?
> > > > > >
> > > > > > William
> > > > > >
> > > > >
> > > >
> > > >
> > > >
> > > > --
> > > > Jim Northrup  *  (408) 837-2270 *
> > > >
> > >
> >
> >
> >
> > --
> > Jim Northrup  *  (408) 837-2270 *
> >
>

--001a11c21fc0071a2304fbfb167a--

