From users-return-136636-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Jun 24 12:37:15 2014
Return-Path: <users-return-136636-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04C30111FE
	for <apmail-maven-users-archive@www.apache.org>; Tue, 24 Jun 2014 12:37:15 +0000 (UTC)
Received: (qmail 42851 invoked by uid 500); 24 Jun 2014 12:37:13 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 42766 invoked by uid 500); 24 Jun 2014 12:37:13 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 42753 invoked by uid 99); 24 Jun 2014 12:37:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jun 2014 12:37:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ctrueden.wisc@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Jun 2014 12:37:10 +0000
Received: by mail-vc0-f173.google.com with SMTP id lf12so217575vcb.32
        for <users@maven.apache.org>; Tue, 24 Jun 2014 05:36:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:from:date:message-id
         :subject:to:content-type;
        bh=HKbqViLSVee/V/K6xUxBsRGVrbZ4RFYDfOPkseXJttM=;
        b=JxYm0QKjfNTkKvzq6FCYN8s0zf1XvLFXGc7I6zEkcUV3BGs+3kcjUw6ijjvVT3JVds
         Alr+4hXjGdhKOBwbNerzg/8M9T/8MpxfCx1aShwt05kApG5yOBaM6mtxpyizUtuhBf0m
         GN8mO9r0+eApzUlOKEGYw4vTlLRTbCvtIgTmVkFACsLUOVGoqBkwAN4Qua/FJQDqD4Dd
         oWQoTGkU5zSyrLC8Tws3gojHysnZkuISty9nLvOvlgvIEfxuhCvbAZ6gwDxY1OzueaOd
         bKKPdpd4EfIqAhV0uZcbE/VNOGM7miV6qIVcleP9tARcNjr43qNicqg/xM9i0PaUNThS
         yCNA==
X-Received: by 10.220.68.83 with SMTP id u19mr165018vci.52.1403613406169; Tue,
 24 Jun 2014 05:36:46 -0700 (PDT)
MIME-Version: 1.0
Sender: ctrueden.wisc@gmail.com
Received: by 10.58.165.101 with HTTP; Tue, 24 Jun 2014 05:36:15 -0700 (PDT)
In-Reply-To: <3B7A7BDFFD286F49A19A5B35D26E08FB0140ECE0@srvmail2.aurenz.local>
References: <3B7A7BDFFD286F49A19A5B35D26E08FB0140EA5D@srvmail2.aurenz.local>
 <3B7A7BDFFD286F49A19A5B35D26E08FB0140EA61@srvmail2.aurenz.local> <3B7A7BDFFD286F49A19A5B35D26E08FB0140ECE0@srvmail2.aurenz.local>
From: Curtis Rueden <ctrueden@wisc.edu>
Date: Tue, 24 Jun 2014 07:36:15 -0500
X-Google-Sender-Auth: PAjQCpzeR3jsKvSrQbGndKuLfxQ
Message-ID: <CADN69y=BHw-72TY9yN64FOFDSFL=kpxE3_fASBeqhNzrfR=+Yw@mail.gmail.com>
Subject: Re: site-deploy using wagon-ssh: User input needed
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b4149f87a0e6e04fc9436a4
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b4149f87a0e6e04fc9436a4
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Gerrit,

> I see in the Jenkins Build log that wagon-ssh keeps asking if it
> should trust the connection by showing the SSH RSA fingerprint.

Maybe your Jenkins's %USER_HOME% is simply not set as you expect?
Apparently [2], Jenkins on Windows defaults to C:\Users\[MY_USER]\.jenkins,
so maybe you need to put your known_hosts in
C:\Users\[MY_USER]\.jenkins\.ssh\known_hosts in order for it to run
properly with Jenkins?

> The easiest way would be if I would be able to specify the path of the
> known_hosts file in the settings.xml.

Looking at the relevant maven-wagon source [1], it is clear there is a
bunch of logic for managing a KnownHostsProvider (which controls where the
known_hosts data comes from). So I would be very surprised if this was not
exposed at the Maven level -- i.e., if there was not a way to configure
this in the POM somehow.

> Unfortunately wagon-ssh also doesn't show at which location it tries
> to open the known_hosts file.

Did you try with "mvn -X"? That is verbose/debug mode. If it still doesn't
echo the path, please file a JIRA issue for it:
https://jira.codehaus.org/browse/WAGON (create account at
https://xircles.codehaus.org/signup)

> Does no one of you use that wagon-ssh?

My group uses wagon-webdav-jackrabbit for artifact deploys, and we aren't
deploying our Maven sites properly yet.

Regards,
Curtis

[1]
https://github.com/apache/maven-wagon/blob/41336732524e33fa3fdc99f07b6add01=
3b23dfa7/wagon-providers/wagon-ssh/src/main/java/org/apache/maven/wagon/pro=
viders/ssh/jsch/AbstractJschWagon.java#L89

[2] http://stackoverflow.com/q/12689139


On Tue, Jun 24, 2014 at 6:42 AM, Hohl, Gerrit <g.hohl@aurenz.de> wrote:

> Hello everyone,
>
> I still having this problem. Does no one of you use that wagon-ssh? Don't
> you upload the Maven report on a web server? Or do you use simply other
> methods? If there is a better method I would be happy to know that. :)
>
> Regards,
> Gerrit
>
>
> -----Urspr=C3=BCngliche Nachricht-----
> Von: Hohl, Gerrit [mailto:g.hohl@aurenz.de]
> Gesendet: Donnerstag, 12. Juni 2014 17:40
> An: Maven Users List
> Betreff: AW: site-deploy using wagon-ssh: User input needed
>
> Hello everyone, :)
>
> okay, I tried a different approach:
>
> Instead of that <configuration> section in the settings.xml I copied my
> local know_hosts file from
>         C:\Users\[MY_USER]\.ssh\known_hosts
> to the server:
>         C:\Windows\system32\config\.ssh\known_hosts
> I read in the Internet that this folder is the folder of the system
> account which is used e.g. by Tomcat.
> And as Jenkins and Maven are executed by Tomcat, they should work on the
> same folder.
>
> Unfortunately I didn't work: I see in the Jenkins Build log that
> wagon-ssh keeps asking if it should trust the connection by showing the
> SSH RSA fingerprint. Unfortunately wagon-ssh also doesn't show at which
> location it tries to open the known_hosts file.
>
> The easiest way would be if I would be able to specify the path of the
> known_hosts file in the settings.xml. But I haven't found anything about
> a configuration parameter like that.
>
> Regards,
> Gerrit
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--047d7b4149f87a0e6e04fc9436a4--

