From users-return-136525-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Jun  4 19:16:38 2014
Return-Path: <users-return-136525-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DE0810345
	for <apmail-maven-users-archive@www.apache.org>; Wed,  4 Jun 2014 19:16:38 +0000 (UTC)
Received: (qmail 42712 invoked by uid 500); 4 Jun 2014 19:16:37 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 42631 invoked by uid 500); 4 Jun 2014 19:16:37 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 42620 invoked by uid 99); 4 Jun 2014 19:16:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jun 2014 19:16:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dantran@gmail.com designates 74.125.82.46 as permitted sender)
Received: from [74.125.82.46] (HELO mail-wg0-f46.google.com) (74.125.82.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Jun 2014 19:16:34 +0000
Received: by mail-wg0-f46.google.com with SMTP id n12so9020867wgh.5
        for <users@maven.apache.org>; Wed, 04 Jun 2014 12:16:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=3XvOSasAVahcQMo7seQwoQ3Q93xtt2XiaZOKV5u8g9c=;
        b=vNawjLcTiogeyE07asB32toPYtSoWPeuJodslt3jp0nmmy7OAhJg6uj/EOHGD1a0Dm
         Qlfks4BPJ8/a7KPoLAGfza9kMA8QbdTz9J5VgNKy3fuv3UQL9em/9Z2DCfFppJmtxu6R
         S0/VXcV7AiCSWZrHtKfgXSEI8jkgGUFR3F64q6CdrY0VKW0U4YG4JPwq/hL8tUoT/h06
         I3GXU+VWGWhR8/bRDzP5ylYSnsMMytgx9hKE/l7JRCATVcM1P2VVKA0qlOtbwTenFIY+
         YFb5FhbMHtqvDYCrH1IDjhnlv8PRpN8nh4AYuxolGU+K//Dq+m2rBc+3/AKsiBJ1OAu8
         oSCA==
MIME-Version: 1.0
X-Received: by 10.180.36.35 with SMTP id n3mr8294712wij.23.1401909370705; Wed,
 04 Jun 2014 12:16:10 -0700 (PDT)
Received: by 10.194.137.12 with HTTP; Wed, 4 Jun 2014 12:16:10 -0700 (PDT)
In-Reply-To: <0C723FEB5B4E5642B25B451BA57E2730A29E09E0@S1P5DAG3C.EXCHPROD.USA.NET>
References: <0C723FEB5B4E5642B25B451BA57E2730A29DFF4A@S1P5DAG3C.EXCHPROD.USA.NET>
	<CABLGb9wseqSagrFtUvNgc1aREcsAx=PLKdQD_5-rLAFSAOLTWA@mail.gmail.com>
	<CAPCjjnFTmb9aZO6a9W6SpmzUH5U=JaUT9qkpQ=mViabkQszOxQ@mail.gmail.com>
	<CABLGb9z40sOaRgcbmQUcxAYDcakGfUJ40QTdTes+uq9bLcDvqQ@mail.gmail.com>
	<1401896835575-5794892.post@n5.nabble.com>
	<CA+nPnMxrQp4N34xnHQgPMS6F1jjiJUCMzmsyT2ZnOoiwaWrRpA@mail.gmail.com>
	<0C723FEB5B4E5642B25B451BA57E2730A29E09E0@S1P5DAG3C.EXCHPROD.USA.NET>
Date: Wed, 4 Jun 2014 12:16:10 -0700
Message-ID: <CAPCjjnH1fUSOhwy-H0k0xhfxbgoptqPn6fjk_r66XQq84zU67Q@mail.gmail.com>
Subject: Re: Controlling order of plugin execution
From: Dan Tran <dantran@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f50309e0c5e3604fb07761d
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f50309e0c5e3604fb07761d
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

@Jim,

Does my suggestion work for you?

@Stephen

you statement is confusing, are you suggesting to combine a bunch of mojo
executions in one plugin?

-D


On Wed, Jun 4, 2014 at 12:08 PM, Jim Garrison <jim.garrison@nwea.org> wrote=
:

> > -----Original Message-----
> > From: Stephen Connolly [mailto:stephen.alan.connolly@gmail.com]
> > Sent: Wednesday, June 04, 2014 9:08 AM
> > To: Maven Users List
> > Subject: Re: Controlling order of plugin execution
> >
> > That's usually a sign that you have wandered off The Maven Way=E2=84=A2
> >
> > There are ways back onto the blessed path... they typically involve
> > writing
> > a plugin
> >
> >
> > On 4 June 2014 16:47, jhgnwea <jim.garrison@nwea.org> wrote:
> >
> > > Paul Benedict wrote
> > > > I agree with Dan. Last I check, IIRC, the order of operations of
> > plugins
> > > > is
> > > > defined by their sequential order in the POM. However, I also find
> > this a
> > > > bit problematic with inheritance -- I don't know off the top of my
> > head
> > > > what happens then.
> > >
> > > Ordering applies only for executions of a single plugin.  If you
> > need to
> > > interleave executions of two or more plugins you're out of luck.
> > Say you
> > > have two plugins, exec-maven and maven-sql, and want to run
> > >
> > >     exec-maven A1
> > >     maven-sql B1
> > >     exec-maven A2
> > >     maven-sql B2
> > >
> > > A1 and A2 will run in that order, and (B1, B2) will be ordered, but
> > you
> > > can't control which set (A or B) runs first without horribly abusing
> > the
> > > phase bindings.  And, if you have a more complex sequence with 3
> > plugins
> > > and multiple executions of each, there aren't enough available
> > phases to
> > > successfully order everything.
> > >
> > > It should be possible to bind multiple plugin executions, of
> > DIFFERENT
> > > plugins, to a single phase and deterministically specify the
> > execution
> > > order.
>
> Sorry, I disagree.  One alternative is to use antrun, but that seems like
> going backwards.  I'm really curious why there's a strong philosophical
> objection to requesting this enhancement.
>
> Is it unreasonable to suggest that "The Maven Way" is not perfect and
> might need some adjustments to handle common use-cases the original
> designers didn't foresee?
>
> Is my goal of using Maven to automate CI/CD, which can involve configurin=
g
> external resources by running various plugins in a specific sequence,
> somehow in violation of "the Maven way"?
>
> Consider the phrase "...you have wandered off The Maven Way=E2=84=A2".  I=
 can't
> tell if you intended this ironically or seriously.  If it's the latter, i=
t
> seems like you're saying is "Maven is perfect. If Maven doesn't handle yo=
ur
> use-case, then your use-case is invalid".  Is that true?
>

--e89a8f50309e0c5e3604fb07761d--

