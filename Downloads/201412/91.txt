From users-return-138093-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Dec 29 10:26:35 2014
Return-Path: <users-return-138093-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 34DF410BF2
	for <apmail-maven-users-archive@www.apache.org>; Mon, 29 Dec 2014 10:26:35 +0000 (UTC)
Received: (qmail 5006 invoked by uid 500); 29 Dec 2014 10:26:33 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 4916 invoked by uid 500); 29 Dec 2014 10:26:33 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 4890 invoked by uid 99); 29 Dec 2014 10:26:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Dec 2014 10:26:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of khmarbaise@gmx.de designates 212.227.15.19 as permitted sender)
Received: from [212.227.15.19] (HELO mout.gmx.net) (212.227.15.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Dec 2014 10:26:03 +0000
Received: from Karl-Heinzs-MacBook-Pro.local ([217.247.59.239]) by
 mail.gmx.com (mrgmx002) with ESMTPSA (Nemesis) id 0MBnvD-1Xy4zt078R-00AoqX
 for <users@maven.apache.org>; Mon, 29 Dec 2014 11:26:02 +0100
Message-ID: <54A12C3A.5000006@gmx.de>
Date: Mon, 29 Dec 2014 11:26:02 +0100
From: Karl Heinz Marbaise <khmarbaise@gmx.de>
Reply-To: info@soebes.de
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:31.0) Gecko/20100101 Thunderbird/31.3.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: Set system property by -Dxxx=xxx vs. in java source file. Why
 it does not work if setting in java source file ?
References: <CAPcmo=5tq75JvOq2YJeXfDRiTLQnxbcb6GKJbErT+HsmW=676A@mail.gmail.com>
In-Reply-To: <CAPcmo=5tq75JvOq2YJeXfDRiTLQnxbcb6GKJbErT+HsmW=676A@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:q/WHI58pdC3660lYTdZNZMpXNAjARyUXtpz5PFwKklMXyQOoHuP
 470jsiYGb1On+ZyNCrPlhgu2aomcH4dHvJvCydMGhJaF9dkaJTlG3opno575nQtFdDy/OPJ
 rE2jxR6D5tbWnfBWxdup2nalxOrD4fQWo56A56NP2nqqeXjRXuRvqkSPei3DfNqmjskW+1m
 7xAS+Sg0LrqCC4oB1JpqQ==
X-UI-Out-Filterresults: notjunk:1;
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

can you give a little bit more information like which Maven version you 
are using and what exactly you are trying to achieve ?

Do you have an example project?

Kind regards
Karl Heinz Marbaise
On 12/29/14 11:18 AM, æ?Žå“? wrote:
> Hi, I am using IBM JDK 7.1-2.0. Because SSL v3 is disabled by the JDK, so I
> need to set com.ibm.jsse2.disableSSLv3 to false to enable it when running
> some test cases.
>
> The project is managed by maven. I tried with:
>
> 1. mvn xxxx -Dcom.ibm.jsse2.disableSSLv3=false, or add
> <com.ibm.jsse2.disableSSLv3>false</com.ibm.jsse2.disableSSLv3> into
> <systemPropertyVariables> of pom.xml.
>
>    It works.
>
> 2. Modify the java source file of the test case
>     I used : String old=System.setProperty("com.ibm.jsse2.disableSSLv3",
> "false") and got the exception:
>
> Caused by: java.lang.IllegalArgumentException: Only SSLv3 was enabled while
> com.ibm.jsse2.disableSSLv3 is set to true (It should be "false" here, seems
> a JDK bug, never mind)
>          at com.ibm.jsse2.pb.a(pb.java:17)
>          at com.ibm.jsse2.pb.<init>(pb.java:7)
>          at com.ibm.jsse2.qc.setEnabledProtocols(qc.java:689)
>          at
> org.apache.flume.source.http.TestHTTPSource$DisabledProtocolsSocketFactory.createSocket(TestHTTPSource.java:514)
> <-- sc.setEnabledProtocols(protocols), sc is an instance of SSLSocket
>          at com.ibm.net.ssl.www2.protocol.https.c.afterConnect(c.java:7)
>          at com.ibm.net.ssl.www2.protocol.https.d.connect(d.java:9)
>          at
> sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1103)
>          at com.ibm.net.ssl.www2.protocol.https.b.getOutputStream(b.java:84)
>          at
> org.apache.flume.source.http.TestHTTPSource.doTestHttps(TestHTTPSource.java:392)
>          at
> org.apache.flume.source.http.TestHTTPSource.testHttpsSSLv3(TestHTTPSource.java:321)
>          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>          at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
>          at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:56)
>          at java.lang.reflect.Method.invoke(Method.java:620)
>          at
> org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
>          at
> org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
>          at
> org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
>          at
> org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
>          at
> org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:22)
>          ... 24 more
>
>     I printed the value of com.ibm.jsse2.disableSSLv3 before the line
> 514 of TestHTTPSource.java,
> and com.ibm.jsse2.disableSSLv3 is false, as expected.
>
>    It seems that com.ibm.jsse2.disableSSLv3=false do not take effect here.
> Why ???? Is it because the program gets out of TestHTTPSource.java and get
> into JDK, or something else, so the system property does not take effect ??
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


