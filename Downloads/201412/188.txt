From users-return-138060-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Dec 19 07:04:34 2014
Return-Path: <users-return-138060-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FE68CCEA
	for <apmail-maven-users-archive@www.apache.org>; Fri, 19 Dec 2014 07:04:33 +0000 (UTC)
Received: (qmail 89876 invoked by uid 500); 19 Dec 2014 07:04:32 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 89790 invoked by uid 500); 19 Dec 2014 07:04:32 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 89772 invoked by uid 99); 19 Dec 2014 07:04:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Dec 2014 07:04:31 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shailendra_01@outlook.com designates 65.54.190.12 as permitted sender)
Received: from [65.54.190.12] (HELO BAY004-OMC1S1.hotmail.com) (65.54.190.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Dec 2014 07:04:24 +0000
Received: from BAY169-W75 ([65.54.190.61]) by BAY004-OMC1S1.hotmail.com over TLS secured channel with Microsoft SMTPSVC(7.5.7601.22751);
	 Thu, 18 Dec 2014 23:03:22 -0800
X-TMN: [SDpnidBPWzmmkqLfg+1g0Q2votDc+Dvu]
X-Originating-Email: [shailendra_01@outlook.com]
Message-ID: <BAY169-W750C76E0E12567F4D01B53816B0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_406fb470-1954-4dd4-9541-cb148b007ee9_"
From: shailendra singh <shailendra_01@outlook.com>
To: "users@maven.apache.org" <users@maven.apache.org>
Subject: Creating a jar and a war from a war project
Date: Fri, 19 Dec 2014 07:03:22 +0000
Importance: Normal
In-Reply-To: <BAY169-W128B7DCDE93E03F45D4BEAD816B0@phx.gbl>
References: <BAY169-W128B7DCDE93E03F45D4BEAD816B0@phx.gbl>
MIME-Version: 1.0
X-OriginalArrivalTime: 19 Dec 2014 07:03:22.0040 (UTC) FILETIME=[E0267380:01D01B59]
X-Virus-Checked: Checked by ClamAV on apache.org

--_406fb470-1954-4dd4-9541-cb148b007ee9_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi=2C

For some reason I am struggling to =0A=
create a war and a jar from a maven war project. I want to create these two=
 artifacts from my maven war project with following requirements -

Jar=0A=
 - This should contain all the class files and dependencies of war =0A=
project. However dependencies should be copied under lib folder of this =0A=
jar and should not be in unpacked form. This part is giving me problem.

War=0A=
 - For war I simply want to have static artifacts and nothing which is =0A=
present under WEB-INF folder. I am able to achieve this using maven war =0A=
plugin.

Here is the code present under <build> tag of my pom.xml -
<build>
        <plugins>
            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>1.8</source>
                    <target>1.8</target>
                </configuration>
            </plugin>
            <plugin>
                <artifactId>maven-assembly-plugin</artifactId>
                <configuration>
                    <descriptors>
                        <descriptor>assembly.xml</descriptor>
                    </descriptors>
                    <appendAssemblyId>false</appendAssemblyId>
                    <archive>
                        <manifest>
                            <addClasspath>true</addClasspath>
                            <classpathPrefix>lib/</classpathPrefix>
                        </manifest>
                    </archive>
                </configuration>
                <executions>
                    <execution>
                        <id>jar-with-dependencies-in-lib</id>
                        <phase>package</phase>
                        <goals>
                            <goal>single</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <artifactId>maven-war-plugin</artifactId>
                <configuration>
                    <packagingExcludes>WEB-INF/</packagingExcludes>
                    <failOnMissingWebXml>false</failOnMissingWebXml>
                </configuration>
            </plugin>

        </plugins>
    </build>

Here is content of assembly.xml file which is located directly under projec=
t root directory -=20

<assembly
    xmlns=3D"http://maven.apache.org/plugins/maven-assembly-plugin/assembly=
/1.1.2"
    xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation=3D"http://maven.apache.org/plugins/maven-assembly-pl=
ugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>jar-with-dependencies-in-lib</id>
    <formats>
        <format>jar</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <fileSets>
        <fileSet>
            <directory>target/${project.artifactId}-${project.version}/WEB-=
INF/lib</directory>
            <includes>
                <include>target/${project.artifactId}-${project.version}/WE=
B-INF/classes</include>
              </includes>
        </fileSet>
    </fileSets>
</assembly>

I=0A=
 feel that I don't need maven-war-plugin at all and both the artifacts =0A=
can be created using maven assembly plugin only. However I am unable to =0A=
figure out how to achieve this.

- Shailendra
 		 	   		   		 	   		  =

--_406fb470-1954-4dd4-9541-cb148b007ee9_--

