From users-return-138064-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Dec 19 09:34:12 2014
Return-Path: <users-return-138064-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3BDA690BE
	for <apmail-maven-users-archive@www.apache.org>; Fri, 19 Dec 2014 09:34:12 +0000 (UTC)
Received: (qmail 47404 invoked by uid 500); 19 Dec 2014 09:34:10 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 47321 invoked by uid 500); 19 Dec 2014 09:34:10 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 47309 invoked by uid 99); 19 Dec 2014 09:34:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Dec 2014 09:34:09 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shailendra_01@outlook.com designates 65.54.190.21 as permitted sender)
Received: from [65.54.190.21] (HELO BAY004-OMC1S10.hotmail.com) (65.54.190.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Dec 2014 09:33:43 +0000
Received: from BAY169-W35 ([65.54.190.60]) by BAY004-OMC1S10.hotmail.com over TLS secured channel with Microsoft SMTPSVC(7.5.7601.22751);
	 Fri, 19 Dec 2014 01:33:20 -0800
X-TMN: [8tdNgMeFPITZbkTXb57SLUqHmrkS0O69]
X-Originating-Email: [shailendra_01@outlook.com]
Message-ID: <BAY169-W35EE506754DC6459CEEFDC816B0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_b2dd44d4-9e77-4c5b-b125-9e044cdb4072_"
From: shailendra singh <shailendra_01@outlook.com>
To: Maven Users List <users@maven.apache.org>
Subject: RE: Creating a jar and a war from a war project
Date: Fri, 19 Dec 2014 09:33:19 +0000
Importance: Normal
In-Reply-To: <op.xq3xpwizkdkhrr@robertscholte.dynamic.ziggo.nl>
References:
 <BAY169-W128B7DCDE93E03F45D4BEAD816B0@phx.gbl>,<BAY169-W750C76E0E12567F4D01B53816B0@phx.gbl>,<op.xq3xpwizkdkhrr@robertscholte.dynamic.ziggo.nl>
MIME-Version: 1.0
X-OriginalArrivalTime: 19 Dec 2014 09:33:20.0245 (UTC) FILETIME=[D37F9250:01D01B6E]
X-Virus-Checked: Checked by ClamAV on apache.org

--_b2dd44d4-9e77-4c5b-b125-9e044cdb4072_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi=2C

Thank you for your response.

I am already aware about these two parameters.=20

I don't thing 'archiveClasses' parameter will be of any help in my case.

I had tried to use 'attachClasses' initially but I could not figure out how=
 to pull war dependencies (and that too in a lib folder) in the jar file wh=
ich will be generated by setting this parameter to true.

So I have no solution for my problem yet.

Thanks
Shailendra

> To: users@maven.apache.org
> Subject: Re: Creating a jar and a war from a war project
> Date: Fri=2C 19 Dec 2014 09:54:58 +0100
> From: rfscholte@apache.org
>=20
> Hi=2C
>=20
> have a look at the following parameters of the manve-war plugin:
> - archiveClasses[1]
> - attachClasses[2]
>=20
> I suggest *not* to use the maven-assembly-plugin in this case. It'll make=
 =20
> things over-complex.
>=20
> thanks=2C
> Robert
>=20
> [1] =20
> http://maven.apache.org/plugins/maven-war-plugin/war-mojo.html#archiveCla=
sses
> [2] =20
> http://maven.apache.org/plugins/maven-war-plugin/war-mojo.html#attachClas=
ses
>=20
>=20
> Op Fri=2C 19 Dec 2014 08:03:22 +0100 schreef shailendra singh =20
> <shailendra_01@outlook.com>:
>=20
> > Hi=2C
> >
> > For some reason I am struggling to
> > create a war and a jar from a maven war project. I want to create these=
 =20
> > two artifacts from my maven war project with following requirements -
> >
> > Jar
> >  - This should contain all the class files and dependencies of war
> > project. However dependencies should be copied under lib folder of this
> > jar and should not be in unpacked form. This part is giving me problem.
> >
> > War
> >  - For war I simply want to have static artifacts and nothing which is
> > present under WEB-INF folder. I am able to achieve this using maven war
> > plugin.
> >
> > Here is the code present under <build> tag of my pom.xml -
> > <build>
> >         <plugins>
> >             <plugin>
> >                 <artifactId>maven-compiler-plugin</artifactId>
> >                 <configuration>
> >                     <source>1.8</source>
> >                     <target>1.8</target>
> >                 </configuration>
> >             </plugin>
> >             <plugin>
> >                 <artifactId>maven-assembly-plugin</artifactId>
> >                 <configuration>
> >                     <descriptors>
> >                         <descriptor>assembly.xml</descriptor>
> >                     </descriptors>
> >                     <appendAssemblyId>false</appendAssemblyId>
> >                     <archive>
> >                         <manifest>
> >                             <addClasspath>true</addClasspath>
> >                             <classpathPrefix>lib/</classpathPrefix>
> >                         </manifest>
> >                     </archive>
> >                 </configuration>
> >                 <executions>
> >                     <execution>
> >                         <id>jar-with-dependencies-in-lib</id>
> >                         <phase>package</phase>
> >                         <goals>
> >                             <goal>single</goal>
> >                         </goals>
> >                     </execution>
> >                 </executions>
> >             </plugin>
> >             <plugin>
> >                 <artifactId>maven-war-plugin</artifactId>
> >                 <configuration>
> >                     <packagingExcludes>WEB-INF/</packagingExcludes>
> >                     <failOnMissingWebXml>false</failOnMissingWebXml>
> >                 </configuration>
> >             </plugin>
> >
> >         </plugins>
> >     </build>
> >
> > Here is content of assembly.xml file which is located directly under =20
> > project root directory -
> >
> > <assembly
> >     xmlns=3D"http://maven.apache.org/plugins/maven-assembly-plugin/asse=
mbly/1.1.2"
> >     xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
> >     xsi:schemaLocation=3D"http://maven.apache.org/plugins/maven-assembl=
y-plugin/assembly/1.1.2 =20
> > http://maven.apache.org/xsd/assembly-1.1.2.xsd">
> >     <id>jar-with-dependencies-in-lib</id>
> >     <formats>
> >         <format>jar</format>
> >     </formats>
> >     <includeBaseDirectory>false</includeBaseDirectory>
> >     <fileSets>
> >         <fileSet>
> >             <directory>target/${project.artifactId}-${project.version}/=
WEB-INF/lib</directory>
> >             <includes>
> >                 <include>target/${project.artifactId}-${project.version=
}/WEB-INF/classes</include>
> >               </includes>
> >         </fileSet>
> >     </fileSets>
> > </assembly>
> >
> > I
> >  feel that I don't need maven-war-plugin at all and both the artifacts
> > can be created using maven assembly plugin only. However I am unable to
> > figure out how to achieve this.
> >
> > - Shailendra
> >  		 	   		   		 	   	=09
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@maven.apache.org
> For additional commands=2C e-mail: users-help@maven.apache.org
>=20
 		 	   		  =

--_b2dd44d4-9e77-4c5b-b125-9e044cdb4072_--

