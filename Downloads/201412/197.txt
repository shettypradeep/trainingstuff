From users-return-137954-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Dec  8 19:23:43 2014
Return-Path: <users-return-137954-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00EF6932E
	for <apmail-maven-users-archive@www.apache.org>; Mon,  8 Dec 2014 19:23:43 +0000 (UTC)
Received: (qmail 7025 invoked by uid 500); 8 Dec 2014 19:23:41 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 6946 invoked by uid 500); 8 Dec 2014 19:23:41 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 6935 invoked by uid 99); 8 Dec 2014 19:23:41 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Dec 2014 19:23:41 +0000
Received: from mail-qc0-f171.google.com (mail-qc0-f171.google.com [209.85.216.171])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id C22561A0041
	for <users@maven.apache.org>; Mon,  8 Dec 2014 19:23:40 +0000 (UTC)
Received: by mail-qc0-f171.google.com with SMTP id r5so4073461qcx.30
        for <users@maven.apache.org>; Mon, 08 Dec 2014 11:23:38 -0800 (PST)
MIME-Version: 1.0
X-Received: by 10.224.166.67 with SMTP id l3mr33405609qay.15.1418066618539;
 Mon, 08 Dec 2014 11:23:38 -0800 (PST)
Received: by 10.96.209.13 with HTTP; Mon, 8 Dec 2014 11:23:38 -0800 (PST)
In-Reply-To: <DCD53DF9D3C740F1B74E883F3842D133@gmail.com>
References: <CABLGb9yNyGHkiS6f2=cmRfG-105uqZa7pA6iExd-6p-K3F-W-w@mail.gmail.com>
	<DCD53DF9D3C740F1B74E883F3842D133@gmail.com>
Date: Mon, 8 Dec 2014 13:23:38 -0600
Message-ID: <CABLGb9zDF5La7QZ-hoWsy40bE7izS6o-i_fbSmJsyyO_3Fi69g@mail.gmail.com>
Subject: Re: Exception overlaying zip in war
From: Paul Benedict <pbenedict@apache.org>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b62527c10eb460509b95dde

--047d7b62527c10eb460509b95dde
Content-Type: text/plain; charset=UTF-8

Yup. I copied/pasted and didn't even see the error I made. Thanks for
pointing that out, Stuart!

PS: Still sounds like a bug :-) It should not have seen any overlays -- but
it was coerced to a String unexpectedly.


Cheers,
Paul

On Mon, Dec 8, 2014 at 12:07 PM, Stuart McCulloch <mcculls@gmail.com> wrote:

> On Monday, 8 December 2014 at 16:24, Paul Benedict wrote:
> > I configured the WAR plugin to overlay a zip file. Nothing fancy. Here's
> > the config:
> >
> > <plugin>
> > <groupId>org.apache.maven.plugins</groupId>
> > <artifactId>maven-war-plugin</artifactId>
> > <version>2.5</version>
> > <configuration>
> > <overlays>
> > <groupId>org.company</groupId>
> >
> >
>
> ^ missing <overlay> ... </overlay> ?
> > <artifactId>ui</artifactId>
> > <type>zip</type>
> > </overlays>
> > </configuration>
> > </plugin>
> >
> > I get an exception:
> > java.lang.ClassCastException: java.lang.String cannot be
> > cast to org.apache.maven.plugin.war.Overlay
> > at
> >
> org.apache.maven.plugin.war.overlay.OverlayManager.initialize(OverlayManager.java:122)
> >
> > I looked at the WAR source. I don't know how a String is making it into
> the
> > List<Overlay> collection. Any WAR developers here?
> >
> > Cheers,
> > Paul
> >
> >
>
>
>

--047d7b62527c10eb460509b95dde--

