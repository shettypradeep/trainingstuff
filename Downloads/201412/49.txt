From users-return-138106-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Dec 31 18:32:23 2014
Return-Path: <users-return-138106-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4E9F10750
	for <apmail-maven-users-archive@www.apache.org>; Wed, 31 Dec 2014 18:32:23 +0000 (UTC)
Received: (qmail 73203 invoked by uid 500); 31 Dec 2014 18:32:22 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 73120 invoked by uid 500); 31 Dec 2014 18:32:22 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 73109 invoked by uid 99); 31 Dec 2014 18:32:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Dec 2014 18:32:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [209.85.216.169] (HELO mail-qc0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Dec 2014 18:32:15 +0000
Received: by mail-qc0-f169.google.com with SMTP id w7so11925099qcr.14
        for <users@maven.apache.org>; Wed, 31 Dec 2014 10:31:34 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:date:from:to:subject:message-id:in-reply-to
         :references:mime-version:content-type:content-transfer-encoding;
        bh=mBleZBrLK+wRJXbmWy89z96q631lymH1lMgE6KijY1Q=;
        b=b1MHNdQuKl7EeG/PN/dIvazHxMDAERAl17xia27FRoT1stcOLJrCoe4fvjm61A0RYR
         HV2R0JlYax3lIZvjUUXUSXcjM2filcyoyCRz9EUubzdxunr8rucU60SrkxNjTbRN4jmL
         WzGR2V7MBsAd55U216SJOKvBYo8zjufOyD2RSgs9ypQlLRPQlURjCdoGOoZ3awlb1IyC
         MFRk0GNn+LQDWJsaJOvs7WQDE7TDltizh9/MxGvQwhxdNudFSC05u6kvEJUOt+9qF493
         yG7F5aAuAlenamznvx336yUQQdwUnwfuvIHJ7vCZWGaBWCwcn+d1F5ySHL/dKb28DkbT
         dZkA==
X-Gm-Message-State: ALoCoQlaILrmooURgOsf4g3XJRvHEQrlDfTBUSAbswFOp0oZVJZBIgcXmFYNfo8gL26cSHW1BPtZ
X-Received: by 10.229.114.137 with SMTP id e9mr111699621qcq.0.1420050694842;
        Wed, 31 Dec 2014 10:31:34 -0800 (PST)
Received: from localhost (HSI-KBW-134-3-146-104.hsi14.kabel-badenwuerttemberg.de. [134.3.146.104])
        by mx.google.com with ESMTPSA id e9sm8677774qgd.18.2014.12.31.10.31.34
        for <users@maven.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 31 Dec 2014 10:31:34 -0800 (PST)
Date: Wed, 31 Dec 2014 19:31:29 +0100
From: Bernd Eckenfels <ecki@zusammenkunft.net>
To: users@maven.apache.org
Subject: Re: Strange Issue
Message-ID: <20141231193129.00006c3c.ecki@zusammenkunft.net>
In-Reply-To: <54A43F04.7020307@yahoo.com>
References: <54A42907.90103@gmail.com>
	<54A42FC7.6010405@yahoo.com>
	<54A437F5.1020705@gmail.com>
	<54A43F04.7020307@yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

you can use "mvn -version" to see which java is used.

Gruss
Bernd


Am Wed, 31 Dec 2014 10:23:00 -0800
schrieb Mark Eggers <its_toasted@yahoo.com.INVALID>:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Ole,
>=20
> In one instance (have to check your mail again) there were no files to
> compile, so nothing bad happened.
>=20
> If you run mvn clean test, then the target directory will be removed
> and Maven will be forced to recompile everything.
>=20
> You should get the command line failure consistently then.
>=20
> - From your log that you posted:
>=20
> Warning: JAVA_HOME environment variable is not set.
>=20
> Also, can you run the following from the command line and see if it
> works?
>=20
> javac -version
>=20
> You should get the version of javac echoed. If not, you have a path
> problem.
>=20
> If you do, run the following command:
>=20
> which javac
>=20
> This should tell you where javac is installed. I don't know how
> alternatives / OpenJDK gets installed on Ubuntu (I use Fedora and
> Oracle's JDK), so I don't know if setting JAVA_HOME to javac's parent
> directory is appropriate.
>=20
> For example, on my system 'which javac' results in:
>=20
> /usr/java/bin/javac
>=20
> This means that javac is in /usr/java/bin, and the parent directory
> (/usr/java) is the value that JAVA_HOME is set to on my system. This
> is actually a link to where the current version of Java is installed
> on my system.
>=20
> One of these days I'll walk through alternatives and figure out if it
> meets my needs (or if I should file bug reports).
>=20
> . . . just my two cents
> /mde/
>=20
> On 12/31/2014 9:52 AM, Ole Ersoy wrote:
> > Hi Mark,
> >=20
> > I do have Open JDK installed.  The reason this is strange is
> > because the maven build runs fine from the command line after the
> > project is run with Eclipse.  Other maven builds I have also run
> > fine from the command line.  For example if I git clone apache
> > commons math and run the build, it builds fine.
> >=20
> > In this case I'm just creating a very minimal project with: -
> > pom.xml - src/test/java/hello/HelloTest.java
> >=20
> > When I try to run the build, it fails.  If I import it into
> > eclipse, it runs.  When I try the build from the command line
> > again, it runs.  If I create another project with the same set of
> > original resources, it fails all over again.
> >=20
> > Thoughts?
> >=20
> > Thanks again, Ole
> >=20
> >=20
> >=20
> > On 12/31/2014 11:17 AM, Mark Eggers wrote: On 12/31/2014 8:49 AM,
> > Ole Ersoy wrote:
> >>>> Hi,
> >>>>=20
> >>>> I'm seeing some strange behavior with Maven 3.0.5 on Ubuntu.
> >>>>=20
> >>>> BACKGROUND =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D When I run `mvn test` the
> >>>> console prints: `[ERROR] No compiler is provided in this
> >>>> environment. Perhaps you are running on a JRE rather than a
> >>>> JDK?`
> >>>>=20
> >>>> If I then open the project in Eclipse and run the test it
> >>>> runs fine. Subsequently if I close Eclipse and run the test
> >>>> with `mvn test` I get `BUILD SUCCESS`.
> >>>>=20
> >>>> ANALYSIS =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D I run `mvn test` on the
> >>>> `test2` project, that was opened with eclipse, and I get ->
> >>>> `BUILD SUCCESS`.
> >>>>=20
> >>>> I then create a `test3` project, copy the pom and the src
> >>>> directory from test2 to test 3.  When running `mvn test` on
> >>>> the `test3` project I get the error again.  I included the
> >>>> result from my console below:
> >>>>=20
> >>>> ole@MKI:~/test2$ mvn test Warning: JAVA_HOME environment
> >>>> variable is not set. [INFO] Scanning for projects... [INFO]
> >>>> [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO] Building test-maven 1.0.0
> >>>> [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO]
> >>>> [INFO] --- maven-resources-plugin:2.3:resources
> >>>> (default-resources) @ test-maven --- [WARNING] Using platform
> >>>> encoding (UTF-8 actually) to copy filtered resources, i.e.
> >>>> build is platform dependent! [INFO] skip non existing
> >>>> resourceDirectory /home/ole/test2/src/main/resources [INFO]
> >>>> [INFO] --- maven-compiler-plugin:3.2:compile
> >>>> (default-compile) @ test-maven --- [INFO] No sources to
> >>>> compile [INFO] [INFO] ---=20
> >>>> maven-resources-plugin:2.3:testResources
> >>>> (default-testResources) @ test-maven --- [WARNING] Using
> >>>> platform encoding (UTF-8 actually) to copy filtered
> >>>> resources, i.e. build is platform dependent! [INFO] skip non
> >>>> existing resourceDirectory /home/ole/test2/src/test/resources
> >>>> [INFO] [INFO] --- maven-compiler-plugin:3.2:testCompile
> >>>> (default-testCompile) @ test-maven --- [INFO] Nothing to
> >>>> compile - all classes are up to date [INFO] [INFO] ---
> >>>> maven-surefire-plugin:2.10:test (default-test) @ test-maven
> >>>> --- [INFO] Surefire report directory:=20
> >>>> /home/ole/test2/target/surefire-reports
> >>>>=20
> >>>> ------------------------------------------------------- T E S
> >>>> T S -------------------------------------------------------
> >>>> Running hello.HelloUnitTest Greeting from hello the Unit
> >>>> Test! Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time
> >>>> elapsed: 0.039 sec
> >>>>=20
> >>>> Results :
> >>>>=20
> >>>> Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
> >>>>=20
> >>>> [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO] BUILD SUCCESS
> >>>> [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO] Total time: 1.027s
> >>>> [INFO] Finished at: Wed Dec 31 10:41:25 CST 2014 [INFO]
> >>>> Final Memory: 8M/240M [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> ole@MKI:~/test2$ mkdir ../test3
> >>>> ole@MKI:~/test2$ cp pom.xml ../test3 ole@MKI:~/test2$ cp -r
> >>>> src ../test3 ole@MKI:~/test2$ cd ../test3/ ole@MKI:~/test3$
> >>>> mvn test Warning: JAVA_HOME environment variable is not set.
> >>>> [INFO] Scanning for projects... [INFO] [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO] Building test-maven 1.0.0
> >>>> [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO]
> >>>> [INFO] --- maven-resources-plugin:2.3:resources
> >>>> (default-resources) @ test-maven --- [WARNING] Using platform
> >>>> encoding (UTF-8 actually) to copy filtered resources, i.e.
> >>>> build is platform dependent! [INFO] skip non existing
> >>>> resourceDirectory /home/ole/test3/src/main/resources [INFO]
> >>>> [INFO] --- maven-compiler-plugin:3.2:compile
> >>>> (default-compile) @ test-maven --- [INFO] No sources to
> >>>> compile [INFO] [INFO] ---=20
> >>>> maven-resources-plugin:2.3:testResources
> >>>> (default-testResources) @ test-maven --- [WARNING] Using
> >>>> platform encoding (UTF-8 actually) to copy filtered
> >>>> resources, i.e. build is platform dependent! [INFO] skip non
> >>>> existing resourceDirectory /home/ole/test3/src/test/resources
> >>>> [INFO] [INFO] --- maven-compiler-plugin:3.2:testCompile
> >>>> (default-testCompile) @ test-maven --- [INFO] Changes
> >>>> detected - recompiling the module! [WARNING] File encoding
> >>>> has not been set, using platform encoding UTF-8, i.e. build
> >>>> is platform dependent! [INFO] Compiling 1 source file to
> >>>> /home/ole/test3/target/test-classes [INFO]=20
> >>>> -------------------------------------------------------------
> >>>>
> >>>>=20
> [ERROR] COMPILATION ERROR : [INFO]
> >>>> -------------------------------------------------------------
> >>>>
> >>>>=20
> [ERROR] No compiler is provided in this environment. Perhaps you
> >>>> are running on a JRE rather than a JDK? [INFO] 1 error
> >>>> [INFO]=20
> >>>> -------------------------------------------------------------
> >>>>
> >>>>=20
> [INFO]
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO] BUILD FAILURE
> >>>> [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [INFO] Total time: 0.722s
> >>>> [INFO] Finished at: Wed Dec 31 10:42:07 CST 2014 [INFO]
> >>>> Final Memory: 8M/303M [INFO]=20
> >>>> --------------------------------------------------------------------=
----
> >>>>
> >>>>
> >
> >>>>=20
> [ERROR] Failed to execute goal
> >>>> org.apache.maven.plugins:maven-compiler-plugin:3.2:testCompile
> >>>>
> >>>>=20
> (default-testCompile) on project test-maven: Compilation failure
> >>>> [ERROR] No compiler is provided in this environment. Perhaps
> >>>> you are running on a JRE rather than a JDK? [ERROR] -> [Help
> >>>> 1] [ERROR] [ERROR] To see the full stack trace of the errors,
> >>>> re-run Maven with the -e switch. [ERROR] Re-run Maven using
> >>>> the -X switch to enable full debug logging. [ERROR] [ERROR]
> >>>> For more information about the errors and possible solutions,
> >>>> please read the following articles: [ERROR] [Help 1]=20
> >>>> http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
> >>>>
> >>>>
> >>>>=20
> ole@MKI:~/test3$ tree . =E2=94=9C=E2=94=80=E2=94=80 pom.xml =E2=94=9C=E2=
=94=80=E2=94=80 src =E2=94=82   =E2=94=94=E2=94=80=E2=94=80 test =E2=94=82
> >>>> =E2=94=94=E2=94=80=E2=94=80 java =E2=94=82           =E2=94=94=E2=94=
=80=E2=94=80 hello =E2=94=82               =E2=94=94=E2=94=80=E2=94=80=20
> >>>> HelloUnitTest.java =E2=94=94=E2=94=80=E2=94=80 target =E2=94=9C=E2=
=94=80=E2=94=80 generated-test-sources =E2=94=82
> >>>> =E2=94=94=E2=94=80=E2=94=80 test-annotations =E2=94=9C=E2=94=80=E2=
=94=80 maven-status =E2=94=82   =E2=94=94=E2=94=80=E2=94=80
> >>>> maven-compiler-plugin =E2=94=82 =E2=94=94=E2=94=80=E2=94=80 testComp=
ile =E2=94=82           =E2=94=94=E2=94=80=E2=94=80
> >>>> default-testCompile =E2=94=82 =E2=94=9C=E2=94=80=E2=94=80 createdFil=
es.lst =E2=94=82
> >>>> =E2=94=94=E2=94=80=E2=94=80 inputFiles.lst =E2=94=94=E2=94=80=E2=94=
=80 test-classes
> >>>>=20
> >>>> 12 directories, 4 files
> >>>>=20
> >>>> Thoughts (Besides just open it in Eclipse :) )?
> >>>>=20
> >>>> TIA, - Ole
> > Eclipse comes with its own compiler, so it only needs the JRE to
> > run.
> >=20
> > The command line needs the JDK, which you don't have installed.
> >=20
> > Install the JDK, set $JAVA_HOME, and make sure $JAVA_HOME/bin is
> > on your path.
> >=20
> > See the bottom of the following page for detailed instructions:
> >=20
> > http://maven.apache.org/download.cgi
> >=20
> > If you're uncomfortable about using a different Java version
> > between command line and Eclipse, you can always point Eclipse to
> > the JRE inside the JDK and use that as the default JRE for Eclipse
> > and the IDE.
> >=20
> > . . . just my two cents /mde/
> >=20
> >>=20
> >> --- This email is free from viruses and malware because avast!
> >> Antivirus protection is active. http://www.avast.com
> >>=20
> >>=20
> >> ---------------------------------------------------------------------
> >>
> >>=20
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> >> For additional commands, e-mail: users-help@maven.apache.org
> >>=20
> >>=20
> >=20
> >=20
> > ---------------------------------------------------------------------
> >
> >=20
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > For additional commands, e-mail: users-help@maven.apache.org
> >=20
>=20
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2
>=20
> iQEcBAEBAgAGBQJUpD8EAAoJEEFGbsYNeTwtV88H/0Eb/gERrruj44Ka5AGYqfFI
> MFllzBPORmlWlD/ZpI9b4rEbpx8e3vyCURqPayWnquMTFfyg4HxXAf3mhyT3c5c0
> eY+ire0ClYZH514UvdgQHAMyuek/JXt5CuPFu9yEBJHVV5PTiJUMTRz0dzE4I4Ap
> xj0/rO9zhriZnL1bFUC7zfTCSDhv6/qz2UmMTz6aod+w+J6OFa4KOTQ2Sg1FKUKx
> CIaLqTVFMzkgorgFi3SpT0LM3nxrOT8ArzFbCJI/kWBknuN+qZGA8OvP/iK/t8jU
> KrgU45GPe3lijQ8ZUmxWbHoAr7Wzp4tr8CJpNfSRYxLhXU/Im34IqoZ+WbSMrgk=3D
> =3D7+DE
> -----END PGP SIGNATURE-----
>=20
> ---
> This email is free from viruses and malware because avast! Antivirus
> protection is active. http://www.avast.com
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


