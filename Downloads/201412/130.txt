From users-return-137899-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Dec  1 17:17:08 2014
Return-Path: <users-return-137899-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32600105D7
	for <apmail-maven-users-archive@www.apache.org>; Mon,  1 Dec 2014 17:17:08 +0000 (UTC)
Received: (qmail 70742 invoked by uid 500); 1 Dec 2014 17:17:04 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 70665 invoked by uid 500); 1 Dec 2014 17:17:04 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 70645 invoked by uid 99); 1 Dec 2014 17:17:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Dec 2014 17:17:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stephen.alan.connolly@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-ob0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Dec 2014 17:16:59 +0000
Received: by mail-ob0-f176.google.com with SMTP id vb8so8242136obc.21
        for <users@maven.apache.org>; Mon, 01 Dec 2014 09:14:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=JaqJWcd96DqwAEmFILOWrkT1W6s9jYi47rAa20DwpNU=;
        b=mEMvz7+4b8Q38VIlaX0fvayK6BkJH0MSXAvvdULfxe/jKU85geK4z3aHl/Mhy6/oVp
         mvaD9hBrsdI7IgpER+w0MsftRmmhnBdEjP+mvXdE1sZW0G9mwH0mgZ5JpHhu+XZQtU21
         b1VibLY/vu1Oxe6hq7v5KsaRf8JlPcwVm3w8Wy1sT3m035nUyysi0FFiPEzyt6pqg9qK
         7RGv+620I7uT33VtG2kxDhSQ5ajPdf2CJkWU0NRjQko9MlHO0GsyS8BGWhtNy98ZbwRj
         lHzZW2YBf3Zpx9nUlr7XXcXA5IVXHNHi/1dVekgpAyiAY5nm6grYxwUqJhsWOhmR2Zgl
         E8rA==
MIME-Version: 1.0
X-Received: by 10.182.113.131 with SMTP id iy3mr36048780obb.29.1417454063484;
 Mon, 01 Dec 2014 09:14:23 -0800 (PST)
Received: by 10.60.37.103 with HTTP; Mon, 1 Dec 2014 09:14:23 -0800 (PST)
In-Reply-To: <CALhtWkeHSpqi5G8NEW+B+mGD6qiypBw27kdiBCL924SKXrTb5A@mail.gmail.com>
References: <OFF462C45B.39AB2E6A-ON85257DA1.0056CEF3-85257DA1.0057DCF4@us.ibm.com>
	<547C9914.2070706@artifact-software.com>
	<CALhtWkeHSpqi5G8NEW+B+mGD6qiypBw27kdiBCL924SKXrTb5A@mail.gmail.com>
Date: Mon, 1 Dec 2014 17:14:23 +0000
Message-ID: <CA+nPnMyRa7M27XCmGTDVnWqf7bk9vsJcNSkjA_imiv0EHz1yYA@mail.gmail.com>
Subject: Re: Uber jar considered harmful?
From: Stephen Connolly <stephen.alan.connolly@gmail.com>
To: Maven Users List <users@maven.apache.org>
Cc: Ron Wheeler <rwheeler@artifact-software.com>
Content-Type: multipart/alternative; boundary=089e013d0c22f0866b05092abd82
X-Virus-Checked: Checked by ClamAV on apache.org

--089e013d0c22f0866b05092abd82
Content-Type: text/plain; charset=UTF-8

It all depends how you use them.

There are some use cases where they make sense.

Usually these use cases include aggressive shading of the dependencies you
are bundling.

Some cases where it can be useful:

* If you are interfacing with a non-maven aware build tool chain - here the
uberjar makes life easier for that toolchain as they only have one
dependency to specify... the gotcha is if you make this the only way for
people to consume then the POM aware build toolchains will end up with
duplicate class hell

* If you are creating an "App" or CLI utility jar file where people just
run the file directly then it can be easier to give them a single jar
file... but anyone else embedding your "app" will curse you if you only
provide the uberjar

On 1 December 2014 at 16:59, Benson Margulies <bimargulies@gmail.com> wrote:

> I don't know about 'harmful', but there are certainly some good ways to
> shoot your toes off.
>
> My convention is that I only use shaded jars as exports to the non-Maven
> world, I discourage using shaded jars as part of a larger dependency graph.
> I could detail some mishaps which motivated that convention if anyone
> cares.
>
> On Mon, Dec 1, 2014 at 11:36 AM, Ron Wheeler <
> rwheeler@artifact-software.com
> > wrote:
>
> > I wrote this in 2011
> > http://blog.artifact-software.com/tech/?p=121
> > which describe our use of aggregation jars.
> > It is, of course, focused on the wonderful advantages that these offer.
> >
> > It may have prompted the discussion that you recall so this might give
> you
> > a time-frame to narrow your search.
> >
> > I may be wrong but I think that Stephen Connolly and Wayne Fay raised
> some
> > issues with the approach. The word "anti-pattern" may have come up.:-)
> >
> > Perhaps this will jog some memories.
> >
> > Ron
> >
> >
> > On 01/12/2014 10:59 AM, Jeffrey E Care wrote:
> >
> >> I seem to recall a post in the not too distant past where is was at
> least
> >> implied (if not outwardly stated) that the use of uber jars was an
> >> anti-practice. Unfortunately I can't find it now and my google-fu is
> >> failing me.
> >>
> >> Am I making this up? Can anyone confirm my recollection?
> >>
> >> Is there a best-practice recommendation re. uber jars that is generally
> >> recognized in the Maven community?
> >>
> >> ------------------------------------------------------------------------
> >> *Jeffrey E. (Jeff) Care*
> >> Advisory Software Engineer | IBM Watson Implementations Release
> >> Engineering
> >> carej@us.ibm.com <mailto:carej@us.ibm.com>| External: 919-543-4907 |
> Tie
> >> line: 441-4907
> >>         <http://www.facebook.com/ibmwatson><https://twitter.
> >> com/@ibmwatson><http://www.youtube.com/user/IBMWatsonSolutions/videos>
> >>
> >>
> >>
> >
> > --
> > Ron Wheeler
> > President
> > Artifact Software Inc
> > email: rwheeler@artifact-software.com
> > skype: ronaldmwheeler
> > phone: 866-970-2435, ext 102
> >
> >
>

--089e013d0c22f0866b05092abd82--

