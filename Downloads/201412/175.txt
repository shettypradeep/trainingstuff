From users-return-138110-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Dec 31 22:30:23 2014
Return-Path: <users-return-138110-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D04810BEE
	for <apmail-maven-users-archive@www.apache.org>; Wed, 31 Dec 2014 22:30:23 +0000 (UTC)
Received: (qmail 14378 invoked by uid 500); 31 Dec 2014 22:30:21 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 14316 invoked by uid 500); 31 Dec 2014 22:30:21 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 14303 invoked by uid 99); 31 Dec 2014 22:30:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Dec 2014 22:30:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lrtorres@berkeley.edu designates 209.85.214.174 as permitted sender)
Received: from [209.85.214.174] (HELO mail-ob0-f174.google.com) (209.85.214.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 Dec 2014 22:29:53 +0000
Received: by mail-ob0-f174.google.com with SMTP id nt9so54914788obb.5
        for <users@maven.apache.org>; Wed, 31 Dec 2014 14:28:06 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=AZCl1IxlLT1/g5nf1sfmpd2LlP7FQ/1OIT3HhsRZCUs=;
        b=Giz+H9adfhL8M2SZXDkbde1DBWDNgsnb37TxWZYdD95RJiTTLIkvw7hRmxpD5SnBSc
         GpFKZ1RMZg70D6qdJ3UKmLqsMZbTpY+xWluTNyPJ6EAAlblzrq34WX0mNY4jJP2j5xVV
         LRqVaGN9ZkC2y2+6bVWgekaov90FSopvQXhxXkv7z+G548cmBIQaHJc8hgCfyxqve9Tq
         WaSIZpE1O6fokJUInOjSEw/4Sj3Ii2XBo1n6Rt9Nj5cblwiu1dqJ3Y+SZbPpY6UQGLq8
         fLsrCLadsOKyF2K3rhGWPVJxIjAXDf7Y9AANq48Mf8/y1AMNuPcgiUj9hzR95dku1+qs
         PrOQ==
X-Gm-Message-State: ALoCoQmtKZgaFRFuncT6w1D7AjLy6q+qvPUxeyec9qofZePRUCBUIcUDf90GQj5CtHz0foRNoOV9
MIME-Version: 1.0
X-Received: by 10.202.227.212 with SMTP id a203mr36423534oih.126.1420064886132;
 Wed, 31 Dec 2014 14:28:06 -0800 (PST)
Received: by 10.202.213.148 with HTTP; Wed, 31 Dec 2014 14:28:06 -0800 (PST)
In-Reply-To: <54A437F5.1020705@gmail.com>
References: <54A42907.90103@gmail.com>
	<54A42FC7.6010405@yahoo.com>
	<54A437F5.1020705@gmail.com>
Date: Wed, 31 Dec 2014 14:28:06 -0800
Message-ID: <CAAnkOURVzS61g8BpG4US+e4m3YRR-p6Xu_fQq=z66_RaoN1Ksg@mail.gmail.com>
Subject: Re: Strange Issue
From: Luis Torres <lrtorres@berkeley.edu>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a114088c618ac61050b8a9f85
X-Virus-Checked: Checked by ClamAV on apache.org

--001a114088c618ac61050b8a9f85
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Ole and Mark,


I ran into a similar problem before, what I did to resolve the issue is I
ran 'mvn -version' to see what Maven "thought" it was using for a JDK, then
I investigated the Eclipse settings to see if it was using the same exact
JDK - you may need to point the Java configuration to a JDK (install one if
you haven't done so already).  The other point to look at is to see whether
the Maven runtime Eclipse is using is the embedded plugin or some other
plugin, I tend to point the Eclipse mvn executable to my command-line
install.

-L-

On Wed, Dec 31, 2014 at 9:52 AM, Ole Ersoy <ole.ersoy@gmail.com> wrote:

> Hi Mark,
>
> I do have Open JDK installed.  The reason this is strange is because the
> maven build runs fine from the command line after the project is run with
> Eclipse.  Other maven builds I have also run fine from the command line.
> For example if I git clone apache commons math and run the build, it buil=
ds
> fine.
>
> In this case I'm just creating a very minimal project with:
> - pom.xml
> - src/test/java/hello/HelloTest.java
>
> When I try to run the build, it fails.  If I import it into eclipse, it
> runs.  When I try the build from the command line again, it runs.  If I
> create another project with the same set of original resources, it fails
> all over again.
>
> Thoughts?
>
> Thanks again,
> Ole
>
>
>
> On 12/31/2014 11:17 AM, Mark Eggers wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> On 12/31/2014 8:49 AM, Ole Ersoy wrote:
>>
>>> Hi,
>>>
>>> I'm seeing some strange behavior with Maven 3.0.5 on Ubuntu.
>>>
>>> BACKGROUND =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D When I run `mvn test` the console
>>> prints: `[ERROR] No compiler is provided in this environment.
>>> Perhaps you are running on a JRE rather than a JDK?`
>>>
>>> If I then open the project in Eclipse and run the test it runs
>>> fine. Subsequently if I close Eclipse and run the test with `mvn
>>> test` I get `BUILD SUCCESS`.
>>>
>>> ANALYSIS =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D I run `mvn test` on the `test2`
>>> project, that was opened with eclipse, and I get -> `BUILD
>>> SUCCESS`.
>>>
>>> I then create a `test3` project, copy the pom and the src directory
>>> from test2 to test 3.  When running `mvn test` on the `test3`
>>> project I get the error again.  I included the result from my
>>> console below:
>>>
>>> ole@MKI:~/test2$ mvn test Warning: JAVA_HOME environment variable
>>> is not set. [INFO] Scanning for projects... [INFO] [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO] Building test-maven 1.0.0
>>
>>> [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO]
>>
>>> [INFO] --- maven-resources-plugin:2.3:resources (default-resources)
>>> @ test-maven --- [WARNING] Using platform encoding (UTF-8 actually)
>>> to copy filtered resources, i.e. build is platform dependent!
>>> [INFO] skip non existing resourceDirectory
>>> /home/ole/test2/src/main/resources [INFO] [INFO] ---
>>> maven-compiler-plugin:3.2:compile (default-compile) @ test-maven
>>> --- [INFO] No sources to compile [INFO] [INFO] ---
>>> maven-resources-plugin:2.3:testResources (default-testResources) @
>>> test-maven --- [WARNING] Using platform encoding (UTF-8 actually)
>>> to copy filtered resources, i.e. build is platform dependent!
>>> [INFO] skip non existing resourceDirectory
>>> /home/ole/test2/src/test/resources [INFO] [INFO] ---
>>> maven-compiler-plugin:3.2:testCompile (default-testCompile) @
>>> test-maven --- [INFO] Nothing to compile - all classes are up to
>>> date [INFO] [INFO] --- maven-surefire-plugin:2.10:test
>>> (default-test) @ test-maven --- [INFO] Surefire report directory:
>>> /home/ole/test2/target/surefire-reports
>>>
>>> ------------------------------------------------------- T E S T S
>>> ------------------------------------------------------- Running
>>> hello.HelloUnitTest Greeting from hello the Unit Test! Tests run:
>>> 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec
>>>
>>> Results :
>>>
>>> Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
>>>
>>> [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO] BUILD SUCCESS
>>
>>> [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO] Total time: 1.027s
>>
>>> [INFO] Finished at: Wed Dec 31 10:41:25 CST 2014 [INFO] Final
>>> Memory: 8M/240M [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  ole@MKI:~/test2$ mkdir ../test3
>>
>>> ole@MKI:~/test2$ cp pom.xml ../test3 ole@MKI:~/test2$ cp -r src
>>> ../test3 ole@MKI:~/test2$ cd ../test3/ ole@MKI:~/test3$ mvn test
>>> Warning: JAVA_HOME environment variable is not set. [INFO] Scanning
>>> for projects... [INFO] [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO] Building test-maven 1.0.0
>>
>>> [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO]
>>
>>> [INFO] --- maven-resources-plugin:2.3:resources (default-resources)
>>> @ test-maven --- [WARNING] Using platform encoding (UTF-8 actually)
>>> to copy filtered resources, i.e. build is platform dependent!
>>> [INFO] skip non existing resourceDirectory
>>> /home/ole/test3/src/main/resources [INFO] [INFO] ---
>>> maven-compiler-plugin:3.2:compile (default-compile) @ test-maven
>>> --- [INFO] No sources to compile [INFO] [INFO] ---
>>> maven-resources-plugin:2.3:testResources (default-testResources) @
>>> test-maven --- [WARNING] Using platform encoding (UTF-8 actually)
>>> to copy filtered resources, i.e. build is platform dependent!
>>> [INFO] skip non existing resourceDirectory
>>> /home/ole/test3/src/test/resources [INFO] [INFO] ---
>>> maven-compiler-plugin:3.2:testCompile (default-testCompile) @
>>> test-maven --- [INFO] Changes detected - recompiling the module!
>>> [WARNING] File encoding has not been set, using platform encoding
>>> UTF-8, i.e. build is platform dependent! [INFO] Compiling 1 source
>>> file to /home/ole/test3/target/test-classes [INFO]
>>> -------------------------------------------------------------
>>> [ERROR] COMPILATION ERROR : [INFO]
>>> -------------------------------------------------------------
>>> [ERROR] No compiler is provided in this environment. Perhaps you
>>> are running on a JRE rather than a JDK? [INFO] 1 error [INFO]
>>> -------------------------------------------------------------
>>> [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO] BUILD FAILURE
>>
>>> [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [INFO] Total time: 0.722s
>>
>>> [INFO] Finished at: Wed Dec 31 10:42:07 CST 2014 [INFO] Final
>>> Memory: 8M/303M [INFO]
>>> -----------------------------------------------------------------------=
-
>>>
>>>
>>>  [ERROR] Failed to execute goal
>>
>>> org.apache.maven.plugins:maven-compiler-plugin:3.2:testCompile
>>> (default-testCompile) on project test-maven: Compilation failure
>>> [ERROR] No compiler is provided in this environment. Perhaps you
>>> are running on a JRE rather than a JDK? [ERROR] -> [Help 1]
>>> [ERROR] [ERROR] To see the full stack trace of the errors, re-run
>>> Maven with the -e switch. [ERROR] Re-run Maven using the -X switch
>>> to enable full debug logging. [ERROR] [ERROR] For more information
>>> about the errors and possible solutions, please read the following
>>> articles: [ERROR] [Help 1]
>>> http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
>>>
>>>   ole@MKI:~/test3$ tree . =E2=94=9C=E2=94=80=E2=94=80 pom.xml =E2=94=9C=
=E2=94=80=E2=94=80 src =E2=94=82   =E2=94=94=E2=94=80=E2=94=80 test =E2=94=
=82
>>> =E2=94=94=E2=94=80=E2=94=80 java =E2=94=82           =E2=94=94=E2=94=80=
=E2=94=80 hello =E2=94=82               =E2=94=94=E2=94=80=E2=94=80
>>> HelloUnitTest.java =E2=94=94=E2=94=80=E2=94=80 target =E2=94=9C=E2=94=
=80=E2=94=80 generated-test-sources =E2=94=82   =E2=94=94=E2=94=80=E2=94=80
>>> test-annotations =E2=94=9C=E2=94=80=E2=94=80 maven-status =E2=94=82   =
=E2=94=94=E2=94=80=E2=94=80 maven-compiler-plugin =E2=94=82
>>> =E2=94=94=E2=94=80=E2=94=80 testCompile =E2=94=82           =E2=94=94=
=E2=94=80=E2=94=80 default-testCompile =E2=94=82
>>> =E2=94=9C=E2=94=80=E2=94=80 createdFiles.lst =E2=94=82               =
=E2=94=94=E2=94=80=E2=94=80 inputFiles.lst =E2=94=94=E2=94=80=E2=94=80
>>> test-classes
>>>
>>> 12 directories, 4 files
>>>
>>> Thoughts (Besides just open it in Eclipse :) )?
>>>
>>> TIA, - Ole
>>>
>> Eclipse comes with its own compiler, so it only needs the JRE to run.
>>
>> The command line needs the JDK, which you don't have installed.
>>
>> Install the JDK, set $JAVA_HOME, and make sure $JAVA_HOME/bin is on
>> your path.
>>
>> See the bottom of the following page for detailed instructions:
>>
>> http://maven.apache.org/download.cgi
>>
>> If you're uncomfortable about using a different Java version between
>> command line and Eclipse, you can always point Eclipse to the JRE
>> inside the JDK and use that as the default JRE for Eclipse and the IDE.
>>
>> . . . just my two cents
>> /mde/
>>
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG v2
>>
>> iQEcBAEBAgAGBQJUpC/HAAoJEEFGbsYNeTwtO2kIAKEr2DC7OZt2hNMDhpuXtPqF
>> /XtQHTMRR6W0SFXXkCDe4tqa2mGpQLSNUjXYUoDyw9QqX0YiS/X4kZwsPZOSjvrV
>> fyYccm48U1/njdS6yiWbeuDqVSHGvWfrf7vv1L+/j28YhI8ZxM9PaXXJ05iBECmW
>> t88hDHHNJpewf9IkIED5EHyFhie+pLqh+nITtLdrKx70zUwr6nVVXDglfbUbAuMK
>> LueQ8hGWeQdpaj98zo0BnJYpi2bIRQ7inLNOthRDgSBZkcRVWHln4Gv05UFt/vhP
>> en924SAlSRrSenKub7HhWzI0GaGnSGSyf1TRY75za6zgSNWbGVieb36pFyoqYd4=3D
>> =3DBFis
>> -----END PGP SIGNATURE-----
>>
>> ---
>> This email is free from viruses and malware because avast! Antivirus
>> protection is active.
>> http://www.avast.com
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
>> For additional commands, e-mail: users-help@maven.apache.org
>>
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--001a114088c618ac61050b8a9f85--

