From users-return-137921-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Dec  4 13:35:06 2014
Return-Path: <users-return-137921-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DB1ACA14
	for <apmail-maven-users-archive@www.apache.org>; Thu,  4 Dec 2014 13:35:06 +0000 (UTC)
Received: (qmail 28008 invoked by uid 500); 4 Dec 2014 13:35:04 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 27922 invoked by uid 500); 4 Dec 2014 13:35:04 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 65773 invoked by uid 99); 3 Dec 2014 21:35:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Dec 2014 21:35:03 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of eric.kolotyluk@gmail.com designates 209.85.192.181 as permitted sender)
Received: from [209.85.192.181] (HELO mail-pd0-f181.google.com) (209.85.192.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Dec 2014 21:34:56 +0000
Received: by mail-pd0-f181.google.com with SMTP id v10so10788785pde.26
        for <users@maven.apache.org>; Wed, 03 Dec 2014 13:34:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=uQAhR2Ec1eRKFnTa1UX534UyVJgW/E0aEMceEJmcUvc=;
        b=nsQchPLEi9XRHbz8DTHLGeuZxtIoPlIw+4g4y2gMFbjKpf8G+6A1pjgFpDxKI0bDJu
         9maD/PLCu3ecFKE5DHUAtVnPWbDq/Et8t976nYHcQa2eKyU3Fim8uzv2AxYw7ZDAydMG
         szsiyPcbhuJMf3AuXFPtG0ZkTiJCuMNLq4/4sv+gM5/LdJOenWJtIkCi20EKab20ePLS
         xnQYjOuDxpV5plBrGWOdb3bMiXI5zyiOiuaD1L3JRV3TCUWJ6PpEfeWPfWXNxkEXmPzV
         jcB9UuYLrnR5oj6KHesgZIdov1rUzL73qj9UQQevnm3ymbDKLJVBO4ACupHNhFm9+8Qf
         tamg==
X-Received: by 10.66.158.170 with SMTP id wv10mr12969198pab.64.1417642476319;
        Wed, 03 Dec 2014 13:34:36 -0800 (PST)
Received: from [192.168.100.168] (S010620cf30ce24d0.vc.shawcable.net. [50.67.177.229])
        by mx.google.com with ESMTPSA id gz10sm24105205pac.23.2014.12.03.13.34.34
        for <users@maven.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 03 Dec 2014 13:34:35 -0800 (PST)
Message-ID: <547F81E8.4070703@gmail.com>
Date: Wed, 03 Dec 2014 13:34:32 -0800
From: Eric Kolotyluk <eric.kolotyluk@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.2.0
MIME-Version: 1.0
To: users@maven.apache.org
Subject: Re: org.apache.maven.plugins.shade.resource.AppendingTransformer
References: <547F563A.5020604@gmail.com>
In-Reply-To: <547F563A.5020604@gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Never mind, I should have put the <transformer> elements inside the 
<transformers> element..

Cheers, Eric

On 12/3/2014 10:28 AM, Eric Kolotyluk wrote:
> Here is part of my POM
>
>           <plugin>
> <groupId>org.apache.maven.plugins</groupId>
> <artifactId>maven-shade-plugin</artifactId>
>             <executions>
>               <execution>
>                 <phase>package</phase>
>                 <goals>
>                   <goal>shade</goal>
>                 </goals>
>                 <configuration>
> <shadedArtifactAttached>true</shadedArtifactAttached>
> <shadedClassifierName>allinone</shadedClassifierName>
>                    <artifactSet>
>                      <includes>
>                        <include>*:*</include>
>                      </includes>
>                    </artifactSet>
>                  <transformer 
> implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
> <resource>application.conf</resource>
>                  </transformer>
>                  <transformer 
> implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
>                    <resource>reference.conf</resource>
>                  </transformer>
>                   <transformers>
>                     <transformer 
> implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
>                       <manifestEntries>
>                         <!-- 
> <Main-Class>platform3.AccountService.ServiceKernel</Main-Class> -->
> <Main-Class>akka.Main</Main-Class>
>                       </manifestEntries>
>                     </transformer>
>                   </transformers>
>                 </configuration>
>               </execution>
>             </executions>
>           </plugin>
>
> But when I look at application.conf and reference.conf in the JAR 
> file, there is nothing appended to them. Clearly the 
> AppendingTransformer is not working because I can see other 
> application.conf and reference.conf files in the included jars.
>
> The ManifestResourceTransformer is working correctly, so I am not sure 
> what is wrong with AppendingTransformer?
>
> Does anyone have any idea on what the problem may be?
>
> Cheers, Eric


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


