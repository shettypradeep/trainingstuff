From users-return-138075-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Dec 23 21:27:33 2014
Return-Path: <users-return-138075-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 115E39807
	for <apmail-maven-users-archive@www.apache.org>; Tue, 23 Dec 2014 21:27:33 +0000 (UTC)
Received: (qmail 45326 invoked by uid 500); 23 Dec 2014 21:27:31 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 45240 invoked by uid 500); 23 Dec 2014 21:27:31 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 45222 invoked by uid 99); 23 Dec 2014 21:27:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Dec 2014 21:27:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anders.g.hammar@gmail.com designates 74.125.82.52 as permitted sender)
Received: from [74.125.82.52] (HELO mail-wg0-f52.google.com) (74.125.82.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Dec 2014 21:27:23 +0000
Received: by mail-wg0-f52.google.com with SMTP id x12so10006342wgg.39
        for <users@maven.apache.org>; Tue, 23 Dec 2014 13:25:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=YD88bfiRoqou6s5hUwlUz9cc8ALqupc4rCxu71FbliE=;
        b=iRYKRbTzjh6m3lRkszmi0WwOAunRgRhnTIXgSO0EXYZjtKBP2q6zbnUzEWcOFLV0lq
         5jKNJV71EzxFzqVFXb08CsNMZC/5HXvCRtSmnDuZvLoCxM1kbfvgPHdPAI7lFkrGXdXv
         XTsIyaVdJOGBen9SBzztnaj/u4BBz3UjW4M8BUl10rXVnyLNFYoSExBSY3IO77DzrdjI
         QJCFpdUR2UYy+kQq5vVt6UmGPRMwu8CRE1mPXcqEycysCSWazmySa2K0UIkgvQQLVtQU
         /mTc4WlXnloCTQPVdkKofvjAL8DPVMAvsHULsy8eCDFjZPQm6US0KjZB5gX6S/1vrH1z
         w2UA==
MIME-Version: 1.0
X-Received: by 10.180.75.199 with SMTP id e7mr45671613wiw.21.1419369932263;
 Tue, 23 Dec 2014 13:25:32 -0800 (PST)
Sender: anders.g.hammar@gmail.com
Received: by 10.194.176.230 with HTTP; Tue, 23 Dec 2014 13:25:32 -0800 (PST)
In-Reply-To: <CAA8BW8H4RStyMZSqJybCWSJtyc7WbNHD-ULRYFhyQsNB2+kzdA@mail.gmail.com>
References: <CAA8BW8H4RStyMZSqJybCWSJtyc7WbNHD-ULRYFhyQsNB2+kzdA@mail.gmail.com>
Date: Tue, 23 Dec 2014 22:25:32 +0100
X-Google-Sender-Auth: YJoe6Enl_fUQu1WNW054gI0RVIM
Message-ID: <CAKDUN1tikh6zG3dJUP8zNebE+xODA8iyOUJpU6kgwEai9k5bHg@mail.gmail.com>
Subject: Re: Duplicate plugin declaration warning
From: Anders Hammar <anders@hammar.net>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=f46d043895779e1649050ae8d061
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043895779e1649050ae8d061
Content-Type: text/plain; charset=UTF-8

You don't bind a plugin to a phase but rather a plugin's goal. So it is
possible to do what you want by having just one plugin declaration but two
executions specified (for plugin A); one execution for goal A1 bound to the
generate-resources phase and one execution for goal A2 bound to the
process-resources phase. There's an example in [1].

The warning is a warning right now, it will still work. However, this
support can be removed in future versions of Maven.

[1]
http://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag

/Anders

On Tue, Dec 23, 2014 at 10:11 PM, David Hoffer <dhoffer6@gmail.com> wrote:

> I have some questions regarding the duplicate plugin declaration warning,
> e.g.
>
> [artifact:mvn] [WARNING] 'build.plugins.plugin.(groupId:artifactId)' must
> be unique but found duplicate declaration of plugin
> org.apache.maven.plugins:maven-xxx-plugin
>
> First is this a benign warning that can be ignored or is it really
> something that is not supported (multiple declarations of the same plugin)
> and that I really need to remove?
>
> If it's the later case this really limits the flexibility of plugins, let
> me explain with an example.
>
> If my current build does the following in order:
>
> Plugin A - Phase: generate-resources
> Plugin B - Phase: process-resources
> Plugin A - Phase: process-resources
>
> By defining plugin A twice I'm able to use the most appropriate phase for
> each instance of the plugin (btw, each instance has several executions).
> The key to the above is that plugin B has be be done between each of the
> two instances of plugin A.
>
> If I had to only have one plugin A I'd have to set the phase in the later
> case to something later than process-resources (or I'd have to adjust the
> first one to something earlier).  Not only does it make it harder to follow
> the flow (later in the pom is more clear) but it sometimes forces the use
> of poor phases as I have many other plugins in this pom after/before these
> that are tied to phases as well so it limits what can be chosen here to
> satisfy a no duplicate plugin rule.
>
> What's really the rule here regarding duplicate plugins?
>
> -Dave
>

--f46d043895779e1649050ae8d061--

