From users-return-136777-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Jul 14 18:55:39 2014
Return-Path: <users-return-136777-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4EFE11F30
	for <apmail-maven-users-archive@www.apache.org>; Mon, 14 Jul 2014 18:55:38 +0000 (UTC)
Received: (qmail 89186 invoked by uid 500); 14 Jul 2014 18:55:37 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 89100 invoked by uid 500); 14 Jul 2014 18:55:37 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 89088 invoked by uid 99); 14 Jul 2014 18:55:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jul 2014 18:55:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ekoifman@hortonworks.com designates 209.85.217.174 as permitted sender)
Received: from [209.85.217.174] (HELO mail-lb0-f174.google.com) (209.85.217.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Jul 2014 18:55:34 +0000
Received: by mail-lb0-f174.google.com with SMTP id u10so3191636lbd.33
        for <users@maven.apache.org>; Mon, 14 Jul 2014 11:55:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=8FIhApLLWWgPVnvI+/iRNHsj+JaNw5bBz2+VcdNzXmg=;
        b=P0Lampj7TEunikaNDVi6QjBeDMflb/cJDyj3NVzC1qqhKCOeviqQXzU1UAQA+kuDud
         S5hfPD9PQN4l/Q0go/ODqAqAJ50r5MUCuoRMyjMPFPxdy/Ex4DtK01dOfYaAuGusLrWV
         sft8Pak552FoFpKfHf+/Uj177e5HM1Jy5u4Y+abYBxOxJW1eL9VEtb3YXFyiOZuaREkN
         uBJ5v3JGH3NFjKo3c84lHwcQRn2x0Qyw1U47XMY/cQhZUcyD9nEy04uCaWqt+g0MZRwV
         auDsIgWFTUXnXd31VRxfELuSO56cM31R33zMQu77bxvYTzHXEW/GD1fKjV7PPq2zbsTK
         +JJA==
X-Gm-Message-State: ALoCoQlIrGdDKAON20eoZmlTzEPuLG+B1/fr5Q5rL/NgPemSwPOUlUfhSNq3o9PT9+N+k3LRgj2b1oqoAeWMwC6D8n4oiZcR2T12xpazig8UC/U5l9cBOuw=
MIME-Version: 1.0
X-Received: by 10.112.138.36 with SMTP id qn4mr2762626lbb.74.1405364110054;
 Mon, 14 Jul 2014 11:55:10 -0700 (PDT)
Received: by 10.113.5.169 with HTTP; Mon, 14 Jul 2014 11:55:10 -0700 (PDT)
In-Reply-To: <53C425FF.8020407@gmx.de>
References: <CAG0AUg1p76NL4WPPCkBg-U+wXf_TDxotXrzprGp29F-C0_J_Fg@mail.gmail.com>
	<53C425FF.8020407@gmx.de>
Date: Mon, 14 Jul 2014 11:55:10 -0700
Message-ID: <CAG0AUg2yqHDazKwmrLoFQWH5d43YdNQCWPeM1ipkZ8JvHgjHKA@mail.gmail.com>
Subject: Re: maven shade/artifact naming help
From: Eugene Koifman <ekoifman@hortonworks.com>
To: Maven Users List <users@maven.apache.org>, info@soebes.de
Content-Type: multipart/alternative; boundary=089e011612ac8f716f04fe2bd44e
X-Virus-Checked: Checked by ClamAV on apache.org

--089e011612ac8f716f04fe2bd44e
Content-Type: text/plain; charset=UTF-8

Thank you for the reply but it doesn't answer my question.

"The shade plug in config doesn't
retain the original (slim) jar so the only artifact produced/published from
this module is A.jar which is the uber jar."  - this is a statement about
the current pom in the project, not the capabilities of the shade plug in.

Adding "shadedArtifactAttached" will create the slim jar called A.jar and
an uber jar called A-shaded.jar.  Unfortunately, what is needed is an uber
jar called A.jar and a slim jar called anything.


On Mon, Jul 14, 2014 at 11:48 AM, Karl Heinz Marbaise <khmarbaise@gmx.de>
wrote:

> Hi Eugene,
>
>
> > Hi,
>
>> I have an existing multi-module project.  A module A (i.e. artifactId=A)
>> uses shade plugin to create an uber jar.  The shade plug in config doesn't
>> retain the original (slim) jar so the only artifact produced/published
>> from
>> this module is A.jar which is the uber jar.
>>
>
> Which is not true, cause you can configure the maven-shade-plugin to
> produce both artifacts via:
>
> <shadedArtifactAttached>true</shadedArtifactAttached>
>
> http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html
>
>
>
>> Now I need to produce a 'slim' jar (lets call it A-core.jar) which only
>> has
>> the classes from module A.   Since this was set up several releases ago I
>> have to keep A.jar as a fat jar to preserve backwards compatibility.
>>
>> (I can easily make shade produce A.jar as the thin jar and A-uber.jar (or
>> any other name) as the fat jar, but this is not acceptable.)
>>
>> Is there some way to make shade plug in do that?
>>
>>
> Kind regards
> Karl-Heinz Marbaise
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>


-- 

Thanks,
Eugene

-- 
CONFIDENTIALITY NOTICE
NOTICE: This message is intended for the use of the individual or entity to 
which it is addressed and may contain information that is confidential, 
privileged and exempt from disclosure under applicable law. If the reader 
of this message is not the intended recipient, you are hereby notified that 
any printing, copying, dissemination, distribution, disclosure or 
forwarding of this communication is strictly prohibited. If you have 
received this communication in error, please contact the sender immediately 
and delete it from your system. Thank You.

--089e011612ac8f716f04fe2bd44e--

