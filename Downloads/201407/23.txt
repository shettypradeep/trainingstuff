From users-return-136747-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Jul  8 15:50:13 2014
Return-Path: <users-return-136747-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43150114DA
	for <apmail-maven-users-archive@www.apache.org>; Tue,  8 Jul 2014 15:50:13 +0000 (UTC)
Received: (qmail 41200 invoked by uid 500); 8 Jul 2014 15:50:11 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 41123 invoked by uid 500); 8 Jul 2014 15:50:11 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 41111 invoked by uid 99); 8 Jul 2014 15:50:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jul 2014 15:50:11 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bimargulies@gmail.com designates 209.85.219.45 as permitted sender)
Received: from [209.85.219.45] (HELO mail-oa0-f45.google.com) (209.85.219.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Jul 2014 15:50:09 +0000
Received: by mail-oa0-f45.google.com with SMTP id o6so6593076oag.4
        for <users@maven.apache.org>; Tue, 08 Jul 2014 08:49:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Md7dIFi8Bc/pSiRiScUBbCKcmeN1EPcKXu5PjjuzWWg=;
        b=Gk1733xJaXCr8lmqXCLTyhmDDwfSuQ0Tr6xI4hKvZgk2HHDSKF17irljFyCXnL7iMk
         whVJHT6VNmrg32u4T6uk7gVBPJDhbdk7ALGrHU0z6GLsxIej7JFlpgB/Y4oDhD3BQqLo
         Cqb3aFcoX3y1ajPhnl2ZPLdVjU9UNqP6svqXjkZovi/oD6OmoTORZIeK/Fqn/14cYyw3
         ZCCp1qtmAB0GC8lEx2jIN0yjUvSY+zSA+Eg79WPUGcyStPSUq0trk43eHdpMO/oNzEkr
         cbzn/sN2hwpyWGgVAsjMvu0W/cFMiC16Cew05VnFXnoobqBHhRMST1ZTWc/7sm9cXR5N
         Mvaw==
MIME-Version: 1.0
X-Received: by 10.60.46.162 with SMTP id w2mr39744671oem.26.1404834584225;
 Tue, 08 Jul 2014 08:49:44 -0700 (PDT)
Received: by 10.202.220.68 with HTTP; Tue, 8 Jul 2014 08:49:44 -0700 (PDT)
Received: by 10.202.220.68 with HTTP; Tue, 8 Jul 2014 08:49:44 -0700 (PDT)
In-Reply-To: <CAPkEcwg-h62xm_6CcByog0B7mjC1MkWPiqrctYRzbx+nGaEn5Q@mail.gmail.com>
References: <CAGYyBggemkhNybaU9ZkPvtoT2DWCvjg3M7kuZNJajqzzdbn2RA@mail.gmail.com>
	<CAPkEcwibsDow-b+GLbC2Q12CeZ39jvOn5XbSdcXY4ZOWmANsYA@mail.gmail.com>
	<CAGYyBghR5pw-0daFZLEfMMXsAoYKuwmoJZxO3+Uy79yjb-oJ9A@mail.gmail.com>
	<CAPkEcwiWrLQLpC47hs3jsXXu7kX8T-+szcbcfoGZqp2sZZns-w@mail.gmail.com>
	<BLU172-W2326F878D0AC1B5C6DF432AE0D0@phx.gbl>
	<CAPkEcwg-h62xm_6CcByog0B7mjC1MkWPiqrctYRzbx+nGaEn5Q@mail.gmail.com>
Date: Tue, 8 Jul 2014 11:49:44 -0400
Message-ID: <CALhtWkfKig+Hju62Y-0yHzdsPZXXPS6=Rj53-ZP3LgWrm_uvqw@mail.gmail.com>
Subject: Re: Running maven shade on a preexisting jar
From: Benson Margulies <bimargulies@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=089e013d09605ccefb04fdb08a32
X-Virus-Checked: Checked by ClamAV on apache.org

--089e013d09605ccefb04fdb08a32
Content-Type: text/plain; charset=UTF-8

Ignore the sales pitch and the unpacking complexity.

1. Make an ordinary new project with no source code.

2. List your jar as a dependency.

3. Configure shade. It can be configured to operate on dependencies.
On Jul 8, 2014 6:30 AM, "james northrup" <northrup.james@gmail.com> wrote:

> MG: sure or
> http://en.wikipedia.org/wiki/Java_Decompiler
>
>
> On Mon, Jul 7, 2014 at 4:13 PM, Martin Gainty <mgainty@hotmail.com> wrote:
>
> >
> >
> > > From: northrup.james@gmail.com
> > > Date: Mon, 7 Jul 2014 14:31:31 -0700
> > > Subject: Re: Running maven shade on a preexisting jar
> > > To: users@maven.apache.org
> > >
> > > shade is a uber jar plugin.  there are 3 uber jar plugins that matter,
> > > shade, maven-assembly, and proguard.
> > >
> > > for beginners:
> > > all of them work more or less by merging a project into a  single new
> jar
> > > just reading the pom dependencies.
> > >
> > > maven assembly does the least work.  good for quick jobs
> > >
> > > shade-plugin sometimes does a good job but imho if it works once you
> are
> > > buying into a false sense of security and will be bitten as you grow a
> > > project.
> > >
> > > proguard is industrial strength and imho returns the best result for
> > > investing in rtfm.
> > >
> > > all of the above have a special configs to do parts and pieces.  a
> > > beginner's mistake would be to pursue that course of action.  don't.
> >  make
> > > a simple uber-jar project with one output jar combined from all of the
> > > input jars, and learn how to exclude collisions.
> > >
> > > if you have  some proprietary jar with no source spend some time with
> jad
> > > to make source and refactor your packages to do the above, "simple"
> > > uber-jar
> > MG>James i had some difficulty locating Java Decompiler (JAD) ..can i
> > assume this is JAD repository we should reference?
> > MG>http://varaneckas.com/jad/
> > >
> > >
> > > On Mon, Jul 7, 2014 at 2:15 PM, Robert James <srobertjames@gmail.com>
> > wrote:
> > >
> > > > How do I run Maven Shade on a standalone jar (ie with no sources to
> > > > build from)? Please realize that I'm a beginner to Maven.
> > > >
> > > > On 7/7/14, james northrup <northrup.james@gmail.com> wrote:
> > > > > hi shade can possibly juxtapose jar deps diffrently from one build
> > to the
> > > > > next in my experience. if you think you are having collisions you
> > should
> > > > > probably do 2 things
> > > > >
> > > > > 1) use <exclude> on the older jar from the older <dependency> to
> > avoid
> > > > the
> > > > > collision
> > > > > 2) see if proguard fixes what shade breaks, if shade stays broken
> > after
> > > > #1.
> > > > >  it's pretty intense
> > > > >
> > > > >
> > > > > On Mon, Jul 7, 2014 at 12:21 PM, Robert James <
> > srobertjames@gmail.com>
> > > > > wrote:
> > > > >
> > > > >> I have a jar that I need to shade - that is, change the name of
> many
> > > > >> of the internal classes (to avoid conflicts with another jar)
> except
> > > > >> for a few classes which remain exposed.  The jar is already built,
> > > > >> source is not at hand.  How can I use maven shade to shade that
> jar?
> > > > >>
> > > > >> (Disclaimer: I'm a maven neophyte)
> > > > >>
> > > > >>
> > ---------------------------------------------------------------------
> > > > >> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > > > >> For additional commands, e-mail: users-help@maven.apache.org
> > > > >>
> > > > >>
> > > > >
> > > > >
> > > > > --
> > > > > Jim Northrup  *  (408) 837-2270 *
> > > > >
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > > > For additional commands, e-mail: users-help@maven.apache.org
> > > >
> > > >
> > >
> > >
> > > --
> > > Jim Northrup  *  (408) 837-2270 *
> >
> >
>
>
>
> --
> Jim Northrup  *  (408) 837-2270 *
>

--089e013d09605ccefb04fdb08a32--

