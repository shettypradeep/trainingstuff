From users-return-136819-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Jul 21 22:26:40 2014
Return-Path: <users-return-136819-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 033D111916
	for <apmail-maven-users-archive@www.apache.org>; Mon, 21 Jul 2014 22:26:40 +0000 (UTC)
Received: (qmail 28581 invoked by uid 500); 21 Jul 2014 22:26:38 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 28507 invoked by uid 500); 21 Jul 2014 22:26:38 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 28495 invoked by uid 99); 21 Jul 2014 22:26:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jul 2014 22:26:37 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dhoffer6@gmail.com designates 209.85.220.172 as permitted sender)
Received: from [209.85.220.172] (HELO mail-vc0-f172.google.com) (209.85.220.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Jul 2014 22:26:35 +0000
Received: by mail-vc0-f172.google.com with SMTP id im17so13583276vcb.17
        for <users@maven.apache.org>; Mon, 21 Jul 2014 15:26:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gGGdNnZy4Nm/iJweNQ7BTBtnW4RxkIjgcV23U+nNFiE=;
        b=HgEvwwScreAWwogrrRnjI1R9to9ea3jjibS+D2Ib0QuJa5YleCMDFaAmloSbgSyEMH
         0lRlH/CkzPli6uQTlNbm04U1t8vPRdiDvnSYKXoeA+ga4nVFTCxRT94zESSsCHoMPTnV
         aGRG4xpkkzFP4k4aONYG3fQLak68IuPzWaGQFl01l66LWrH/26KiO9zYdu4ULbMpv/K/
         g4vy1z0J8UswaP9TKlCHIk3JP9FAva5RUXR38WT30b9kzDMJDaOHJpvc5ucWWqrFCbRH
         7wMqFTOJhTXYcsjbo7ul8TJmgaUAxEFgbXMhv2njaJv9d4cdUxRcsCCs3NR6JQHN9qGQ
         14Ug==
MIME-Version: 1.0
X-Received: by 10.52.0.177 with SMTP id 17mr28867309vdf.12.1405981570871; Mon,
 21 Jul 2014 15:26:10 -0700 (PDT)
Received: by 10.220.109.1 with HTTP; Mon, 21 Jul 2014 15:26:10 -0700 (PDT)
In-Reply-To: <CAEBcyzq7aznBgKfVH6DzyzWnVmSwTs3zpfrsOZY1xTUnfqaF6g@mail.gmail.com>
References: <CAA8BW8HFWKNmv_ZTE9wuYQMDJ_FxUzhkXAnW_g3wrVFjovj=cA@mail.gmail.com>
	<53CD80A3.6040302@gmx.de>
	<CAA8BW8FDv2vZhEg5OSOFkyWuRvUAt_Z_tYx7iV80MuQLEx2fcw@mail.gmail.com>
	<CAEBcyzq7aznBgKfVH6DzyzWnVmSwTs3zpfrsOZY1xTUnfqaF6g@mail.gmail.com>
Date: Mon, 21 Jul 2014 16:26:10 -0600
Message-ID: <CAA8BW8GAySFHNkuVO9xK9+5gWjjzBhOCX9akWDdqJ9FC9yRT+g@mail.gmail.com>
Subject: Re: maven-dependency-plugin unpacking aar format?
From: David Hoffer <dhoffer6@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b86e4f217b89f04febb9858
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b86e4f217b89f04febb9858
Content-Type: text/plain; charset=UTF-8

It has resources specified by the includes that are needed by a different
sub-system of the build.  Some are in jars but lots are in aars too.

<includes>META-INF/*.wsdl,META-INF/schema/**/*.xsd</includes>


On Mon, Jul 21, 2014 at 3:56 PM, William Ferguson <
william.ferguson@xandar.com.au> wrote:

> David, what the use case for unpacking the AAR?
>
>
> William
>
>
> On Tue, Jul 22, 2014 at 7:27 AM, David Hoffer <dhoffer6@gmail.com> wrote:
>
> > Here is a simplified project showing my use-case, I hope this helps.
>  Note
> > I'm using unpack-dependencies as the aar is a module in the same project;
> > however I assume the same problem exists with unpack, if that's the case
> > that would make the test project even simpler.
> >
> > <?xml version="1.0" encoding="UTF-8"?>
> >
> > <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="
> > http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
> > http://maven.apache.org/POM/4.0.0
> > http://maven.apache.org/xsd/maven-4.0.0.xsd">
> >
> >     <modelVersion>4.0.0</modelVersion>
> >
> >     <groupId>com.company.project</groupId>
> >     <artifactId>service</artifactId>
> >     <version>1.0-SNAPSHOT</version>
> >
> >     <packaging>pom</packaging>
> >
> >     <dependencies>
> >         <!--note: maven-dependency-plug fails reporting that aar is not
> > supported-->
> >         <dependency>
> >             <groupId>com.company.project</groupId>
> >             <artifactId>axis-service</artifactId>
> >             <type>aar</type>
> >             <version>1.0-SNAPSHOT</version>
> >         </dependency>
> >         <!--note: I assume it will have the same problem unpacking a
> public
> > artifact such as this-->
> >         <dependency>
> >             <groupId>com.helpshift</groupId>
> >             <artifactId>android-aar</artifactId>
> >             <version>3.4.2</version>
> >             <type>aar</type>
> >         </dependency>
> >     </dependencies>
> >
> >     <build>
> >         <plugins>
> >             <plugin>
> >                 <groupId>org.apache.maven.plugins</groupId>
> >                 <artifactId>maven-dependency-plugin</artifactId>
> >                 <executions>
> >                     <execution>
> >                         <id>unpack-axis-service</id>
> >                         <phase>generate-resources</phase>
> >                         <goals>
> >                             <goal>unpack-dependencies</goal>
> >                         </goals>
> >                         <configuration>
> >
> > <includeArtifactIds>axis-service</includeArtifactIds>
> >
> >
> >
> <outputDirectory>${project.build.directory}/generated-resources/axis</outputDirectory>
> >                             <overWriteReleases>true</overWriteReleases>
> >                             <overWriteSnapshots>true</overWriteSnapshots>
> >
> > <includes>META-INF/*.wsdl,META-INF/schema/**/*.xsd</includes>
> >                         </configuration>
> >                     </execution>
> >                 </executions>
> >             </plugin>
> >         </plugins>
> >     </build>
> >
> > </project>
> >
> >
> >
> > On Mon, Jul 21, 2014 at 3:05 PM, Karl Heinz Marbaise <khmarbaise@gmx.de>
> > wrote:
> >
> > > HI David,
> > >
> > >
> > >
> > > > I'm getting the following error trying to unpack some files from an
> > aar.
> > >
> > >>   Is this not supported?  Is there any way to do this?
> > >>
> > >> Failed to execute goal
> > >>
> org.apache.maven.plugins:maven-dependency-plugin:2.8:unpack-dependencies
> > >> (unpack-service) on project service: Unknown archiver type: No such
> > >> archiver: 'aar'. -> [Help 1]
> > >>
> > >
> > > Could you please prepare a example project which reproduces the
> > > problem..so i can create a JIRA issue for this...
> > >
> > > Kind regards
> > > Karl-Heinz Marbaise
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > > For additional commands, e-mail: users-help@maven.apache.org
> > >
> > >
> >
>

--047d7b86e4f217b89f04febb9858--

