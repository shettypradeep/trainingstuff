From users-return-136877-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Jul 24 17:09:09 2014
Return-Path: <users-return-136877-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AC5C11A29
	for <apmail-maven-users-archive@www.apache.org>; Thu, 24 Jul 2014 17:09:09 +0000 (UTC)
Received: (qmail 81346 invoked by uid 500); 24 Jul 2014 17:09:07 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 81270 invoked by uid 500); 24 Jul 2014 17:09:07 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 81256 invoked by uid 99); 24 Jul 2014 17:09:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jul 2014 17:09:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of carlspring@gmail.com designates 209.85.215.51 as permitted sender)
Received: from [209.85.215.51] (HELO mail-la0-f51.google.com) (209.85.215.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Jul 2014 17:09:04 +0000
Received: by mail-la0-f51.google.com with SMTP id el20so2165102lab.10
        for <users@maven.apache.org>; Thu, 24 Jul 2014 10:08:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=h8cpxQrAtedZth/8IgrHzE9IgqVRY25J9cHhlm5jHOE=;
        b=kwaqZFSeGVac5MDRviVTU8Zi46iz8SO4O4vV2eHoixyMbSB8gcczADB9vYZwSxyfBU
         AD8ZQh7EqiBQv8wqD+SNvnTH42wFp0X28PRp44rZkQ4tvXE/TsWNvlQBqgi/OOKiCckM
         QONTmyAB+UuYO0fP1xFBVuMnI/d+pwp0NjzXQmHz6lM4FtkETaZIxZrK+HRaQhehr2ci
         eVrVkGbulHC1n27MLcB2MA51WKM1w7l0ZEcc3jzAA08zd3ZqDaw1Yjj4KdnOojup+gLw
         XS8MMyd3mLFYb5E/zSJ0T0hJ32g9iAP1JSiQJiLwG6XfGcoBXarYo7BLBm6D2aGDuANN
         08gw==
X-Received: by 10.152.23.197 with SMTP id o5mr11076297laf.60.1406221720337;
 Thu, 24 Jul 2014 10:08:40 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.112.180.98 with HTTP; Thu, 24 Jul 2014 10:08:20 -0700 (PDT)
In-Reply-To: <1406221337839-5800947.post@n5.nabble.com>
References: <1406221337839-5800947.post@n5.nabble.com>
From: Martin Todorov <carlspring@gmail.com>
Date: Thu, 24 Jul 2014 18:08:20 +0100
Message-ID: <CANnZoJvR9sJjkaM8fYrWZ4eNQeBOjJ7SGhxSD_aKX-sS=ZjBRg@mail.gmail.com>
Subject: Re: Conditionally executing a script in profile
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=089e0158b5be1dc46704fef382ad
X-Virus-Checked: Checked by ClamAV on apache.org

--089e0158b5be1dc46704fef382ad
Content-Type: text/plain; charset=UTF-8

Hi,

I would suggest adding a second profile which is triggered only when the
other property is specified and only executes the third script. It's a bit
of duplication, but it should work.
When both profiles get activated, the plugin configurations will get merged.

I hope this helps!
Kind regards,

Martin





On Thu, Jul 24, 2014 at 6:02 PM, hanuman <hanumannallapati@gmail.com> wrote:

> Hi All,
>
> I am trying to execute a particular sql script conditionally in a
> profile(POM.XML).
>
> Example: assume I had a following profile in a POM.xml
> if I run "mvn -Pload-test-data -e
> it's executing all scripts mentioned in SrcFiles tag.
>
> But I am trying to execute "script3.sql" only when a particular flag is
> passed as 'y'
>
> i.e..,I am looking for a command like
> mvn -Pload-test-data -e -Dref_flag='y'
> then only execute script3.sql otherwise not.
>
> Could you please assist me how we can do that?
> Thanks very much for regardin my query.
>
> Profile in my POM.xml::
>
>         <profile>
>             <id>load-test-data</id>
>             <build>
>                 <plugins>
>                     <plugin>
>                         <groupId>com.voca.maven.plugins</groupId>
>                         <artifactId>maven-database-util-plugin</artifactId>
>                         <version>0.9</version>
>                         <executions>
>                             <execution>
>                 <id>load-test-data</id>
>                                 <goals>
>                                     <goal>execute</goal>
>                                 </goals>
>                                 <configuration>
>
> <settingsKey>fps-fpsedw-db</settingsKey>
>                                     <srcFiles>
>
>       <srcFile>util/script1.sql</srcFile>
>
>       <srcFile>util/script2.sql</srcFile>
>
>       <srcFile>util/script3.sql</srcFile>
>                                     </srcFiles>
>                                 </configuration>
>                             </execution>
>                         </executions>
>                     </plugin>
>                 </plugins>
>             </build>
>         </profile>
>
>
>
> --
> View this message in context:
> http://maven.40175.n5.nabble.com/Conditionally-executing-a-script-in-profile-tp5800947.html
> Sent from the Maven - Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--089e0158b5be1dc46704fef382ad--

