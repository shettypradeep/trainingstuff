From users-return-136761-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Jul 10 01:20:13 2014
Return-Path: <users-return-136761-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F97311308
	for <apmail-maven-users-archive@www.apache.org>; Thu, 10 Jul 2014 01:20:13 +0000 (UTC)
Received: (qmail 30668 invoked by uid 500); 10 Jul 2014 01:20:12 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 30587 invoked by uid 500); 10 Jul 2014 01:20:12 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 30575 invoked by uid 99); 10 Jul 2014 01:20:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jul 2014 01:20:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of paulus.benedictus@gmail.com designates 209.85.192.66 as permitted sender)
Received: from [209.85.192.66] (HELO mail-qg0-f66.google.com) (209.85.192.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Jul 2014 01:20:09 +0000
Received: by mail-qg0-f66.google.com with SMTP id j107so2192221qga.9
        for <users@maven.apache.org>; Wed, 09 Jul 2014 18:19:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=EyAL9XowKxtgSMqTqYGaGYutNTjLBQrgaf+x9OpuZcA=;
        b=d2Ys9+woUYNqT+omjPvAIs3jKCDwXO90mQbseZNXSALMOTiFjWWS9DsYxCoK139vp5
         3+amWkAUl60axB4KjheniEMT7cNQeTiWsblQ0+auA/fFDa9dTpNnOJ/oO6hQkkMDaUeJ
         E4TE5xNI5oZfngKLRApxGdGN11vs4GGQtdzuFOh4ekX86WDt9q1XD26zrYqgUIOPaKtY
         /DYP+a/4hryUE8uzG6Z5hrRNnFP5vGZk/B0hX7oPk55RNbMaaWr7gSWwP9pOiI3GL7QL
         vDoRf7l8TdpqhOIzxW1V7rHEwq3SBb0KISHY6GmiI+iTOrxkwN4MdgP4MlfnGyII5d9p
         WZOg==
MIME-Version: 1.0
X-Received: by 10.224.130.5 with SMTP id q5mr74990118qas.72.1404955184863;
 Wed, 09 Jul 2014 18:19:44 -0700 (PDT)
Sender: paulus.benedictus@gmail.com
Received: by 10.96.213.39 with HTTP; Wed, 9 Jul 2014 18:19:44 -0700 (PDT)
Received: by 10.96.213.39 with HTTP; Wed, 9 Jul 2014 18:19:44 -0700 (PDT)
In-Reply-To: <1404947521694-5799844.post@n5.nabble.com>
References: <1404947521694-5799844.post@n5.nabble.com>
Date: Wed, 9 Jul 2014 20:19:44 -0500
X-Google-Sender-Auth: iRdj7LAMGxyKlveMyP8LacKOYpU
Message-ID: <CABLGb9zQzrkpZuU4gheD-xLY2kuY+5jU=79ZCqfRX=Bv+f41tg@mail.gmail.com>
Subject: Re: Javadoc aggregate NullPointerException
From: Paul Benedict <pbenedict@apache.org>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2c452b81d7f04fdcc9e5c
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c2c452b81d7f04fdcc9e5c
Content-Type: text/plain; charset=UTF-8

The NPE is in the javadoc compiler not Maven. You could submit the stack
trace to Oracle or do some research to determine if upgrading your JDK
fixes this problem.
On Jul 9, 2014 6:12 PM, "Alexddupree" <alexddupree@gmail.com> wrote:

> I am trying to create an aggregate javadoc for a multi module project. The
> project compiles with mvn install -DskipTests (I am not running tests on my
> machine). When I run mvn validate javadoc:javadoc it works and compiles all
> of the javadoc in each modules \target\apidocs directory. Then when I run
> either mvn validate javadoc:javadoc javadoc:aggregate or mvn validate
> javadoc:aggregate fails partway through with about 1200 lines of errors.
> Some examples of types are:
>
> Failed to execute goal
> org.apache.maven.plugins:maven-javadoc-plugin:2.9.1:aggregate (default-cli)
> on project commons-superpom: An error has occurred in JavaDocs report
> generation:
> [ERROR] Exit code: 1 - C:\workspaces\win\tfs\****\Foo.java:21: type
> org.springframework.context.ApplicationListener does not take parameters
> [ERROR] public class Foo implements ApplicationContextAware,
> ApplicationListener<ContextRefreshedEvent> {
> [ERROR] ^
> .
> .
> .
> C:\workspaces\win\tfs\****\test\Bar.java:52: cannot find symbol
> [ERROR] symbol  : class PostInsertEvent
> [ERROR] location: class com.Barclass
> [ERROR] public void BarFunct(PostInsertEvent event) {
> [ERROR] ^
> [ERROR] C:java.lang.NullPointerException
> [ERROR] at com.sun.tools.javadoc.TypeMaker.getType(TypeMaker.java:67)
> [ERROR] at com.sun.tools.javadoc.TypeMaker.getType(TypeMaker.java:29)
> [ERROR] at
> com.sun.tools.javadoc.ClassDocImpl.superclassType(ClassDocImpl.java:439)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.util.Util.getAllInterfaces(Util.java:386)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.util.Util.getAllInterfaces(Util.java:424)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.util.ClassTree.processType(ClassTree.java:162)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.util.ClassTree.buildTree(ClassTree.java:114)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.util.ClassTree.<init>(ClassTree.java:73)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:104)
> [ERROR] at
>
> com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:64)
> [ERROR] at
> com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:42)
> [ERROR] at com.sun.tools.doclets.standard.Standard.start(Standard.java:23)
> [ERROR] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> [ERROR] at
>
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
> [ERROR] at
>
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
> [ERROR] at java.lang.reflect.Method.invoke(Method.java:597)
> [ERROR] at
> com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:269)
> [ERROR] at
> com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:143)
> [ERROR] at com.sun.tools.javadoc.Start.parseAndExecute(Start.java:340)
> [ERROR] at com.sun.tools.javadoc.Start.begin(Start.java:128)
> [ERROR] at com.sun.tools.javadoc.Main.execute(Main.java:41)
> [ERROR] at com.sun.tools.javadoc.Main.main(Main.java:31)
> After it crashes all that is left in the /target directory next to my
> parent
> pom.xml is 2 files 1 is javadoc-bundle-options which contains an xml file:
>
> <?xml version="1.0" encoding="UTF-8"?>
> <javadocOptions>
>   <docletArtifacts>
>     <docletArtifact />
>   </docletArtifacts>
>   <tagletArtifacts>
>     <tagletArtifact />
>   </tagletArtifacts>
>   <excludePackageNames>
>     <excludePackageName>org.foobar.*</excludePackageName>
>   </excludePackageNames>
>   <javadocResourcesDirectory>src/main/javadoc</javadocResourcesDirectory>
> </javadocOptions>
> and the second is site which contains a file called apidocs which contains
> 3
> files javadoc.bat, options, and packages. They contain what they appear to
> contain a batch script to run the javadoc.exe with those options and on
> those packages. When run without modification the javadoc.bat file fails
> with the same errors though slightly different output.
>
> The first error I copied is straight up wrong. ApplicationListener is
> parameterized and can take ContextRefreshedEvent per the spring
> documentation. PostInsertEvent is correctly imported as well in the second
> error.
>
> My plugin configuration for javadoc:aggregate is as follows:
> <plugin>
>         <groupId>org.apache.maven.plugins</groupId>
>         <artifactId>maven-javadoc-plugin</artifactId>
>         <version>${maven-javadoc-plugin.version}</version>
>         <executions>
>                 <execution>
>                         <id>attach-javadocs</id>
>                         <goals>
>                                 <goal>aggregate</goal>
>                         </goals>
>                 </execution>
>         </executions>
>         <configuration>
>
> <excludePackageNames>org.hibernate.*;org.spring.*</excludePackageNames>
>                 <verbose>true</verbose>
>                 <fork>true</fork>
>                 <showDeprecation>true</showDeprecation>
>                 <showWarnings>true</showWarnings>
>                 <source>${java.source.version}</source>
>                 <target>${java.target.version}</target>
>                 <compilerVersion>${java.source.version}</compilerVersion>
>                 <compilerArgument>-Xlint:all</compilerArgument>
>                 <minmemory>128m</minmemory>
>                 <maxmem>512m</maxmem>
>
>                 <encoding>${project.build.sourceEncoding}</encoding>
>
>                 <additionalparam>
>                         -charset UTF-8
>                         -docencoding UTF-8
>                         -version
>                         -author
>                         -breakiterator
>                         -linksource
>                         -sourcetab 4
>                         -windowtitle "${project.name} ${project.version}
> API Reference"
>                         -doctitle "${project.name} ${project.version} API
> Reference"
>                         -bottom "Copyright ${project.inceptionYear}-Present
> ${project.organization.name}. All Rights Reserved."
>                         -link http://java.sun.com/javase/6/docs/api/
>                         -link http://jsr311.java.net/nonav/releases/1.1
>                 </additionalparam>
>         </configuration>
> </plugin>
>
> If I exclude the commented package then the build runs fine. If however I
> exclude all of the files in the package and not the package then it crashes
> with very similar errors. I can generate the javadoc just fine in eclipse.
> I
> can stop the nullpointerexception if I edit the options file generated
> after
> a failure to use 3.3.2.GA/hibernate-core-3.3.2.GA.jar instead of
> hibernate-core-4.1.8.Final.jar and then run the bat file. This produces a
> complete aggregate javadoc site however, there are several errors relating
> to @Typedef in the run. Javadoc 1.7_60 and 1.6_45 both fail in the same
> way.
>
>
>
> --
> View this message in context:
> http://maven.40175.n5.nabble.com/Javadoc-aggregate-NullPointerException-tp5799844.html
> Sent from the Maven - Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--001a11c2c452b81d7f04fdcc9e5c--

