From users-return-136889-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Jul 25 06:10:19 2014
Return-Path: <users-return-136889-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9411311047
	for <apmail-maven-users-archive@www.apache.org>; Fri, 25 Jul 2014 06:10:19 +0000 (UTC)
Received: (qmail 8751 invoked by uid 500); 25 Jul 2014 06:10:18 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 8674 invoked by uid 500); 25 Jul 2014 06:10:17 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 8661 invoked by uid 99); 25 Jul 2014 06:10:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jul 2014 06:10:17 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anders.g.hammar@gmail.com designates 74.125.82.170 as permitted sender)
Received: from [74.125.82.170] (HELO mail-we0-f170.google.com) (74.125.82.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Jul 2014 06:10:13 +0000
Received: by mail-we0-f170.google.com with SMTP id w62so3801501wes.15
        for <users@maven.apache.org>; Thu, 24 Jul 2014 23:09:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=0sRdLsI4AEdhNVVURgbGW/r9ni/qNA4Ol4pfNOJDUtM=;
        b=gz7h4pCzfjPLUOJK7Ji56brtbonlWALT5poIUWUm5bobsrYjx/dyAf1akXhZ6EtHiK
         t2rURoESnhrGveK0vxuleAaKbLvppqW0UPKplzb+DzqsNCEy49OPfsvtE3OXcSqzk3nK
         yVpNBNNvrlNM1BjCPbkd2YpVOZKW41lhP0CeFE/Etoh9jMWbF8Qa8TdjCY+JEiGFjKk4
         H2/R5yKtN86vR6YLNLG7VZAkyBgER48zv9cfniQsAFb1GLOmcbuzbBm8OZHbIXZGyoVa
         bUnwqICYelrkTEqdVhoSOo+Ow0b3tZmZ2sGYK5LmapOHIBxFT29DdaawKUFeK85Qvfus
         ASzw==
MIME-Version: 1.0
X-Received: by 10.180.106.138 with SMTP id gu10mr2120862wib.21.1406268592274;
 Thu, 24 Jul 2014 23:09:52 -0700 (PDT)
Sender: anders.g.hammar@gmail.com
Received: by 10.194.32.195 with HTTP; Thu, 24 Jul 2014 23:09:52 -0700 (PDT)
In-Reply-To: <253F2DE7-8476-4AD0-9FC5-28BB34E94FBF@apple.com>
References: <253F2DE7-8476-4AD0-9FC5-28BB34E94FBF@apple.com>
Date: Fri, 25 Jul 2014 08:09:52 +0200
X-Google-Sender-Auth: sk3sQ_Fi04Z6ZqdWfUOu8Y6OXBM
Message-ID: <CAKDUN1vL+Sxu2+QOoH_0X+TXpL5C=2tqiEwkbZDGjWpyAiqGuw@mail.gmail.com>
Subject: Re: trouble running jaxb2-maven-plugin : You are running with invalid
 JAXP api or implementation
From: Anders Hammar <anders@hammar.net>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f2345d3e6c2fe04fefe6ba6
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f2345d3e6c2fe04fefe6ba6
Content-Type: text/plain; charset=UTF-8

Could it be this:
http://stackoverflow.com/questions/18493541/invalid-jaxp-api-when-unmarshaling-jaxb

/Anders


On Fri, Jul 25, 2014 at 3:31 AM, Andrew Davidson <adavidson2@apple.com>
wrote:

> Hello
>
> I am having a heck of a time working with XSD files and maven. I am
> working on a mac. It looks like I have the latest and greatest xjc.
>
> Any idea what my bug is?
>
> Kind regards
>
> Andy
>
> $ which java
> /usr/bin/java
> $ java -version
> java version "1.7.0_21"
> Java(TM) SE Runtime Environment (build 1.7.0_21-b12)
> Java HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)
> $ which xjc
> /usr/bin/xjc
> $ xjc -version
> xjc 2.2.4-2
> $
>
>
> [INFO] --- jaxb2-maven-plugin:1.6:xjc (xjc) @ athena-aide-myaccess ---
> [INFO] Generating source...
> [INFO] parsing a schema...
> Jul 24, 2014 6:22:34 PM com.sun.xml.bind.v2.util.XmlFactory
> createDocumentBuilderFactory
> SEVERE: null
> java.lang.AbstractMethodError:
> javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V
>         at
> com.sun.xml.bind.v2.util.XmlFactory.createDocumentBuilderFactory(XmlFactory.java:192)
>         at
> com.sun.tools.xjc.reader.internalizer.DOMForest.<init>(DOMForest.java:162)
>         at
> com.sun.tools.xjc.ModelLoader.buildDOMForest(ModelLoader.java:315)
>         at
> com.sun.tools.xjc.ModelLoader.loadXMLSchema(ModelLoader.java:377)
>         at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:174)
>         at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:119)
>         at com.sun.tools.xjc.Driver.run(Driver.java:333)
>         at
> org.codehaus.mojo.jaxb2.AbstractXjcMojo.execute(AbstractXjcMojo.java:316)
>         at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
>         at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
>         at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
>         at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
>         at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
>         at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
>         at
> org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
>         at
> org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
>         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
>         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
>         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
>         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
>         at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>         at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
>         at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
>         at java.lang.reflect.Method.invoke(Method.java:601)
>         at
> org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
>         at
> org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
>         at
> org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
>         at
> org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
>
> [INFO]
> ------------------------------------------------------------------------
> [INFO] BUILD FAILURE
> [INFO]
> ------------------------------------------------------------------------
> [INFO] Total time: 1.843s
> [INFO] Finished at: Thu Jul 24 18:22:34 PDT 2014
> [INFO] Final Memory: 9M/24M
> [INFO]
> ------------------------------------------------------------------------
> [ERROR] Failed to execute goal
> org.codehaus.mojo:jaxb2-maven-plugin:1.6:xjc (xjc) on project
> athena-aide-myaccess: You are running with invalid JAXP api or
> implementation. JAXP api/implementation of version 1.3.1 (included in JDK6)
> or higher is required. In case you are using ant, make sure ant 1.7.0 or
> higher is used - older versions of ant contain JAXP api/impl version 1.2
> (in xml-apis.jar). If you want to keep using older ant versions, you have
> to configure it to use higher the JAXP api/impl versions.
> javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V
> -> [Help 1]
> [ERROR]
>
>
> In my parent pom.xml I have
>
>                 <plugin>
>                     <groupId>org.apache.maven.plugins</groupId>
>                     <artifactId>maven-compiler-plugin</artifactId>
>                     <version>3.1</version>
>                     <configuration>
>                         <source>1.7</source>
>                         <target>1.7</target>
>                         <fork>true</fork>
>                                             <meminitial>512m</meminitial>
>                                             <maxmem>1024m</maxmem>
>                                 </configuration>
>                 </plugin>
>
> I have the following in my child pom.xm
>
>         <build>
>                 <plugins>
>                         <plugin>
>                                 <!--
>
> http://www.journaldev.com/1312/how-to-generate-java-classes-from-xsd-using-xjc-maven-plugin
>
> http://mojo.codehaus.org/jaxb2-maven-plugin/
>                                  -->
>                                 <groupId>org.codehaus.mojo</groupId>
>                                 <artifactId>jaxb2-maven-plugin</artifactId>
>                                 <version>1.6</version>
>                                 <executions>
>                                         <execution>
>                                                 <id>xjc</id>
>                                                 <goals>
>                                                         <goal>xjc</goal>
>                                                 </goals>
>                                         </execution>
>                                 </executions>
>                                 <configuration>
>                                     <arguments>-extension -npa -b
> ${project.basedir}/src/main/xsd/global.xjb</arguments>
>                                         <!--
> <packageName>com.example.myschema</packageName> --> <!-- The name of your
> generated source package -->
>                                 </configuration>
>                         </plugin>
>                 </plugins>
>         </build>
>
>
>

--e89a8f2345d3e6c2fe04fefe6ba6--

