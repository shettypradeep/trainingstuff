From users-return-136808-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Jul 18 22:20:08 2014
Return-Path: <users-return-136808-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F8F0116E8
	for <apmail-maven-users-archive@www.apache.org>; Fri, 18 Jul 2014 22:20:08 +0000 (UTC)
Received: (qmail 97224 invoked by uid 500); 18 Jul 2014 22:20:06 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 97155 invoked by uid 500); 18 Jul 2014 22:20:06 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 97143 invoked by uid 99); 18 Jul 2014 22:20:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jul 2014 22:20:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bimargulies@gmail.com designates 209.85.219.51 as permitted sender)
Received: from [209.85.219.51] (HELO mail-oa0-f51.google.com) (209.85.219.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Jul 2014 22:20:04 +0000
Received: by mail-oa0-f51.google.com with SMTP id o6so4264553oag.24
        for <users@maven.apache.org>; Fri, 18 Jul 2014 15:19:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=0MYrnALdR05b5uncBsPmvOMwszlRzse1hqQhPiH3pnw=;
        b=fEmKtULsHE1fy9aNyBXqR10nTjjtvXJryy9da5oB2A+OA1khwpVJsbJ4v2Fo1fcglK
         5LEa03HFZyX61wFLQznpPo2bmJEF3x+RowArhytJ1WmqQwBmsj1lM+p1GTROcr3Aae1R
         tWV3mA88LSSMA96kw1vQEDeroR166+aAiRDvZ1od5IP4GR5+TdNhqNlp3dBKj67o5oyN
         v8Ogn4NkKLzXBT0XIl6ZjI1NIQqP4yZRvJADwYzRM3FmDF05PycfcanThDQZ6XL/l5q6
         BvORqiELCY7YVHpKdMl96IpoqqqFWBKVjXDaKFXRNnUyysn7SknGTlOXMi0DJJ8XED6M
         4iuQ==
MIME-Version: 1.0
X-Received: by 10.182.106.1 with SMTP id gq1mr7922471obb.30.1405721979600;
 Fri, 18 Jul 2014 15:19:39 -0700 (PDT)
Received: by 10.202.220.68 with HTTP; Fri, 18 Jul 2014 15:19:39 -0700 (PDT)
In-Reply-To: <53C984A1.3050100@gmx.de>
References: <OF1F05DF42.E00CE028-ON85257D17.0063A305-85257D17.00648730@belden.com>
	<CADN69ymG8f7j19xuCtUqdXx8yJoLYgaNGuHiyrQcUApdhcUJxA@mail.gmail.com>
	<OFB1EFD901.4439AF23-ON85257D17.00661468-85257D17.0066DE86@belden.com>
	<lq83h1$9or$1@ger.gmane.org>
	<53C7E94E.1010302@gmx.de>
	<lqahle$ln9$1@ger.gmane.org>
	<53C984A1.3050100@gmx.de>
Date: Fri, 18 Jul 2014 18:19:39 -0400
Message-ID: <CALhtWkcy0YGg3uOrGtCL8-uZVC2DbpFsjCO5cR0BFHAMhaOw-A@mail.gmail.com>
Subject: Re: move data from pom to class or class to pom
From: Benson Margulies <bimargulies@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

There is a very simple process here. Turn on filtering in the resource
plugin, and add a .properties file that filters in what you need. Then
get those properties. No problems with unit tests, no problems keeping
track of _which_ MANIFEST.MF from classpath is the one you need.

On Fri, Jul 18, 2014 at 4:33 PM, Karl Heinz Marbaise <khmarbaise@gmx.de> wr=
ote:
> Hi J=C3=B6rg,
>
>>
>>
>> nice article ;-)
>>
>> There's one comment I do not understand though:
>>
>>> The main disadvantage of this approach is that you can only use the
>>> Implementation and Specification parts of your MANIFEST.MF file which
>>> might be enough in some situations but not in all.
>
>
> The comment is related to the implementation in Java which allows only to
> extract the implementation and specification part...via
> this.getClass().getPackage()....
>
> http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html
> So can't use that in a very simple way...
>
>>
>> You can add all kind of entries to the manifest. You may even overwrite
>> the
>> defaults. We use typically:
>
>
> Of course you can so create an appropriate MANIFEST.MF file...
>
>>
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D %< =3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>   <archive>
>>     <manifest>
>>
>> <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
>>
>> <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
>>     </manifest>
>>     <manifestEntries>
>>       <Specification-Version>${parsedVersion.majorVersion}.
>> ${parsedVersion.minorVersion}</Specification-Version>
>>       <X-Compile-Source>${java.version.source}</X-Compile-Source>
>>       <X-Compile-Target>${java.version.target}</X-Compile-Target>
>>       <X-Builder>Maven ${maven.version}</X-Builder>
>>       <X-Build-Time>${maven.build.timestamp}</X-Build-Time>
>>       <X-Build-Os>${os.name}</X-Build-Os>
>>     </manifestEntries>
>>   </archive>
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D %< =3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>
>> With the $parsedVersion and $maven.version variables provided by the
>> build-
>> helper plugin.
>
> But the above entries can't be read via methods which already exists like
> getPackage()....
>
> So you need to implement it your own...you have to take care about
> classloading issue (classloaders in particular in larger apps etc.)...
> so it get more and more complicated...lets talk about apps which comprise=
 of
> 150 jar files...
>
> So the simplest Solution is to use the templating-maven-plugin which solv=
es
> many of those issues.
>
> Kind regards
> Karl-Heinz Marbaise
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


