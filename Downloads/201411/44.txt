From users-return-137706-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Nov  5 18:43:43 2014
Return-Path: <users-return-137706-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C890517565
	for <apmail-maven-users-archive@www.apache.org>; Wed,  5 Nov 2014 18:43:43 +0000 (UTC)
Received: (qmail 46033 invoked by uid 500); 5 Nov 2014 18:43:42 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 45967 invoked by uid 500); 5 Nov 2014 18:43:42 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 45955 invoked by uid 99); 5 Nov 2014 18:43:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Nov 2014 18:43:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ctrueden.wisc@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Nov 2014 18:43:15 +0000
Received: by mail-ie0-f173.google.com with SMTP id tr6so1319801ieb.4
        for <users@maven.apache.org>; Wed, 05 Nov 2014 10:43:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:from:date:message-id:subject:to:content-type;
        bh=wIDA4G7XO3t/xepMwmMlEJht+8Pa5YuTlL+ipMEXwVQ=;
        b=kDzmTtsy2/M59R7k55uOfYIqPG0s/AoRQuDLBYOrh6SxnxHMVNrZz2ALMY8qskBPrE
         kOmyP52VFtKkVGdobYIJhNlYCBDk1+tU3WRQwvuY9ds98jUQLox3aAyuVg2miCm2Mcv4
         pFTp7/B1VcSlBicFAg9U/FpDYEOnT8H9UahV/60NRj/dZtjAdBr22fMTh6z0amgWYFfb
         XpRWakIqpmKHkwHJmJsDE/LN/MYzNdOo4lHx1DJ1c6/jaA8YRwSLRJWjeSJgqW8zF3v7
         mf4o5B/l1IVwBE3nwSZFTJ+llbmTfsbV3vP/CPxQc7LjAdJ9YECfkvQvasWPuVjvyd2Q
         SVVA==
X-Received: by 10.42.122.208 with SMTP id o16mr6342379icr.69.1415212994532;
 Wed, 05 Nov 2014 10:43:14 -0800 (PST)
MIME-Version: 1.0
Sender: ctrueden.wisc@gmail.com
Received: by 10.107.43.199 with HTTP; Wed, 5 Nov 2014 10:42:44 -0800 (PST)
From: Curtis Rueden <ctrueden@wisc.edu>
Date: Wed, 5 Nov 2014 12:42:44 -0600
X-Google-Sender-Auth: 2yuXySQR1k88CsnAFlwKXN4jq1o
Message-ID: <CADN69ynTzSzA5BAOYUWqQTobrk5SYuT1oAfixtizR_deMD7HRw@mail.gmail.com>
Subject: maven-javadoc-plugin: resource folders interpreted as illegal package names
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=20cf301b67b3d21a5f050720f3e6
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf301b67b3d21a5f050720f3e6
Content-Type: text/plain; charset=UTF-8

Hi everyone,

I am trying to generate an aggregated set of javadocs from a collection of
related projects, like so:

https://github.com/imagej/imagej-javadoc/blob/83d2fe7f2d546cdc0971f323dfaf56d0089e715d/pom.xml

Basically, this POM project declares a bunch of dependencies and then uses
the maven-javadoc-plugin's
<includeDependencySources>true</includeDependencySources> option.

Some of the dependencies have a "script-templates" folder in their
resources, which gets lumped into the "-sources" JAR by the
maven-source-plugin.

Unfortunately, the javadoc tool hates seeing folders with violate java
package naming conventions. So my build ultimately fails with:

[ERROR] Failed to execute goal
org.apache.maven.plugins:maven-javadoc-plugin:2.9.1:jar (attach-javadocs)
on project imagej-javadoc: MavenReportException: Error while creating
archive:
[ERROR] Exit code: 1 - javadoc: error - Illegal package name:
"script-templates.Java"

I tried adding <excludePackageNames>script-templates</excludePackageNames>
to the maven-javadoc-plugin configuration, but it seemed to have no effect.

Does anyone have ideas how to work around this problem?

Thanks,
Curtis

P.S. I could rename the "script-templates" folders in all of the
dependencies, and then update the code to handle both the old and new
resource locations, and then release new versions of them all, but that
would be a substantial amount of work. And the problem could still crop up
again later if any other incompatibly-named folders appear in any
"-sources" JARs.

--20cf301b67b3d21a5f050720f3e6--

