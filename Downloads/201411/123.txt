From users-return-137713-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Nov  6 18:02:24 2014
Return-Path: <users-return-137713-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8F3517D5F
	for <apmail-maven-users-archive@www.apache.org>; Thu,  6 Nov 2014 18:02:24 +0000 (UTC)
Received: (qmail 42136 invoked by uid 500); 6 Nov 2014 18:02:15 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 42059 invoked by uid 500); 6 Nov 2014 18:02:15 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 41750 invoked by uid 99); 6 Nov 2014 18:02:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Nov 2014 18:02:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [67.231.152.145] (HELO mx0b-0000bf01.pphosted.com) (67.231.152.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Nov 2014 18:01:46 +0000
Received: from pps.filterd (m0042341 [127.0.0.1])
	by mx0b-0000bf01.pphosted.com (8.14.5/8.14.5) with SMTP id sA6Hw5Yl014531
	for <users@maven.apache.org>; Thu, 6 Nov 2014 12:00:40 -0600
Received: from np1exhc004.corp.halliburton.com ([34.254.246.203])
	by mx0b-0000bf01.pphosted.com with ESMTP id 1qg8tc2a91-1
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <users@maven.apache.org>; Thu, 06 Nov 2014 12:00:40 -0600
Received: from NP1EXMB033.corp.halliburton.com ([169.254.4.33]) by
 NP1EXHC004.corp.halliburton.com ([34.34.138.67]) with mapi id 14.03.0181.006;
 Thu, 6 Nov 2014 11:56:05 -0600
From: Justin Georgeson <JGeorgeson@lgc.com>
To: Maven Users List <users@maven.apache.org>
Subject: deploy and include properties files along with parent POM
Thread-Topic: deploy and include properties files along with parent POM
Thread-Index: Ac/55nQ+MQdYkAmTSt6yJZSmA1oMsw==
Date: Thu, 6 Nov 2014 17:56:05 +0000
Message-ID: <F21547B4F425F9428444D12A512705062393330C@NP1EXMB033.corp.halliburton.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [34.34.116.17]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-HALSTAMP: TRUE
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.12.52,1.0.28,0.0.0000
 definitions=2014-11-06_07:2014-11-06,2014-11-06,1970-01-01 signatures=0
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 suspectscore=0 phishscore=0
 adultscore=0 bulkscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=7.0.1-1402240000 definitions=main-1411060140
X-Virus-Checked: Checked by ClamAV on apache.org

We have an organizational parent POM deployed to Artifactory, com.lgc:maste=
r:1.0.0-SNAPSHOT. The top-level aggregator POM in each repo uses this as th=
e parent, with <relativePath/>. Then the individual projects in that repo u=
se the aggregator as the parent. In the com.lgc:master POM I would like to =
have something like this

<properties>
	<globalProp1>defaultValue</globalProp1>
	....
</properties>

<profiles>
	<profile>
		<id>product-properties</id>
		<activation>
			<file>${productName}.properties</file>
		<activation>
		<build>
			<filters>
				<filter>${productName}.properties</filter>
			</filters>
		</build>
	</profile>
</profiles>

Each of these properties files would just be overriding the global defaults=
, and only when necessary. I want those properties files to be deployed to =
Artifactory as secondary artifacts to the com.lgc:master POM so that no mat=
ter what subfolder/repo someone is building in, it's consistent and predict=
able. I know how to do the deploy? but how do I specify the path to the pro=
perties files. Are secondary artifacts automatically retrieved or is there =
something special I need to setup?

Or if I'm going about this all wrong, feel free to say so and point me in t=
he right direction [1].

Thanks,
-Justin

[1] - When I said the individual projects use the aggregator as the parent,=
 you might suggest just putting the properties in the aggregator. The cavea=
t here is that in a few places we have a mostly empty SVN repo with the agg=
regator POM, the folder structure, and a ton of svn:externals to the indivi=
dual projects (so essentially an aggregator _repo_). We end up sometimes us=
ing a common branch of some of the projects in 2 or more aggregator repos b=
ecause the only thing we would need to branch them for is to change the par=
ent GAV, but we can't put a property reference in the parent section of the=
 pom, so those projects only have the 'correct' aggregator POM GAV as the p=
arent in at most one aggregator repo. So we can't reliably set properties i=
n the aggregator POMs, so they have to be in either the com.lgc:master or d=
irectly in the jar|war|eclipse-plugin|etc POM files (which would be horribl=
e to have all that redundancy) to be reliably set.=20

----------------------------------------------------------------------
This e-mail, including any attached files, may contain confidential and pri=
vileged information for the sole use of the intended recipient.  Any review=
, use, distribution, or disclosure by others is strictly prohibited.  If yo=
u are not the intended recipient (or authorized to receive information for =
the intended recipient), please contact the sender by reply e-mail and dele=
te all copies of this message.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


