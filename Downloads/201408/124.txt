From users-return-136970-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Aug  5 15:45:44 2014
Return-Path: <users-return-136970-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E26B11969
	for <apmail-maven-users-archive@www.apache.org>; Tue,  5 Aug 2014 15:45:44 +0000 (UTC)
Received: (qmail 11795 invoked by uid 500); 5 Aug 2014 15:45:43 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 11719 invoked by uid 500); 5 Aug 2014 15:45:43 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 11705 invoked by uid 99); 5 Aug 2014 15:45:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Aug 2014 15:45:42 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dantran@gmail.com designates 209.85.215.46 as permitted sender)
Received: from [209.85.215.46] (HELO mail-la0-f46.google.com) (209.85.215.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 05 Aug 2014 15:45:38 +0000
Received: by mail-la0-f46.google.com with SMTP id b8so891567lan.19
        for <users@maven.apache.org>; Tue, 05 Aug 2014 08:45:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=SXNZ3hakIn20t0KhbGqm7xkffp+w8OYQUKCYIlMLSRo=;
        b=pexkxbcroaRhOv66f1WwZtxP934Ms+4rAhJyiPsHOoWCwDRqIkH8H2nwt+0MgTuHPz
         s7OF2FK+T7f0oydIwDc4R8Ur32ukaxh80MCqpv6f8OdWZxpXo42o3J+E1iXFvqb3/rgd
         eIz4hzkE/LfK+7vu06KUvEKv35Yxj7S+Zf2yx4q1eJ17Jd+Hxq2kO+Rw2uX8dScUBPVa
         knbUuUWwNwO95LWC8btd16PEvpiTgACTz9BEoQ1gtEX/4sYa6h4lGV6IOju8cPhj+mEY
         Cmdx36hOoGZSDUYHeU40ZLfpLe/V7dOimHy6+SifFSU+kHNFRGLXbymO+6yrXrJS+jo/
         VcCg==
MIME-Version: 1.0
X-Received: by 10.152.20.105 with SMTP id m9mr5089992lae.19.1407253517041;
 Tue, 05 Aug 2014 08:45:17 -0700 (PDT)
Received: by 10.114.20.231 with HTTP; Tue, 5 Aug 2014 08:45:17 -0700 (PDT)
In-Reply-To: <trinity-53817949-9a46-4b36-9107-bdf21e5202dc-1407241283937@3capp-gmx-bs28>
References: <trinity-5b4a7fca-9d5e-47c7-a03d-3c385b7ab153-1406535124149@3capp-gmx-bs18>
	<CAPCjjnHppc+BhFe3-bGEY93bJQesNHdMc2DmWfcK1yXM4njzCw@mail.gmail.com>
	<trinity-53817949-9a46-4b36-9107-bdf21e5202dc-1407241283937@3capp-gmx-bs28>
Date: Tue, 5 Aug 2014 08:45:17 -0700
Message-ID: <CAPCjjnFnvP_gmLO42VRz0Hd8rBjdDOt4d-mLSs-MmtKE84aKJw@mail.gmail.com>
Subject: Re: Maven 3 Plugin Development with Repository Queries
From: Dan Tran <dantran@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=089e014939e6fe07b104ffe3bdb3
X-Virus-Checked: Checked by ClamAV on apache.org

--089e014939e6fe07b104ffe3bdb3
Content-Type: text/plain; charset=UTF-8

Best not to directly deal with aether, but to use abstraction
like DependencyGraphBuilder which uses aether when under maven 3

-D


On Tue, Aug 5, 2014 at 5:21 AM, Johannes Schneider <jsdump@gmx.de> wrote:

> Hi!
>
> The plugins you are mentioning are still based on Maven 2. Neither have I
> found any plugin using aether and the Maven 3 api, nor seems any deeper
> documentation to be available. Maven 3 has been released years ago. I
> thought it would be worth trying its new API rather than sticking to the
> old compatibility layer...
>
> Anyway, I've been able to find out what the problem with my plugin is:
> Maven 3.2.2 seems to use another version of aether, namely the one with
> groupId org.eclipse.aether, not org.sonatype.aether as it was with Maven
> 3.0.5. That's "great": Now I have a plugin that either works with Maven
> 3.0.5 or with Maven 3.2.2. Fortunately, we can all use the same version in
> our dev team. So once we decide to upgrade to Maven 3.2.2, we do not need
> Maven 3.0.5 support anymore.
>
> Kind regards,
> Johannes
>
>
>
> > Gesendet: Montag, 28. Juli 2014 um 20:49 Uhr
> > Von: "Dan Tran" <dantran@gmail.com>
> > An: "Maven Users List" <users@maven.apache.org>
> > Betreff: Re: Maven 3 Plugin Development with Repository Queries
> >
> > I am interested on the query capability. However, I ended up to  use
> > maven-dependency-tree and maven-compat to resolve artifacts. Take a look
> at
> > maven-dependency-plugin, maven-report-info-plugin, license-maven-plugin
> for
> > various sample code.  However, those are not directly deal with aether
> >
> > -D
> >
> >
> > On Mon, Jul 28, 2014 at 1:12 AM, Johannes Schneider <jsdump@gmx.de>
> wrote:
> >
> > > Hi,
> > >
> > > I am developing a plugin that needs to query the repositories. I'm
> using
> > > the Aether API because I thought that's the Maven 3 way to do it (cf.
> > > http://blog.sonatype.com/2011/01/how-to-use-aether-in-maven-plugins/)
> and
> > > because many of the Maven 2 methods are marked as deprecated. With
> Maven
> > > 3.0.5, everything works fine. But now, trying Maven 3.2.1 and 3.2.2, I
> get
> > > an exception:
> > > ------
> > > Error injecting: com.dialogika.infport.plugins.helper.CheckParentMojo
> > > java.lang.NoClassDefFoundError: org/sonatype/aether/artifact/Artifact
> > > ------
> > >
> > > It is the injection of org.sonatype.aether.RepositorySystem that does
> not
> > > work anymore:
> > > ------
> > > @Component
> > > private RepositorySystem repoSystem;
> > > ------
> > >
> > > First of all, I am of course interested in how to fix this problem,
> but,
> > > asking more generally: Is the Aether API still the way of how to
> resolve
> > > artifacts? Or should I better stick to the Maven 2 API (as most of the
> > > plugins out there still are, as I saw)?
> > >
> > > And, in addition to this: Are there any good, up-to-date resources on
> how
> > > to write maven plugins? Some plugins I could use as a a reference?
> Many of
> > > the tutorials and examples seem to be quite out-dated and not going
> very
> > > deep into details.
> > >
> > > Thanks in advance for your help!
> > >
> > > Johannes
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > > For additional commands, e-mail: users-help@maven.apache.org
> > >
> > >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--089e014939e6fe07b104ffe3bdb3--

