From users-return-137015-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Aug 13 16:27:57 2014
Return-Path: <users-return-137015-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF25311452
	for <apmail-maven-users-archive@www.apache.org>; Wed, 13 Aug 2014 16:27:57 +0000 (UTC)
Received: (qmail 25922 invoked by uid 500); 13 Aug 2014 16:27:56 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 25837 invoked by uid 500); 13 Aug 2014 16:27:56 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 25823 invoked by uid 99); 13 Aug 2014 16:27:56 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Aug 2014 16:27:56 +0000
Received: from localhost (HELO mail-qg0-f46.google.com) (127.0.0.1)
  (smtp-auth username rmetzger, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 13 Aug 2014 16:27:55 +0000
Received: by mail-qg0-f46.google.com with SMTP id z60so10986947qgd.33
        for <users@maven.apache.org>; Wed, 13 Aug 2014 09:27:54 -0700 (PDT)
X-Received: by 10.140.39.233 with SMTP id v96mr7871693qgv.103.1407947274816;
 Wed, 13 Aug 2014 09:27:54 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.102.211 with HTTP; Wed, 13 Aug 2014 09:27:34 -0700 (PDT)
From: Robert Metzger <rmetzger@apache.org>
Date: Wed, 13 Aug 2014 18:27:34 +0200
Message-ID: <CAGr9p8B+wysyMvskxuQnVcqzXBFwudAvWOyE4vqs4OmtFT8fkg@mail.gmail.com>
Subject: archetype:integration-test generated archetype build depends on
 parent project
To: users@maven.apache.org
Content-Type: multipart/alternative; boundary=001a11c1258a2e483d0500854582

--001a11c1258a2e483d0500854582
Content-Type: text/plain; charset=UTF-8

Hi,

we use the archetype:integration-test to test if the archetypes we generate
successfully compile.
Our archetypes (we call them "quickstart") are located within the main
project.
So we have
- parent
  - core
  - runtime
  - clients
  - quickstart
     - quickstart-java
     - quickstart-scala
as a project hierarchy.

To build the archetype generated by "quickstart-java" we need the artifacts
from "core" and "runtime".
So if we do a "mvn clean verify" on our project, and the user has not
executed "mvn clean install" before (and the artifacts are not available
online), the build fails.

Is there a way to tell maven to add the artifacts from "core" and "runtime"
into the tests classpath?
Or can we somehow automatically execute the "install" phase when a user
requests the "verify" phase?

You can find our project here: https://github.com/apache/incubator-flink


-- Robert

--001a11c1258a2e483d0500854582--

