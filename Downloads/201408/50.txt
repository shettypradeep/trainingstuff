From users-return-137064-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Aug 18 18:06:02 2014
Return-Path: <users-return-137064-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B2FE118E3
	for <apmail-maven-users-archive@www.apache.org>; Mon, 18 Aug 2014 18:06:02 +0000 (UTC)
Received: (qmail 50933 invoked by uid 500); 18 Aug 2014 18:05:45 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 50836 invoked by uid 500); 18 Aug 2014 18:05:45 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 50598 invoked by uid 99); 18 Aug 2014 18:05:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Aug 2014 18:05:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of khmarbaise@gmx.de designates 212.227.15.19 as permitted sender)
Received: from [212.227.15.19] (HELO mout.gmx.net) (212.227.15.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 18 Aug 2014 18:05:38 +0000
Received: from Karl-Heinzs-MacBook-Pro.local ([176.198.106.115]) by
 mail.gmx.com (mrgmx001) with ESMTPSA (Nemesis) id 0M7Gj8-1WOsyB0aso-00x4vK
 for <users@maven.apache.org>; Mon, 18 Aug 2014 20:05:17 +0200
Message-ID: <53F2405C.3030507@gmx.de>
Date: Mon, 18 Aug 2014 20:05:16 +0200
From: Karl Heinz Marbaise <khmarbaise@gmx.de>
Reply-To: info@soebes.de
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:24.0) Gecko/20100101 Thunderbird/24.6.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: creating custom Maven resource filter
References: <1408374170.39344.YahooMailNeo@web161504.mail.bf1.yahoo.com>
In-Reply-To: <1408374170.39344.YahooMailNeo@web161504.mail.bf1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID:  V03:K0:yjEeqypyqgFH3f6IqMmt7OGx0qv0DTeFZdjpPTD0ko8CpeC7IW6
 RxsyIDNLoN/qnrJkCZicK0hflXXRwfY9gjI8uCmtPsMkHKVCwH44gcFdC8XVjJryVs+toGj
 +HnmvyLFBoZa9Cyn1IeurGmh4ZGqfdnD5F1VeXQPFlNTbmyS+0MZonD4zlfd5D5cxQ0hAg+
 HYh7Q8Xf4qIvedZnrlncw==
X-UI-Out-Filterresults: notjunk:1;
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Jose,


can you elaborate a little bit more why you are not using the default 
filtering capabilities of maven-resources-plugin etc. ?

Can you explain what exactly you like to achieve?


 > Hello,
>
> We have projects with many property and xml files that need resource filtering per environment.
>
> For example in a property file one might see ${mysqlDbHost}, ${mysqlDbPw}, and ${mysqlDbUser}.  There would also be a system variable called ENVIRONMENT.  Based on the ${propertyName} and ENVIRONMENT value, the resource filter would replace with the correct value.  This can be done with a DB (SELECT value FROM properties WHERE env="env" and name="propertyName") or via a web service (getPropertyValue?env=env&name=propertyName).
>
> On the Maven side the solution seem to be to create a custom MavenResourcesFiltering.  The custom MavenResourcesFiltering implementation would do the lookups I mentioned above for each ${propertyName} encountered in the resource files.
>
> 1)  Is my assessment that creating a custom MavenResourcesFiltering is the way to go?  Maybe this problem is already solved already, since it does not seem unique?
>
> 2)  I have visited multiple Maven articles on this but still have no idea how to implement it, the sites I visited are listed below.  Does anyone know of any document or can provide feedback on how to implement a custom MavenResourcesFiltering?
>
> It seems to me that at some point I would need a method that has either gets a list of all the ${propertyName}'s found in a file and the ability to provide the value for that property name.  Following the links I found I cannot tell where that method should be implemented and how to get it called from MyMojo.execute().
>
> 1:  http://maven.apache.org/shared/maven-filtering/
> 2:  http://maven.apache.org/shared/maven-filtering/usage.html
> 3:  http://maven.apache.org/guides/plugin/guide-java-plugin-development.html
>
> Thank you!
> jose
>

Kind regards
Karl-Heinz Marbaise

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


