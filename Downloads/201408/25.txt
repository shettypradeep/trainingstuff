From users-return-136954-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Aug  1 04:08:34 2014
Return-Path: <users-return-136954-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29A3611A02
	for <apmail-maven-users-archive@www.apache.org>; Fri,  1 Aug 2014 04:08:34 +0000 (UTC)
Received: (qmail 92779 invoked by uid 500); 1 Aug 2014 04:08:32 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 92656 invoked by uid 500); 1 Aug 2014 04:08:32 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 92644 invoked by uid 99); 1 Aug 2014 04:08:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Aug 2014 04:08:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of odeaching@gmail.com designates 209.85.213.174 as permitted sender)
Received: from [209.85.213.174] (HELO mail-ig0-f174.google.com) (209.85.213.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 01 Aug 2014 04:08:27 +0000
Received: by mail-ig0-f174.google.com with SMTP id c1so867508igq.1
        for <users@maven.apache.org>; Thu, 31 Jul 2014 21:08:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=llBjIpV9ksRIcfa/9BNMT4+sY9S8/nAeWH7d9cG5SdA=;
        b=lRdjAzMJ1pC/r3EftJAS3sRKfrQqHhnCuln2/zQwD68wAlxD/O3Ypx7TBzw4DVdEFh
         8s7QVxbtZj2YrPVmb1uzudiF55OEBOSMSq+S5hGgU9m5jA0KiRbX0TLSbVBsLtNgm0rs
         ZWgGpATc8Kqygg0j7tfSYdDh+nzu6FT9n5VOUbaP/Qlv9jLYRMNsGJApIwYcTNhl2VCI
         WXnK3MHcO7ZAI7kxAkexme+jZ6gGJSSGVQ8UvpnXgyNQsk8MUv9+qf6zjoKvmEJX6xvl
         di/Ok1xR/cUAKY3LSAXjK/0IVV3kdiGMpEExKcbjMS/6+9+fzRJb3ors/NvTLkAgRfTP
         3+Mg==
MIME-Version: 1.0
X-Received: by 10.43.159.67 with SMTP id lx3mr3231421icc.58.1406866087107;
 Thu, 31 Jul 2014 21:08:07 -0700 (PDT)
Sender: odeaching@gmail.com
Received: by 10.107.18.103 with HTTP; Thu, 31 Jul 2014 21:08:06 -0700 (PDT)
In-Reply-To: <CAPcmo=4ru4Q8CbkRBeHNuomq2psbc123SeeSj7o8Pjc8K7Argg@mail.gmail.com>
References: <CAPcmo=4ru4Q8CbkRBeHNuomq2psbc123SeeSj7o8Pjc8K7Argg@mail.gmail.com>
Date: Fri, 1 Aug 2014 12:08:06 +0800
X-Google-Sender-Auth: xbzzt_whg1zU45YHh_9LjrmblCs
Message-ID: <CAPbd=T6z29zuiQ7vDTHN9ESiFdM=4WN44-hSx_64gi_7gzCwhA@mail.gmail.com>
Subject: Re: Dependency in profile in pom.xml
From: Deng Ching-Mallete <oching@apache.org>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2842e5e640004ff8989ba
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c2842e5e640004ff8989ba
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,

The ! at the beginning of the hadoop.profile property in hadoop-1.0 profile
indicates that if the hadoop.profile property is not specified or absent,
then the profile will be activated. So if you didn't specify it as a system
property (e.g. -Dhadoop.profile=3DXXXX), it would be used by default.

Given what I explained above, for your second question, you need to specify
-Dhadoop.profile=3D2 and just omit -Phadoop-2 to activate the hadoop-2
profile in your build.

Thanks,
Deng


On Thu, Jul 31, 2014 at 7:29 PM, =E6=9D=8E=E5=93=8D <waterlx@gmail.com> wro=
te:

> Dear maven user and developers,
>
> Attached is pom.xml of Flume. I have some questions as follow, really
> appreciate your help or guide, thanks !!
>
> 1. Why profile id =3D hadoop-1.0 is the default profile ?
>     If not specifying -Pxxxxx for mvn command, I found hadoop-1.0 is the
> default one to use. why is it the default one ? is it
> because <name>!hadoop.profile</name> is specified in its activation and
> hadoop.profile is not specified in properties ? Seems not... I tried with
> adding <hadoop.profile>2</hadoop.profile> into properties, but hadoop-1.0
> is still used. This can be proven by the version of dependencies download=
ed
> into .m2 repository
>
> 2. hadoop-test-xxxx is needed for profile id =3D hadoop-2 ?
>     when I issued "mvn xxxx -Phadoop-2", the following errors came out:
>
> [ERROR] Failed to execute goal
> org.apache.maven.plugins:maven-remote-resources-plugin:1.1:process
> (default) on project flume-hdfs-sink: Failed to resolve dependencies for
> one or more projects in the reactor. Reason: Missing:
> [ERROR] ----------
> [ERROR] 1) org.apache.hadoop:hadoop-test:jar:2.4.0
> [ERROR]
> [ERROR] Try downloading the file manually from the project website.
> [ERROR]
> [ERROR] Then, install it using the command:
> [ERROR] mvn install:install-file -DgroupId=3Dorg.apache.hadoop
> -DartifactId=3Dhadoop-test -Dversion=3D2.4.0 -Dpackaging=3Djar
> -Dfile=3D/path/to/file
> [ERROR]
> [ERROR] Alternatively, if you host your own repository you can deploy the
> file there:
> [ERROR] mvn deploy:deploy-file -DgroupId=3Dorg.apache.hadoop
> -DartifactId=3Dhadoop-test -Dversion=3D2.4.0 -Dpackaging=3Djar
> -Dfile=3D/path/to/file -Durl=3D[url] -DrepositoryId=3D[id]
> [ERROR]
> [ERROR] Path to dependency:
> [ERROR] 1) org.apache.flume.flume-ng-sinks:flume-hdfs-sink:jar:1.5.0.1
> [ERROR] 2) org.apache.hadoop:hadoop-test:jar:2.4.0
> [ERROR]
> [ERROR] ----------
> [ERROR] 1 required artifact is missing.
> [ERROR]
> [ERROR] for artifact:
> [ERROR] org.apache.flume.flume-ng-sinks:flume-hdfs-sink:jar:1.5.0.1
> [ERROR]
> [ERROR] from the specified remote repositories:
> [ERROR] repo1.maven.org (http://repo1.maven.org/maven2, releases=3Dtrue,
> snapshots=3Dfalse),
> [ERROR] repository.jboss.org (
> http://repository.jboss.org/nexus/content/groups/public/, releases=3Dtrue=
,
> snapshots=3Dfalse),
> [ERROR] apache.snapshots (http://repository.apache.org/snapshots,
> releases=3Dfalse, snapshots=3Dtrue),
> [ERROR] central (http://repo.maven.apache.org/maven2, releases=3Dtrue,
> snapshots=3Dfalse)
> [ERROR] -> [Help 1]
> [ERROR]
> [ERROR] To see the full stack trace of the errors, re-run Maven with the
> -e switch.
> [ERROR] Re-run Maven using the -X switch to enable full debug logging.
> [ERROR]
> [ERROR] For more information about the errors and possible solutions,
> please read the following articles:
> [ERROR] [Help 1]
> http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
>
> I just wonder and be confused why org.apache.hadoop:hadoop-test:jar:2.4.0
> is requested. Because the following statements only appear in profile id =
=3D
> hadoop-1.0
>           <dependency>
>             <groupId>org.apache.hadoop</groupId>
>             <artifactId>hadoop-test</artifactId>
>             <version>${hadoop.version}</version>
>           </dependency>
>
> The pom.xml for flume-hdfs-sink is also attached as pom-1.xml. Thanks !
>
> --
>
>                                                =E6=9D=8E=E5=93=8D
>
> =E6=89=8B=E6=9C=BA cellphone =EF=BC=9A+86-1368-113-8972
> E-mail             =EF=BC=9Awaterlx@gmail.com
> MSN               =EF=BC=9Awaterlx@hotmail.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>



--=20
Maria Odea "Deng" Ching-Mallete | oching@apache.org |
http://www.linkedin.com/in/oching

--001a11c2842e5e640004ff8989ba--

