From users-return-136963-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Aug  4 23:41:15 2014
Return-Path: <users-return-136963-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E64D31192C
	for <apmail-maven-users-archive@www.apache.org>; Mon,  4 Aug 2014 23:41:15 +0000 (UTC)
Received: (qmail 88012 invoked by uid 500); 4 Aug 2014 23:41:14 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 87929 invoked by uid 500); 4 Aug 2014 23:41:14 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 87918 invoked by uid 99); 4 Aug 2014 23:41:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Aug 2014 23:41:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ekoifman@hortonworks.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 04 Aug 2014 23:41:11 +0000
Received: by mail-lb0-f173.google.com with SMTP id p9so114235lbv.18
        for <users@maven.apache.org>; Mon, 04 Aug 2014 16:40:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=3EsYbz10y49AA76tYqzA54aXYmvDivF8VVxZrpiNqkA=;
        b=eYB5VhqVSn+JOvFP3EQnGU7nWZ4az4o4Jofw87bPdL9QUsMr5LqKF/uO+UT8LhPNZJ
         XMFmIKGvVKlykDxe5Kc9/JkEgj6b6pCGUNKGQC6wPSps6g2U5ZFQ7FnkHiYG/gJXn2et
         Cofe4o3Paq3OzqdDiJvQMouErP4HhFVBeWbp0wGWKDq8IKq4PTL/UfFM9bF7u6hP6aJD
         0Dc0McvbJshf0oXfgT9sLl+UXwgQrlNUwGc8FbLNkrJAd1BvJtidTP7vkVSL+64YjG7W
         KnuLXcsTqD658SQF4JtVhoxzRz/VQmyI6Pd5AU6F61kSPUjqXQnHiliuJXEnFOvPuan2
         egiw==
X-Gm-Message-State: ALoCoQnXiAKaBjWPmlvzDM4JFMdwnisb/jHJ8IgqgeHlWtmR8SgoAJqX92ul5FomEiravh2YZO9T2QAamJIHvTCt+Y9YP9jHPPsQP1JYAnLYjzwUjUHSJVg=
MIME-Version: 1.0
X-Received: by 10.152.45.101 with SMTP id l5mr129834lam.20.1407195647288; Mon,
 04 Aug 2014 16:40:47 -0700 (PDT)
Received: by 10.113.5.35 with HTTP; Mon, 4 Aug 2014 16:40:47 -0700 (PDT)
In-Reply-To: <53C43133.8000102@gmx.de>
References: <CAG0AUg1p76NL4WPPCkBg-U+wXf_TDxotXrzprGp29F-C0_J_Fg@mail.gmail.com>
	<53C425FF.8020407@gmx.de>
	<CAG0AUg2yqHDazKwmrLoFQWH5d43YdNQCWPeM1ipkZ8JvHgjHKA@mail.gmail.com>
	<53C43133.8000102@gmx.de>
Date: Mon, 4 Aug 2014 16:40:47 -0700
Message-ID: <CAG0AUg02NidZkzqXzFo=cytMF-mm8AiHaVXScb_mp_EBG5gfbQ@mail.gmail.com>
Subject: Re: maven shade/artifact naming help
From: Eugene Koifman <ekoifman@hortonworks.com>
To: Maven Users List <users@maven.apache.org>, info@soebes.de
Content-Type: multipart/alternative; boundary=001a11c288f2afbd6704ffd644c0
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c288f2afbd6704ffd644c0
Content-Type: text/plain; charset=UTF-8

Thank you.  I did make it work with maven-jar-plugin.
While you are right that this is not the right design, I have legacy uses
to deal with and can't do the right thing


On Mon, Jul 14, 2014 at 12:36 PM, Karl Heinz Marbaise <khmarbaise@gmx.de>
wrote:

> Hi Eugene,
>
>
> First i don't see the need to continue the wrong way...So you should
> change it...
>
> If you really need to go the wrong way i would suggest to use the
> maven-jar-plugin with a special configuration to create the other jar...
>
> But i can't recommend to continue the wrong way...
>
> By using the maven-shade-plugin you can't change that wrong way which you
> have decided to go a time a go...
>
> If the way you have already gone is not acceptable......
>
> Kind regards
> Karl-Heinz Marbaise
>
>
> On 7/14/14 8:55 PM, Eugene Koifman wrote:
>
>> Thank you for the reply but it doesn't answer my question.
>>
>> "The shade plug in config doesn't
>> retain the original (slim) jar so the only artifact produced/published
>> from
>> this module is A.jar which is the uber jar."  - this is a statement about
>> the current pom in the project, not the capabilities of the shade plug in.
>>
>> Adding "shadedArtifactAttached" will create the slim jar called A.jar and
>> an uber jar called A-shaded.jar.  Unfortunately, what is needed is an uber
>> jar called A.jar and a slim jar called anything.
>>
>>
>> On Mon, Jul 14, 2014 at 11:48 AM, Karl Heinz Marbaise <khmarbaise@gmx.de>
>> wrote:
>>
>>  Hi Eugene,
>>>
>>>
>>>  Hi,
>>>>
>>>
>>>  I have an existing multi-module project.  A module A (i.e. artifactId=A)
>>>> uses shade plugin to create an uber jar.  The shade plug in config
>>>> doesn't
>>>> retain the original (slim) jar so the only artifact produced/published
>>>> from
>>>> this module is A.jar which is the uber jar.
>>>>
>>>>
>>> Which is not true, cause you can configure the maven-shade-plugin to
>>> produce both artifacts via:
>>>
>>> <shadedArtifactAttached>true</shadedArtifactAttached>
>>>
>>> http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html
>>>
>>>
>>>
>>>  Now I need to produce a 'slim' jar (lets call it A-core.jar) which only
>>>> has
>>>> the classes from module A.   Since this was set up several releases ago
>>>> I
>>>> have to keep A.jar as a fat jar to preserve backwards compatibility.
>>>>
>>>> (I can easily make shade produce A.jar as the thin jar and A-uber.jar
>>>> (or
>>>> any other name) as the fat jar, but this is not acceptable.)
>>>>
>>>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>


-- 

Thanks,
Eugene

-- 
CONFIDENTIALITY NOTICE
NOTICE: This message is intended for the use of the individual or entity to 
which it is addressed and may contain information that is confidential, 
privileged and exempt from disclosure under applicable law. If the reader 
of this message is not the intended recipient, you are hereby notified that 
any printing, copying, dissemination, distribution, disclosure or 
forwarding of this communication is strictly prohibited. If you have 
received this communication in error, please contact the sender immediately 
and delete it from your system. Thank You.

--001a11c288f2afbd6704ffd644c0--

