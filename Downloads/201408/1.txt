From users-return-137134-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Aug 27 11:18:43 2014
Return-Path: <users-return-137134-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4163E11553
	for <apmail-maven-users-archive@www.apache.org>; Wed, 27 Aug 2014 11:18:43 +0000 (UTC)
Received: (qmail 84584 invoked by uid 500); 27 Aug 2014 11:18:37 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 84498 invoked by uid 500); 27 Aug 2014 11:18:37 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 84479 invoked by uid 99); 27 Aug 2014 11:18:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Aug 2014 11:18:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mcculls@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-wi0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 27 Aug 2014 11:18:09 +0000
Received: by mail-wi0-f181.google.com with SMTP id bs8so241900wib.14
        for <users@maven.apache.org>; Wed, 27 Aug 2014 04:18:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:content-type:message-id:mime-version:subject:date:references
         :to:in-reply-to;
        bh=FbDCVMGJZeHm7JN6NititUEcqAtmOoPQZuZTm5cDdM4=;
        b=RAhEsOc9H60uyQ9JKh2WCI1uy8itshjBHl9Qd64R+nFQx22Z9DC1/lICp/8NCDDlQa
         yOmYOKV8QeI/Cg5gZE5Mq0iKp89acCwBz3svA7S7ZpT5uUFzcFZFEAJK5J/k8Z+58VR/
         tkTIaaZ+9BN99YxP5S2CuJxBVG+qfsRGSvSXm6ip1sOK3clWXP45oZbifcvw7ihz28xM
         SWSI43hvO/UYaUzNdsoSPE5PvGvIBkhz3ZAyCOLfsDiLs3rCfSuUOgxvnimJSpTvyj43
         9kQaH1GijrOWxg9IdPRMSzGhxG6hPMzxE5jREbNBWzlzXQgecPF2WDWWNNkxN7dSih1l
         99Ag==
X-Received: by 10.194.119.98 with SMTP id kt2mr17498652wjb.96.1409138286707;
        Wed, 27 Aug 2014 04:18:06 -0700 (PDT)
Received: from tulloch.home (host217-42-202-6.range217-42.btcentralplus.com. [217.42.202.6])
        by mx.google.com with ESMTPSA id ga9sm159889wjb.45.2014.08.27.04.18.05
        for <users@maven.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Wed, 27 Aug 2014 04:18:06 -0700 (PDT)
From: Stuart McCulloch <mcculls@gmail.com>
Content-Type: multipart/alternative; boundary="Apple-Mail=_4D4F13ED-D11B-46D1-AE48-B6418FCB3236"
Message-Id: <4AEC4DAA-5750-44E6-A84F-F8D480CF78AE@gmail.com>
Mime-Version: 1.0 (Mac OS X Mail 7.3 \(1878.6\))
Subject: Re: maven 3.1.1 crashes on GC overhead limit exceeded with millions of org.eclipse.aether.graph.DefaultDependencyNode
Date: Wed, 27 Aug 2014 12:18:02 +0100
References: <3C8773DCAF2F48179EE39D482559C6CB@gmail.com>
To: Maven Users List <users@maven.apache.org>
In-Reply-To: <3C8773DCAF2F48179EE39D482559C6CB@gmail.com>
X-Mailer: Apple Mail (2.1878.6)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail=_4D4F13ED-D11B-46D1-AE48-B6418FCB3236
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=windows-1252

I wonder if this might be related to =
https://bugs.eclipse.org/bugs/show_bug.cgi?id=3D418250 ?

On 27 Aug 2014, at 04:35, Juven Xu <juvenshun@gmail.com> wrote:

> maven: 3.1.1 =20
> jdk: 1.7.0_25 Java HotSpot(TM) Server VM (build 23.25-b01, mixed mode)
>=20
> the error message is:
>=20
> [INFO] Building buy-client 1.1.8-o2o630-SNAPSHOT
> [INFO] =
------------------------------------------------------------------------ =
=20
> [WARNING] The POM for com.taobao.logistics:logistics-common:jar:2.4.5 =
is invalid, transitive dependencies (if any) will not be available, =
enable debug logging for more details =20
> [WARNING] The POM for =
com.taobao.thboss:thboss-common:jar:1.0.2-20131230.121421-32 is invalid, =
transitive dependencies (if any) will not be available, enable debug =
logging for more details =20
> [WARNING] The POM for =
com.taobao.hbaseextend:hbase-client:jar:1.0.1-20121211.063750-2 is =
invalid, transitive dependencies (if any) will not be available, enable =
debug logging for more details =20
> [WARNING] The POM for =
com.taobao.hbaseextend:hbasetransit-client:jar:1.0.1-20121211.064048-1 =
is invalid, transitive dependencies (if any) will not be available, =
enable debug logging for more details =20
> [WARNING] The POM for =
com.taobao.sharereport:share-report-common:jar:1.5.1-20121030.080558-17 =
is invalid, transitive dependencies (if any) will not be available, =
enable debug logging for more details =20
> [WARNING] The POM for =
com.taobao.trade:tradeback-client:jar:1.0.0-20131118.063752-35 is =
invalid, transitive dependencies (if any) will not be available, enable =
debug logging for more details =20
> [ERROR] GC overhead limit exceeded -> [Help 1] =20
> [ERROR] =20
> [ERROR] To see the full stack trace of the errors, re-run Maven with =
the -e switch. =20
> [ERROR] Re-run Maven using the -X switch to enable full debug logging. =
=20
> [ERROR] =20
> [ERROR] For more information about the errors and possible solutions, =
please read the following articles: =20
> [ERROR] [Help 1] =
http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError
>=20
>=20
> the jvm is full and a log of full gc happening, gc stat:
>=20
>  S0     S1     E      O      P     YGC     YGCT    FGC    FGCT     GCT
>  0.00   0.00 100.00 100.00  67.33     50    5.925    39  101.650  =
107.575
>  0.00   0.00 100.00 100.00  67.33     50    5.925    39  101.650  =
107.575
>  0.00   0.00 100.00 100.00  67.33     50    5.925    39  101.650  =
107.575
>  0.00   0.00 100.00 100.00  67.33     50    5.925    40  104.805  =
110.730
>  0.00   0.00 100.00 100.00  67.33     50    5.925    40  104.805  =
110.730
>  0.00   0.00 100.00 100.00  67.33     50    5.925    40  104.805  =
110.730
>  0.00   0.00 100.00 100.00  67.33     50    5.925    41  107.840  =
113.765
>  0.00   0.00 100.00 100.00  67.33     50    5.925    41  107.840  =
113.765
>  0.00   0.00 100.00 100.00  67.33     50    5.925    41  107.840  =
113.765
>  0.00   0.00 100.00 100.00  67.33     50    5.925    42  110.864  =
116.788
>  0.00   0.00 100.00 100.00  67.33     50    5.925    42  110.864  =
116.788
>  0.00   0.00 100.00 100.00  67.33     50    5.925    42  110.864  =
116.788
>  0.00   0.00  95.86 100.00  67.33     50    5.925    42  114.029  =
119.954
>  0.00   0.00 100.00 100.00  67.33     50    5.925    43  114.029  =
119.954
>  0.00   0.00 100.00 100.00  67.33     50    5.925    43  114.029  =
119.954
>  0.00   0.00 100.00 100.00  67.33     50    5.925    43  114.029  =
119.954
>  0.00   0.00 100.00 100.00  67.33     50    5.925    44  117.087  =
123.011
>=20
> and the vm is full of org.eclipse.aether.graph.DefaultDependencyNode
>=20
> $ jmap -histo 4072 | head -30
>=20
> num     #instances         #bytes  class name
> ----------------------------------------------
>   1:       5019593      281097208  =
org.eclipse.aether.graph.DefaultDependencyNode
>   2:       6075641      145815384  java.util.ArrayList
>   3:       6076588      116705216  [Ljava.lang.Object;
>   4:       2375373       76011936  =
org.eclipse.aether.internal.impl.DataPool$GraphKey
>   5:       2439860       58556640  java.util.HashMap$Entry
>   6:        231529       34940048  [Ljava.util.HashMap$Entry;
>   7:        231420       34810936  =
[Lorg.eclipse.aether.graph.Exclusion;
>   8:        598180       28712640  =
org.eclipse.aether.repository.RemoteRepository
>   9:        839969       26879008  java.util.LinkedHashMap$Entry
>  10:        597260       15767704  =
[Lorg.eclipse.aether.repository.RemoteRepository;
>  11:        208071       11651976  java.util.LinkedHashMap
>  12:        597288        9556608  java.util.Arrays$ArrayList
>  13:        597269        9556304  =
java.util.Collections$UnmodifiableRandomAccessList
>  14:        125479        7259280  [C
>  15:         29099        3530504  <constMethodKlass>
>  16:        197851        3165616  java.util.Collections$SingletonList
>  17:        197706        3163296  java.util.HashMap$KeySet
>  18:        197476        3159616  java.util.LinkedHashSet
>  19:        197349        3157584  =
org.eclipse.aether.util.graph.selector.AndDependencySelector
>  20:        197347        3157552  =
org.eclipse.aether.util.graph.selector.ExclusionDependencySelector
>  21:        124674        2992176  java.lang.String
>  22:         29099        2564344  <methodKlass>
>  23:         54598        2183920  =
org.eclipse.aether.artifact.DefaultArtifact
>  24:          3089        1623136  <constantPoolKlass>
>  25:         54968        1319232  org.eclipse.aether.graph.Dependency
>  26:          3089        1237432  <instanceKlassKlass>
>  27:         23456        1125888  java.util.HashMap
>=20
> $mvn dependency:tree works well
>=20
> Sorry i can not paste the full project=92s POM for company security =
reasons, but let me know if any other info I missed.
>=20
> Thanks
> -- =20
> Juven Xu
> Sent with Sparrow (http://www.sparrowmailapp.com/?sig)
>=20


--Apple-Mail=_4D4F13ED-D11B-46D1-AE48-B6418FCB3236--

