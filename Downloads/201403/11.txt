From users-return-135691-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar  5 15:36:17 2014
Return-Path: <users-return-135691-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A80D10D7D
	for <apmail-maven-users-archive@www.apache.org>; Wed,  5 Mar 2014 15:36:17 +0000 (UTC)
Received: (qmail 4821 invoked by uid 500); 5 Mar 2014 15:36:11 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 4574 invoked by uid 500); 5 Mar 2014 15:36:11 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 4562 invoked by uid 99); 5 Mar 2014 15:36:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 15:36:10 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [62.179.121.50] (HELO fep32.mx.upcmail.net) (62.179.121.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 15:36:01 +0000
Received: from edge03.upcmail.net ([192.168.13.238])
          by viefep32-int.chello.at
          (InterMail vM.8.01.05.05 201-2260-151-110-20120111) with ESMTP
          id <20140305153539.UNKK8882.viefep32-int.chello.at@edge03.upcmail.net>
          for <users@maven.apache.org>; Wed, 5 Mar 2014 16:35:39 +0100
Received: from [192.168.160.233] ([46.126.154.61])
	by edge03.upcmail.net with edge
	id Zrbf1n00W1Kkt3i03rbfED; Wed, 05 Mar 2014 16:35:39 +0100
X-SourceIP: 46.126.154.61
X-Authenticated-Sender: juerg.brandenberger@hispeed.ch
From: brandenberger@commcity.ch
To: "Maven Users List" <users@maven.apache.org>
MIME-Version: 1.0
Subject: Could not create staless EJB whith maven 3.2.1 but working fine with
 version 3.0.5
X-KeepSent: 82317C94:88F6358A-C1257C92:0051B437;
 type=4; name=$KeepSent
X-Mailer: Lotus Notes Release 8.5.2FP4 November 18, 2011
Message-ID: <OF82317C94.88F6358A-ONC1257C92.0051B437-C1257C92.0055AA17@commcity.ch>
Date: Wed, 5 Mar 2014 16:35:41 +0100
X-MIMETrack: Serialize by Notes Client on Juerg H. Brandenberger/CommCity/CH(Release
 8.5.2FP4|November 18, 2011) at 05.03.2014 16:35:41,
	Serialize complete at 05.03.2014 16:35:41
Content-Type: multipart/alternative; boundary="=_alternative 0055A9DFC1257C92_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 0055A9DFC1257C92_=
Content-Type: text/plain; charset="US-ASCII"

With maven version 3.2.1, in fact same issue since version 3.1.1, I get 
the exception SCHWERWIEGEND: EJB5070: Exception creating stateless session 
bean : [RequirementBeanSL]
when building the concerned  module with tests. Changing back to run the 
same tests with maven version 3.0.5, all tests run fine and pass.

I repeat, starting the run configuration within eclipse Kepler, selecting 
either the external maven runtime version 3.2.1 or version 3.0.5 I get the 
exception or the tests runs fine!

(The injected bean is a dummy bean to provoke exceptions and to test 
proper behavior of the program under erroneous conditions.)

>From the log extracts below, we can see in both cases the interface 
declarations of both kind of beans being injected. For instance 
IRequirementsSL_

When running with 3.0.5 no exception happens and we get INFO: 
ProjectFactory#getProjects reading line:1; then the  line 2, etc.

when running with 3.2.1 (same with 3.1.1) the mentioned exception happens, 
telling the implementation of the interface IRequirementsSL_ i.e. 
RequirementBeanSL could not be created.
The issue started with version 3.1.x and still exist in version 3.2.1. The 
implementing bean is not found any more when declaring the interface, 
while with maven 3.0.5 the implementation of the interface is found and 
used.

I would very much appreciate any hint on how to work around this problem. 
Of course, I could simple stick to maven version 3.0.5 as this works. But 
in the long run I would prefer to keep pace with the newer versions. 

Thanks in advance.

Log-Extract running maven version 3.2.1:
INFO: Testing RequirementsWithAcceptanceByList
Response code = 404
05.03.2014 15:37:56 
ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
INFO: callServlet entered
05.03.2014 15:37:56 
ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
INFO: callServlet request is: 
http://localhost:8181/reports/dispatcher?documentId=RequirementPreview&docKind=ODT&reqPK=41
05.03.2014 15:37:56 ch.commcity.reports.servlet.ReportsDispatcher doGet
INFO: ReportsDispatcher#doGet called!
05.03.2014 15:37:56 ch.commcity.reports.servlet.ReportsDispatcher doGet
INFO: doGet: value of injected projectBean is: 
ch.commcity.monterosa.ejb.IProjectsSL_526301960
05.03.2014 15:37:56 ch.commcity.reports.servlet.ReportsDispatcher doGet
INFO: doGet: value of injected requirementsBean is: 
ch.commcity.monterosa.ejb.IRequirementsSL_71899727
05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: modified is: Sat Nov 17 09:43:24 CET 2012
05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: created is: Wed Jan 18 17:25:13 CET 2012
05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: modified is: Fri Dec 14 17:00:59 CET 2012
05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: created is: Wed Jan 18 15:58:09 CET 2012
05.03.2014 15:37:56 com.sun.ejb.containers.StatelessSessionContainer 
createStatelessEJB
SCHWERWIEGEND: EJB5070: Exception creating stateless session bean : 
[RequirementBeanSL]
05.03.2014 15:37:56 com.sun.ejb.containers.BaseContainer postInvoke
WARNUNG: EJB5184:A system exception occurred during an invocation on EJB 
RequirementBeanSL, method: public ch.commcity.monterosa.ejb.IRequirement 
ch.commcity.monterosa.ejb.with.exceptions.RequirementBeanSL.getRequirement(java.lang.Long) 
throws BusinessPersistencyException
05.03.2014 15:37:56 com.sun.ejb.containers.BaseContainer postInvoke
WARNUNG: 
javax.ejb.EJBException: javax.ejb.EJBException: javax.ejb.CreateException: 
Could not create stateless EJB

Same extract running version 3.0.5
INFO: Testing RequirementsWithAcceptanceByList
Response code = 404
05.03.2014 15:43:47 
ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
INFO: callServlet entered
05.03.2014 15:43:47 
ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
INFO: callServlet request is: 
http://localhost:8181/reports/dispatcher?documentId=RequirementPreview&docKind=ODT&reqPK=41
05.03.2014 15:43:47 ch.commcity.reports.servlet.ReportsDispatcher doGet
INFO: ReportsDispatcher#doGet called!
05.03.2014 15:43:47 ch.commcity.reports.servlet.ReportsDispatcher doGet
INFO: doGet: value of injected projectBean is: 
ch.commcity.monterosa.ejb.IProjectsSL_1930087059
05.03.2014 15:43:47 ch.commcity.reports.servlet.ReportsDispatcher doGet
INFO: doGet: value of injected requirementsBean is: 
ch.commcity.monterosa.ejb.IRequirementsSL_1232712678
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: ProjectFactory#getProjects entered!
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: ProjectFactory#getProjects reading line:1;
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: modified is: Sat Nov 17 09:43:24 CET 2012
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: created is: Wed Jan 18 17:25:13 CET 2012
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: ProjectFactory#getProjects reading line:2;
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
INFO: modified is: Fri Dec 14 17:00:59 CET 2012
05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory 
getProjects
--=_alternative 0055A9DFC1257C92_=--

