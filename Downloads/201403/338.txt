From users-return-135836-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sat Mar 15 21:49:32 2014
Return-Path: <users-return-135836-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7FD961084E
	for <apmail-maven-users-archive@www.apache.org>; Sat, 15 Mar 2014 21:49:32 +0000 (UTC)
Received: (qmail 54082 invoked by uid 500); 15 Mar 2014 21:49:29 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 54014 invoked by uid 500); 15 Mar 2014 21:49:28 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 54005 invoked by uid 99); 15 Mar 2014 21:49:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Mar 2014 21:49:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [24.37.79.202] (HELO smtp.artifact-software.com) (24.37.79.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 15 Mar 2014 21:49:24 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp.artifact-software.com (Postfix) with ESMTP id 0ECF46A6570
	for <users@maven.apache.org>; Sat, 15 Mar 2014 17:49:01 -0400 (EDT)
X-Virus-Scanned: amavisd-new at artifact-software.com
Received: from smtp.artifact-software.com ([127.0.0.1])
	by localhost (smtp.artifact-software.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rmoNgQRS1wWg for <users@maven.apache.org>;
	Sat, 15 Mar 2014 17:48:47 -0400 (EDT)
Received: from [192.168.3.170] (unknown [192.168.3.170])
	by smtp.artifact-software.com (Postfix) with ESMTP id 684646A656E
	for <users@maven.apache.org>; Sat, 15 Mar 2014 17:48:47 -0400 (EDT)
Message-ID: <5324CAB7.5020700@artifact-software.com>
Date: Sat, 15 Mar 2014 17:48:39 -0400
From: Ron Wheeler <rwheeler@artifact-software.com>
Reply-To: rwheeler@artifact-software.com
Organization: Artifact Software
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0
MIME-Version: 1.0
To: users@maven.apache.org
Subject: Re: how to only build if version is changed..
References: <1394801193231-5788337.post@n5.nabble.com> <CAKDUN1tB8cKxob6NOrj7CgsNbabCwbGsT+2ru_Tcergy_jXj6w@mail.gmail.com>
In-Reply-To: <CAKDUN1tB8cKxob6NOrj7CgsNbabCwbGsT+2ru_Tcergy_jXj6w@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I would have thought that the trunk would always have a SNAPSHOT version 
and branches would be a series of SNAPSHOTS ending in a RELEASE which 
has been merged back into the trunk as part of the next version's 
current SNAPSHOT.

In order for someone to get into trouble, they would have to check-in a 
revision to a released branch.
There should be no way to get into trouble by checking things into the 
trunk since it would always be a SNAPSHOT.

Is Jenkins watching for check-ins on both the trunk and branches?

Perhaps we need more details about how the release policy is supposed to 
interact with the SCM's trunk and branches and Jenkins configuration of 
automatic builds of branches and trunks.

Ron


On 15/03/2014 8:31 AM, Anders Hammar wrote:
> The pom on trunk or any branch should *always* specify a SNAPSHOT version.
>
> /Anders
>
>
> On Fri, Mar 14, 2014 at 1:46 PM, richard_senior <richard.senior@gmail.com>wrote:
>
>> Hello,
>>
>> We are using maven, jenkins and nexus for continuous integration.
>>
>> Our trunk branch contains no snapshots, and jenkins is polling the scm and
>> building on any change.
>> However periodically a developer may check things in without upversioning
>> the pom.
>> When they do this the build fails at deploy as nexus will not allow to full
>> release versions with the same number.
>> Which is obviously good... But I would like to fail the build early, before
>> deploy, so that when a developer tries to build
>> the project in their local workspace, they can see that they must change
>> the
>> version number.
>>
>> How would I add a goal to maven that failed, if nexus contains a binary of
>> the project I'm building, at the same version as the pom?
>>
>> I'm guessing I'd need to use the enforcer, and perhaps the maven versions
>> mojo, but I don't know the exact config?
>>
>>
>>
>> --
>> View this message in context:
>> http://maven.40175.n5.nabble.com/how-to-only-build-if-version-is-changed-tp5788337.html
>> Sent from the Maven - Users mailing list archive at Nabble.com.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
>> For additional commands, e-mail: users-help@maven.apache.org
>>
>>


-- 
Ron Wheeler
President
Artifact Software Inc
email: rwheeler@artifact-software.com
skype: ronaldmwheeler
phone: 866-970-2435, ext 102


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


