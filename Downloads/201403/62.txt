From users-return-135695-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar  5 20:40:50 2014
Return-Path: <users-return-135695-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F1E810D89
	for <apmail-maven-users-archive@www.apache.org>; Wed,  5 Mar 2014 20:40:50 +0000 (UTC)
Received: (qmail 91148 invoked by uid 500); 5 Mar 2014 20:40:46 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 91006 invoked by uid 500); 5 Mar 2014 20:40:46 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 90992 invoked by uid 99); 5 Mar 2014 20:40:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 20:40:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [85.17.66.180] (HELO mail-out-6.dcube-resource.be) (85.17.66.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 20:40:42 +0000
Received: from d54c5f087.access.telenet.be ([84.197.240.135] helo=[192.168.0.130])
	by mail.dcube-resource.be with esmtpsa (TLS1.0:DHE_RSA_AES_128_CBC_SHA1:16)
	(Exim 4.72)
	(envelope-from <lists@progs.be>)
	id 1WLIbz-00048H-PL
	for users@maven.apache.org; Wed, 05 Mar 2014 21:40:19 +0100
Message-ID: <53178BB4.3070703@progs.be>
Date: Wed, 05 Mar 2014 21:40:20 +0100
From: Joachim Van der Auwera <lists@progs.be>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0
MIME-Version: 1.0
To: users@maven.apache.org
Subject: Re: Using github as a maven repo
References: <531787D5.8090601@renci.org>
In-Reply-To: <531787D5.8090601@renci.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-authenticated-id: joachim@progs.be
X-Virus-Checked: Checked by ClamAV on apache.org

Why not have it included in maven central. This is quite easy for open 
source projects and much more practical for your users. See
https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide

Kind regards,
Joachim

On 03/05/2014 09:23 PM, Howard wrote:
> Hi all
>
> I should preface this all by saying that I am not an experienced maven 
> user, though I would not describe myself as a complete newbie, so I 
> won't be too surprised if I am just doing something stupid here.  
> Please let me know if this is the wrong group for this type of question.
>
> I've got a project where we are keeping all of our code on GitHub. The 
> project name is DataBridge Because this is an National Science 
> Foundation funded Open Source project I thought it might make sense to 
> store the jar files we produce in a maven repository on GitHub. I 
> found this web page
>
> http://stackoverflow.com/questions/14013644/hosting-a-maven-repository-on-github 
>
>
> and followed the instructions for one project that produces one jar.  
> It seems to have worked great for putting the jar file up on Github. 
> The problem is occurring when I try to download the jar as an artifact 
> in another pom for another project that depends on it. I can download 
> the jar and it's pom using wget at the following addresses:
>
> wget 
> https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar
> wget 
> https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.pom
>
> but I don't seem to be able to find the magic to get maven to grab 
> them. I'm thinking the problem is that I have the repository set 
> incorrectly.  It's set to
>
>   <repositories>
>     <repository>
>         <id>github</id>
> <url>https://github.com/HowardLander/DataBridge/blob/mvn-repo</url>
>         <snapshots>
>             <enabled>true</enabled>
>             <updatePolicy>always</updatePolicy>
>         </snapshots>
>     </repository>
>   </repositories>
>
> Here's what I get from mvn -e compile
>
> howard@databridge.renci.org:/projects/databridge/howard/DataBridge/network/BigData/XMLSim 
> $ mvn -e compile
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> [INFO]
> [INFO] 
> ------------------------------------------------------------------------
> [INFO] Building XMLTest 1
> [INFO] 
> ------------------------------------------------------------------------
> Downloading: 
> https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/databridge-util/1.0-BETA/databridge-util-1.0-BETA.pom
> [WARNING] The POM for 
> org.renci.databridge-util:databridge-util:jar:1.0-BETA is missing, no 
> dependency information available
> Downloading: 
> https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar
> [INFO] 
> ------------------------------------------------------------------------
> [INFO] BUILD FAILURE
> [INFO] 
> ------------------------------------------------------------------------
> [INFO] Total time: 1.593s
> [INFO] Finished at: Wed Mar 05 11:56:41 EST 2014
> [INFO] Final Memory: 4M/15M
> [INFO] 
> ------------------------------------------------------------------------
> [ERROR] Failed to execute goal on project XMLTest: Could not resolve 
> dependencies for project com.RENCI.app:XMLTest:jar:1: Could not find 
> artifact org.renci.databridge-util:databridge-util:jar:1.0-BETA in 
> github (https://github.com/HowardLander/DataBridge/blob/mvn-repo) -> 
> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to 
> execute goal on project XMLTest: Could not resolve dependencies for 
> project com.RENCI.app:XMLTest:jar:1: Could not find artifact 
> org.renci.databridge-util:databridge-util:jar:1.0-BETA in github 
> (https://github.com/HowardLander/DataBridge/blob/mvn-repo)
>
> That seems fairly clear: it can't find 
> https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar. 
> Any suggestions?
>
> For reference here's the part of the pom that is trying to download 
> the  jar:
>
>    <dependency>
>       <groupId>org.renci.databridge-util</groupId>
>       <artifactId>databridge-util</artifactId>
>       <version>1.0-BETA</version>
>     </dependency>
>
> The jar in question is part of the databridge-util project. Here's the 
> jar that pushes (successfully as far as I can tell) the jar and it's 
> related artifacts to the github.
>
>       <plugin>
>           <groupId>com.github.github</groupId>
>           <artifactId>site-maven-plugin</artifactId>
>           <version>0.8</version>
>           <configuration>
>               <message>Maven artifacts for 
> ${project.version}</message>  <!-- git commit message -->
> <noJekyll>true</noJekyll> <!-- disable webpage processing -->
> <outputDirectory>${project.build.directory}/mvn-repo</outputDirectory> 
> <!-- matches distribution management repository url above -->
> <branch>refs/heads/mvn-repo</branch> <!-- remote branch name -->
> <includes><include>**/*</include></includes>
> <repositoryName>DataBridge</repositoryName> <!-- github repo name -->
> <repositoryOwner>HowardLander</repositoryOwner> <!-- github username  -->
>           </configuration>
>           <executions>
>             <!-- run site-maven-plugin's 'site' target as part of the 
> build's normal 'deploy' phase -->
>             <execution>
>               <goals>
>                 <goal>site</goal>
>               </goals>
>               <phase>deploy</phase>
>             </execution>
>           </executions>
>       </plugin>
>
> Thanks much
> Howard Lander
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


