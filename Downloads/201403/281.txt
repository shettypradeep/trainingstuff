From users-return-135696-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar  5 20:42:23 2014
Return-Path: <users-return-135696-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A5F510D8E
	for <apmail-maven-users-archive@www.apache.org>; Wed,  5 Mar 2014 20:42:23 +0000 (UTC)
Received: (qmail 94724 invoked by uid 500); 5 Mar 2014 20:42:19 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 94660 invoked by uid 500); 5 Mar 2014 20:42:19 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 94651 invoked by uid 99); 5 Mar 2014 20:42:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 20:42:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anders.g.hammar@gmail.com designates 74.125.82.51 as permitted sender)
Received: from [74.125.82.51] (HELO mail-wg0-f51.google.com) (74.125.82.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 20:42:15 +0000
Received: by mail-wg0-f51.google.com with SMTP id a1so1969253wgh.10
        for <users@maven.apache.org>; Wed, 05 Mar 2014 12:41:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=ob6FIY8ktE7oApUSJ1TC8qrZHrX5C3+qQTsJoz22xoc=;
        b=jLadMD//EU9RtjEh5mWGkL2DvSocWYBDFTjzYQemnPvOYLj7kWAN/HG+6vo28CO7yT
         oXiuUZ6knwqFigDNLmNN9dQhwlmQhXtrqKjkv7DijB0BoVJG/87aAQgiEPFWvHTvxwPl
         JNzsrrPNDNL1vDh8aUsKDVS6xcT+fDhKiOc98oqSgDohe7wBTC2XBV/KhTrVtLwn/90Q
         tWckV//w1a39ohsfgJFVgTsORaTAGMMaAQSFkkgJKC55O8bd0E3eb1ItxgqDcZLXU+Ur
         Knz4vPpEDt6fnG65Zp0VBBBh5rfyXMdAkW09kjdMP2eHV+nypmGM1SrrRRpVwCjUbq1J
         4dXg==
MIME-Version: 1.0
X-Received: by 10.194.204.199 with SMTP id la7mr360213wjc.4.1394052114206;
 Wed, 05 Mar 2014 12:41:54 -0800 (PST)
Sender: anders.g.hammar@gmail.com
Received: by 10.194.137.100 with HTTP; Wed, 5 Mar 2014 12:41:54 -0800 (PST)
In-Reply-To: <531787D5.8090601@renci.org>
References: <531787D5.8090601@renci.org>
Date: Wed, 5 Mar 2014 21:41:54 +0100
X-Google-Sender-Auth: O-Ocb109vsLUENf4uLQTvYdi6MQ
Message-ID: <CAKDUN1sXDq6V=ZR3=s+taie2VPv5kL+8z-qTaFykRRyUL+9V0Q@mail.gmail.com>
Subject: Re: Using github as a maven repo
From: Anders Hammar <anders@hammar.net>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7bae478e10d77004f3e20dfb
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bae478e10d77004f3e20dfb
Content-Type: text/plain; charset=ISO-8859-1

You should be using a real repository manager instead. There are several
free or cheap hosting options.

/Anders


On Wed, Mar 5, 2014 at 9:23 PM, Howard <howard@renci.org> wrote:

> Hi all
>
> I should preface this all by saying that I am not an experienced maven
> user, though I would not describe myself as a complete newbie, so I won't
> be too surprised if I am just doing something stupid here.  Please let me
> know if this is the wrong group for this type of question.
>
> I've got a project where we are keeping all of our code on GitHub. The
> project name is DataBridge Because this is an National Science Foundation
> funded Open Source project I thought it might make sense to store the jar
> files we produce in a maven repository on GitHub. I found this web page
>
> http://stackoverflow.com/questions/14013644/hosting-a-
> maven-repository-on-github
>
> and followed the instructions for one project that produces one jar.  It
> seems to have worked great for putting the jar file up on Github. The
> problem is occurring when I try to download the jar as an artifact in
> another pom for another project that depends on it. I can download the jar
> and it's pom using wget at the following addresses:
>
> wget https://github.com/HowardLander/DataBridge/blob/
> mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar
> wget https://github.com/HowardLander/DataBridge/blob/
> mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.pom
>
> but I don't seem to be able to find the magic to get maven to grab them.
> I'm thinking the problem is that I have the repository set incorrectly.
>  It's set to
>
>   <repositories>
>     <repository>
>         <id>github</id>
> <url>https://github.com/HowardLander/DataBridge/blob/mvn-repo</url>
>         <snapshots>
>             <enabled>true</enabled>
>             <updatePolicy>always</updatePolicy>
>         </snapshots>
>     </repository>
>   </repositories>
>
> Here's what I get from mvn -e compile
>
> howard@databridge.renci.org:/projects/databridge/howard/
> DataBridge/network/BigData/XMLSim $ mvn -e compile
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> [INFO]
> [INFO] ------------------------------------------------------------
> ------------
> [INFO] Building XMLTest 1
> [INFO] ------------------------------------------------------------
> ------------
> Downloading: https://github.com/HowardLander/DataBridge/blob/
> mvn-repo/org/renci/databridge-util/databridge-util/1.0-BETA/
> databridge-util-1.0-BETA.pom
> [WARNING] The POM for org.renci.databridge-util:databridge-util:jar:1.0-BETA
> is missing, no dependency information available
> Downloading: https://github.com/HowardLander/DataBridge/blob/
> mvn-repo/org/renci/databridge-util/databridge-util/1.0-BETA/
> databridge-util-1.0-BETA.jar
> [INFO] ------------------------------------------------------------
> ------------
> [INFO] BUILD FAILURE
> [INFO] ------------------------------------------------------------
> ------------
> [INFO] Total time: 1.593s
> [INFO] Finished at: Wed Mar 05 11:56:41 EST 2014
> [INFO] Final Memory: 4M/15M
> [INFO] ------------------------------------------------------------
> ------------
> [ERROR] Failed to execute goal on project XMLTest: Could not resolve
> dependencies for project com.RENCI.app:XMLTest:jar:1: Could not find
> artifact org.renci.databridge-util:databridge-util:jar:1.0-BETA in github
> (https://github.com/HowardLander/DataBridge/blob/mvn-repo) -> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute
> goal on project XMLTest: Could not resolve dependencies for project
> com.RENCI.app:XMLTest:jar:1: Could not find artifact
> org.renci.databridge-util:databridge-util:jar:1.0-BETA in github (
> https://github.com/HowardLander/DataBridge/blob/mvn-repo)
>
> That seems fairly clear: it can't find https://github.com/
> HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-
> util/1.0-BETA/databridge-util-1.0-BETA.jar. Any suggestions?
>
> For reference here's the part of the pom that is trying to download the
>  jar:
>
>    <dependency>
>       <groupId>org.renci.databridge-util</groupId>
>       <artifactId>databridge-util</artifactId>
>       <version>1.0-BETA</version>
>     </dependency>
>
> The jar in question is part of the databridge-util project.  Here's the
> jar that pushes (successfully as far as I can tell) the jar and it's
> related artifacts to the github.
>
>       <plugin>
>           <groupId>com.github.github</groupId>
>           <artifactId>site-maven-plugin</artifactId>
>           <version>0.8</version>
>           <configuration>
>               <message>Maven artifacts for ${project.version}</message>
>  <!-- git commit message -->
> <noJekyll>true</noJekyll> <!-- disable webpage processing -->
> <outputDirectory>${project.build.directory}/mvn-repo</outputDirectory>
> <!-- matches distribution management repository url above -->
> <branch>refs/heads/mvn-repo</branch> <!-- remote branch name -->
> <includes><include>**/*</include></includes>
> <repositoryName>DataBridge</repositoryName>      <!-- github repo name -->
> <repositoryOwner>HowardLander</repositoryOwner> <!-- github username  -->
>           </configuration>
>           <executions>
>             <!-- run site-maven-plugin's 'site' target as part of the
> build's normal 'deploy' phase -->
>             <execution>
>               <goals>
>                 <goal>site</goal>
>               </goals>
>               <phase>deploy</phase>
>             </execution>
>           </executions>
>       </plugin>
>
> Thanks much
> Howard Lander
>
> --
> Howard Lander <mailto:howard@renci.org>
> Senior Research Software Developer
> Renaissance Computing Institute (RENCI) <http://www.renci.org>
> The University of North Carolina at Chapel Hill
> Duke University
> North Carolina State University
> 100 Europa Drive
> Suite 540
> Chapel Hill, NC 27517
> 919-445-9651
>

--047d7bae478e10d77004f3e20dfb--

