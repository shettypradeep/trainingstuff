From users-return-135831-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sat Mar 15 05:46:12 2014
Return-Path: <users-return-135831-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42F49105B3
	for <apmail-maven-users-archive@www.apache.org>; Sat, 15 Mar 2014 05:46:12 +0000 (UTC)
Received: (qmail 78254 invoked by uid 500); 15 Mar 2014 05:46:08 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 77732 invoked by uid 500); 15 Mar 2014 05:46:05 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 28672 invoked by uid 99); 14 Mar 2014 12:46:59 -0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of richard.senior@gmail.com does not designate 216.139.236.26 as permitted sender)
Date: Fri, 14 Mar 2014 05:46:33 -0700 (PDT)
From: richard_senior <richard.senior@gmail.com>
To: users@maven.apache.org
Message-ID: <1394801193231-5788337.post@n5.nabble.com>
Subject: how to only build if version is changed..
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

We are using maven, jenkins and nexus for continuous integration.

Our trunk branch contains no snapshots, and jenkins is polling the scm and
building on any change.
However periodically a developer may check things in without upversioning
the pom.
When they do this the build fails at deploy as nexus will not allow to full
release versions with the same number.
Which is obviously good... But I would like to fail the build early, before
deploy, so that when a developer tries to build
the project in their local workspace, they can see that they must change the
version number.

How would I add a goal to maven that failed, if nexus contains a binary of
the project I'm building, at the same version as the pom?

I'm guessing I'd need to use the enforcer, and perhaps the maven versions
mojo, but I don't know the exact config?



--
View this message in context: http://maven.40175.n5.nabble.com/how-to-only-build-if-version-is-changed-tp5788337.html
Sent from the Maven - Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


