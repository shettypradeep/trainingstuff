From users-return-135704-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar  5 22:23:03 2014
Return-Path: <users-return-135704-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B62010251
	for <apmail-maven-users-archive@www.apache.org>; Wed,  5 Mar 2014 22:23:03 +0000 (UTC)
Received: (qmail 4359 invoked by uid 500); 5 Mar 2014 22:22:51 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 4228 invoked by uid 500); 5 Mar 2014 22:22:50 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 4171 invoked by uid 99); 5 Mar 2014 22:22:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 22:22:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bmathus@gmail.com designates 74.125.83.52 as permitted sender)
Received: from [74.125.83.52] (HELO mail-ee0-f52.google.com) (74.125.83.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 22:22:44 +0000
Received: by mail-ee0-f52.google.com with SMTP id e49so745755eek.25
        for <users@maven.apache.org>; Wed, 05 Mar 2014 14:22:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=917s575dgXIylBpNZEX4kVU1UDmH1qFJ3lhrEQLFJmw=;
        b=ZXzb0lGYUiwQaaH/a5+ENBgULrJSD7/U1FhuYCgZJ9RbSJZlEHZHemDkaNZ0nNQauR
         8Ho0bGP4nh62pwlpTf8tXXaLnXTQ7iQVRRYtgPxNLp9aLc1LWlWjxoOp8fHKx86w3xpx
         JSTSUFQ4xc2Y9BJxRHXDjZDSFPKWmAfPt0U87KZMrGmAmElXrrXswZ9nYsA8XkQUSnov
         Z5ksir5JKv6pxqeNK6IDu3tf0Rd3fxn93erSOlh6pCo5GCkLqPQWn0Xy0xjNr0LWBnUf
         okgAsE1CkUbu6l3K24ktXWvusbMleuiBV7SUzv4lcPg5K/sQ3CMSFjCcDkl4a92q3tG9
         KofQ==
MIME-Version: 1.0
X-Received: by 10.14.211.66 with SMTP id v42mr8281759eeo.31.1394058143380;
 Wed, 05 Mar 2014 14:22:23 -0800 (PST)
Sender: bmathus@gmail.com
Received: by 10.14.224.198 with HTTP; Wed, 5 Mar 2014 14:22:23 -0800 (PST)
Received: by 10.14.224.198 with HTTP; Wed, 5 Mar 2014 14:22:23 -0800 (PST)
In-Reply-To: <OF82317C94.88F6358A-ONC1257C92.0051B437-C1257C92.0055AA17@commcity.ch>
References: <OF82317C94.88F6358A-ONC1257C92.0051B437-C1257C92.0055AA17@commcity.ch>
Date: Wed, 5 Mar 2014 23:22:23 +0100
X-Google-Sender-Auth: wTy1uwP1hchAeiUbTmykxs2iP3A
Message-ID: <CANWgJS7-8szbH7u6NGfDVDp1+mPP-HMCU1DQWi2QsXjLY+qa1A@mail.gmail.com>
Subject: Re: Could not create staless EJB whith maven 3.2.1 but working fine
 with version 3.0.5
From: Baptiste Mathus <bmathus@batmat.net>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b603a726ebbe804f3e374f1
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b603a726ebbe804f3e374f1
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,
The best way to have it looked into is to create a test project and attach
it to an issue report.
Just out of curiosity, are you having an issue with a plugin or a simple
"multi modules project"?
Cheers
Le 5 mars 2014 16:36, <brandenberger@commcity.ch> a =C3=A9crit :

> With maven version 3.2.1, in fact same issue since version 3.1.1, I get
> the exception SCHWERWIEGEND: EJB5070: Exception creating stateless sessio=
n
> bean : [RequirementBeanSL]
> when building the concerned  module with tests. Changing back to run the
> same tests with maven version 3.0.5, all tests run fine and pass.
>
> I repeat, starting the run configuration within eclipse Kepler, selecting
> either the external maven runtime version 3.2.1 or version 3.0.5 I get th=
e
> exception or the tests runs fine!
>
> (The injected bean is a dummy bean to provoke exceptions and to test
> proper behavior of the program under erroneous conditions.)
>
> From the log extracts below, we can see in both cases the interface
> declarations of both kind of beans being injected. For instance
> IRequirementsSL_
>
> When running with 3.0.5 no exception happens and we get INFO:
> ProjectFactory#getProjects reading line:1; then the  line 2, etc.
>
> when running with 3.2.1 (same with 3.1.1) the mentioned exception happens=
,
> telling the implementation of the interface IRequirementsSL_ i.e.
> RequirementBeanSL could not be created.
> The issue started with version 3.1.x and still exist in version 3.2.1. Th=
e
> implementing bean is not found any more when declaring the interface,
> while with maven 3.0.5 the implementation of the interface is found and
> used.
>
> I would very much appreciate any hint on how to work around this problem.
> Of course, I could simple stick to maven version 3.0.5 as this works. But
> in the long run I would prefer to keep pace with the newer versions.
>
> Thanks in advance.
>
> Log-Extract running maven version 3.2.1:
> INFO: Testing RequirementsWithAcceptanceByList
> Response code =3D 404
> 05.03.2014 15:37:56
> ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
> INFO: callServlet entered
> 05.03.2014 15:37:56
> ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
> INFO: callServlet request is:
>
> http://localhost:8181/reports/dispatcher?documentId=3DRequirementPreview&=
docKind=3DODT&reqPK=3D41
> 05.03.2014 15:37:56 ch.commcity.reports.servlet.ReportsDispatcher doGet
> INFO: ReportsDispatcher#doGet called!
> 05.03.2014 15:37:56 ch.commcity.reports.servlet.ReportsDispatcher doGet
> INFO: doGet: value of injected projectBean is:
> ch.commcity.monterosa.ejb.IProjectsSL_526301960
> 05.03.2014 15:37:56 ch.commcity.reports.servlet.ReportsDispatcher doGet
> INFO: doGet: value of injected requirementsBean is:
> ch.commcity.monterosa.ejb.IRequirementsSL_71899727
> 05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: modified is: Sat Nov 17 09:43:24 CET 2012
> 05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: created is: Wed Jan 18 17:25:13 CET 2012
> 05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: modified is: Fri Dec 14 17:00:59 CET 2012
> 05.03.2014 15:37:56 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: created is: Wed Jan 18 15:58:09 CET 2012
> 05.03.2014 15:37:56 com.sun.ejb.containers.StatelessSessionContainer
> createStatelessEJB
> SCHWERWIEGEND: EJB5070: Exception creating stateless session bean :
> [RequirementBeanSL]
> 05.03.2014 15:37:56 com.sun.ejb.containers.BaseContainer postInvoke
> WARNUNG: EJB5184:A system exception occurred during an invocation on EJB
> RequirementBeanSL, method: public ch.commcity.monterosa.ejb.IRequirement
>
> ch.commcity.monterosa.ejb.with.exceptions.RequirementBeanSL.getRequiremen=
t(java.lang.Long)
> throws BusinessPersistencyException
> 05.03.2014 15:37:56 com.sun.ejb.containers.BaseContainer postInvoke
> WARNUNG:
> javax.ejb.EJBException: javax.ejb.EJBException: javax.ejb.CreateException=
:
> Could not create stateless EJB
>
> Same extract running version 3.0.5
> INFO: Testing RequirementsWithAcceptanceByList
> Response code =3D 404
> 05.03.2014 15:43:47
> ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
> INFO: callServlet entered
> 05.03.2014 15:43:47
> ch.commcity.reports.servlet.ReportsDispatcherExceptionsTest callServlet
> INFO: callServlet request is:
>
> http://localhost:8181/reports/dispatcher?documentId=3DRequirementPreview&=
docKind=3DODT&reqPK=3D41
> 05.03.2014 15:43:47 ch.commcity.reports.servlet.ReportsDispatcher doGet
> INFO: ReportsDispatcher#doGet called!
> 05.03.2014 15:43:47 ch.commcity.reports.servlet.ReportsDispatcher doGet
> INFO: doGet: value of injected projectBean is:
> ch.commcity.monterosa.ejb.IProjectsSL_1930087059
> 05.03.2014 15:43:47 ch.commcity.reports.servlet.ReportsDispatcher doGet
> INFO: doGet: value of injected requirementsBean is:
> ch.commcity.monterosa.ejb.IRequirementsSL_1232712678
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: ProjectFactory#getProjects entered!
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: ProjectFactory#getProjects reading line:1;
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: modified is: Sat Nov 17 09:43:24 CET 2012
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: created is: Wed Jan 18 17:25:13 CET 2012
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: ProjectFactory#getProjects reading line:2;
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects
> INFO: modified is: Fri Dec 14 17:00:59 CET 2012
> 05.03.2014 15:43:47 ch.commcity.reports.test.util.ProjectFactory
> getProjects

--047d7b603a726ebbe804f3e374f1--

