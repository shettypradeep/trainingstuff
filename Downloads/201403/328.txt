From users-return-135866-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar 19 22:16:59 2014
Return-Path: <users-return-135866-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 229EB10BA5
	for <apmail-maven-users-archive@www.apache.org>; Wed, 19 Mar 2014 22:16:59 +0000 (UTC)
Received: (qmail 1864 invoked by uid 500); 19 Mar 2014 22:16:50 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 1677 invoked by uid 500); 19 Mar 2014 22:16:47 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 1487 invoked by uid 99); 19 Mar 2014 22:16:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Mar 2014 22:16:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of eric.kolotyluk@gmail.com designates 209.85.192.175 as permitted sender)
Received: from [209.85.192.175] (HELO mail-pd0-f175.google.com) (209.85.192.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Mar 2014 22:16:40 +0000
Received: by mail-pd0-f175.google.com with SMTP id x10so9281077pdj.20
        for <users@maven.apache.org>; Wed, 19 Mar 2014 15:16:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=YQr3/SRhuXTifHcPLSv8SCjNCb8E5TxBHJmJjj5WNxE=;
        b=peT8Z+oret+ogRXJ2cXzLjvbbT/nUh3NV2CUS4dNWezN2fD8r+LPn8S56SM2NTAoVD
         dZTBxb/wwsHYlLox0/TEKkDUvn2rlW8qsIrNl8JuiX1Yj+LjzsQDtrOF48x2sVMHodXi
         4u6KZ57ZggSYf/ioMwdt8SxnJeJP2g1aAzsKkFqOHgM7/QaM4ZMRvnO09ZV9LeKikpYi
         LRyuEaUrq1SkdpeJblQpuN5uFpqPWJyb+UDy9EcpYFNIvjaTRtWZDMHFcBJrWKA6jrnu
         QcDZHM9Lt3ggbVQQMmCfZkQcmdaNWjcCJmnD/qyHki2tGGQXbcgDdXizPM7IiU73wTTE
         Jv/Q==
X-Received: by 10.68.178.1 with SMTP id cu1mr41860852pbc.34.1395267380360;
        Wed, 19 Mar 2014 15:16:20 -0700 (PDT)
Received: from [192.168.0.17] (S0106602ad07f9cfa.vc.shawcable.net. [24.85.131.20])
        by mx.google.com with ESMTPSA id gw10sm444796pbd.73.2014.03.19.15.16.18
        for <users@maven.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Wed, 19 Mar 2014 15:16:19 -0700 (PDT)
Message-ID: <532A1733.20500@gmail.com>
Date: Wed, 19 Mar 2014 15:16:19 -0700
From: Eric Kolotyluk <eric.kolotyluk@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.4.0
MIME-Version: 1.0
To: users@maven.apache.org
Subject: Re: Open Source Best Practices with Maven - distributionManagement
References: <5329FCAC.2050705@gmail.com> <CAAUywg-0poAG=fjBD9FeeteMKz7Y9yEkO=gHr6rUqcPX_BBbdA@mail.gmail.com> <CAK8jvqw4AOqhoyB0yvpK6BdRN8vLNFr=967z-bSuCQ139TRWoQ@mail.gmail.com>
In-Reply-To: <CAK8jvqw4AOqhoyB0yvpK6BdRN8vLNFr=967z-bSuCQ139TRWoQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

OK, this was great advice. :-)

This works nicely because I do not have to have separate profiles in my 
pom.xml for my local Nexus or Sonatype's remote one. This keeps the 
pom.xml smaller.

This would be a nice narrative to add to 
https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide

Getting arbitrarily closer to pushing my first artifact ever to Maven 
Central...

Cheers, Eric

On 3/19/2014 2:15 PM, Mirko Friedenhagen wrote:
> Hello Eric,
>
> as outlined in https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html
> in your settings.xml you might define properties
> altReleaseDeploymentRepository and altSnapshotDeploymentRepository in
> a profile internal-repository which is activated by default while you
> do not define any repository at all in your pom.
> Now while developing you just invoke mvn deploy and everything should
> go to your local Nexus.
> When invoking mvn -P!internal-repository everything should go to central.
> Regards Mirko
> --
> http://illegalstateexception.blogspot.com/
> https://github.com/mfriedenhagen/ (http://osrc.dfm.io/mfriedenhagen)
> https://bitbucket.org/mfriedenhagen/
>
>
> On Wed, Mar 19, 2014 at 9:39 PM, Stevo SlaviÄ‡ <sslavic@gmail.com> wrote:
>> Hello Eric,
>>
>> I'd consider using Sonatype OSS with Sonatype OSS parent pom and everything
>> that goes along (see more details at
>> https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide)
>> For OSS development maybe use private (and not local) Nexus as proxy only,
>> with mirrors defined in local settings.xml, but publish both snapshots and
>> releases to Sonatype OSS repositories which get synced to Maven Central.
>> Why run Nexus on local machine? To control dependencies and their metada
>> for yourself only? Still looks as overkill to me, if you're the sole user
>> and plan on developing OSS. You already have local repository, and you
>> should have same experience as your OSS users (so no custom local metadata
>> of dependencies, depend only on stuff available on Maven Central, with
>> metadata as it is published on Maven Central).
>>
>> Kind regards,
>> Stevo Slavic
>>
>>
>> On Wed, Mar 19, 2014 at 9:23 PM, Eric Kolotyluk <eric.kolotyluk@gmail.com>wrote:
>>
>>> Does anyone know of any good documentation on 'Open Source Best Practices
>>> with Maven'
>>>
>>> For example, in my POM, I want to set up
>>>
>>>    <distributionManagement>
>>> <downloadUrl>http://localhost:8081/nexus/content/groups/public
>>> </downloadUrl>
>>>      <repository>
>>>        <uniqueVersion>false</uniqueVersion>
>>>        <id>nexus-kolotyluk</id>
>>>        <name>Local Release Repository</name>
>>> <url>http://localhost:8081/nexus/content/repositories/releases</url>
>>>        <layout>default</layout>
>>>      </repository>
>>>      <snapshotRepository>
>>>        <id>nexus-kolotyluk</id>
>>>        <name>Local Snapshot Repository</name>
>>> <url>http://localhost:8081/nexus/content/repositories/snapshots</url>
>>>        <layout>default</layout>
>>>      </snapshotRepository>
>>>    </distributionManagement>
>>>
>>> But that is my local repository on my development computer.
>>>
>>> If I want to push my project to Maven Central some day, I don't think I
>>> want this in my POM.
>>>
>>> Should I put this in a parent POM, or inside a <profile> of my
>>> settings.xml file?
>>>
>>> If I put it in a parent POM, then I need to push that to Maven Central
>>> too, so that does not sound like a good idea.
>>>
>>> Cheer, Eric
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
>>> For additional commands, e-mail: users-help@maven.apache.org
>>>
>>>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


