From users-return-135813-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Mar 13 13:58:59 2014
Return-Path: <users-return-135813-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAB58109AC
	for <apmail-maven-users-archive@www.apache.org>; Thu, 13 Mar 2014 13:58:59 +0000 (UTC)
Received: (qmail 475 invoked by uid 500); 13 Mar 2014 13:58:54 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 167 invoked by uid 500); 13 Mar 2014 13:58:52 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 99898 invoked by uid 99); 13 Mar 2014 13:58:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Mar 2014 13:58:48 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bmathus@gmail.com designates 74.125.83.42 as permitted sender)
Received: from [74.125.83.42] (HELO mail-ee0-f42.google.com) (74.125.83.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Mar 2014 13:58:43 +0000
Received: by mail-ee0-f42.google.com with SMTP id d17so436348eek.1
        for <users@maven.apache.org>; Thu, 13 Mar 2014 06:58:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:from:date:message-id
         :subject:to:content-type;
        bh=mBeqG+litDDinq63VN/BCkzF/sSnfoHE1Iyk01UOJGo=;
        b=nxNi3IKB2rDFaJdMWOCafY+L/ZBFlENxjA47qrTqAohGaXBrb0UpwmJM/zgzhT9vC+
         s74XvcukMQVD+2uMvWMkZXpXXyLKw4XV5bvcFWltmHP1NqRUPtkFjk2IHDiiII78WQV9
         WpBCDJAJYDbrG5gWwXzClNJ/oajwitW63enTK/NQOtpOqVKeiwpIkP6KQFLsK/R4z2uH
         quffkP+cALH+9mIdvmpr6IwPAT6EF1sskLC6ZLutH0QXs9abxTPMPnKXNMzt2lpLTXnd
         wbT+UtlYL6Oi3DE0kLDj5C9dEiKIyI0jwFKsmTlLxFNCkqifJvHuWwVFn3nL+YIHoBWR
         8IHg==
X-Received: by 10.14.29.6 with SMTP id h6mr2468164eea.84.1394719101793; Thu,
 13 Mar 2014 06:58:21 -0700 (PDT)
MIME-Version: 1.0
Sender: bmathus@gmail.com
Received: by 10.14.225.65 with HTTP; Thu, 13 Mar 2014 06:58:01 -0700 (PDT)
In-Reply-To: <CAJmbs8i5wMNr6=rNgjF5DCjnwOWFzCg=-90gZ5Y8KL-T_M6TOg@mail.gmail.com>
References: <CAJmbs8i6vn2P9rTyUCCF5Gu0rQNCDkf81k4Sn1ujEbeVjrOxHA@mail.gmail.com>
 <CANWgJS7OYG_oKw5Z1o2VONVRcGDGKZ4_BE++ZYFoZzZ=r-vpWA@mail.gmail.com>
 <CAJmbs8gDibA9rzFLpZ8m=hBO1pSEnrKNjgPP8mh+W3A7Td6Kvg@mail.gmail.com>
 <5321B041.2090001@artifact-software.com> <CAJmbs8i5wMNr6=rNgjF5DCjnwOWFzCg=-90gZ5Y8KL-T_M6TOg@mail.gmail.com>
From: Baptiste Mathus <bmathus@batmat.net>
Date: Thu, 13 Mar 2014 14:58:01 +0100
X-Google-Sender-Auth: pOEfsUE1gWZ67ZUKLLaz3KQLm44
Message-ID: <CANWgJS48UZ_o-QC=i8wEiwcGyxso-Bsy=VZ=+zyVit-rfqUG8g@mail.gmail.com>
Subject: Re: Help with converting existing ant build to maven is required
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a11c368f29fbd4b04f47d58d1
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c368f29fbd4b04f47d58d1
Content-Type: text/plain; charset=UTF-8

Well, though I agree Maven isn't designed to be an end-user tool, using it
to build the end-user distribution is actually totally supported.
IMO, if what you're trying to do is building your product from some sources
and binaries, then Maven can obviously do it.

If what you need for production is an installer, then creating an installer
using izpack is indeed a good idea, but you would just build that installer
during your Maven build (http://izpack.codehaus.org/izpack-maven-plugin/e.g.).

You seem to actually have two kind of phases:
* the first one, typically compile and package your sources using binaries
coming from a repo manager (be it a corporately managed one, or directly
from Central)
* the second one, creating the end-user distribution, is typically done
with Maven using maven-assembly-plugin.

Don't hesitate to ask questions, because I don't think we've gone so far
until now to understand your building steps.

Cheers


2014-03-13 14:24 GMT+01:00 Maxim Solodovnik <solomax666@gmail.com>:

> Thanks Ron,
>
> I'll take a look at it, but I'm afraid distribute application in "partially
> compiled state" is not an option.
> Currently it works out of the box and this is the requirement.
>
> Will try to study maven and postpone the migration for now
>
>
> On Thu, Mar 13, 2014 at 8:18 PM, Ron Wheeler <
> rwheeler@artifact-software.com
> > wrote:
>
> > IMHO, Maven is a software build tool and trying to make it a installation
> > tool is much too hard.
> >
> > You might find that your life will be a lot easier with IzPack as the
> tool
> > to create your installer.
> > It will allow you to package up your maven artifacts with other resources
> > into different OS-specific installers that can be distributed easily.
> > It supports install time execution of your procedures so that you can
> > start RED-5 or execute the flex processes required to build and install
> the
> > Flash assets.
> >
> >
> > Ron
> >
> >
> >
> > On 13/03/2014 4:51 AM, Maxim Solodovnik wrote:
> >
> >> Hello Baptiste,
> >>
> >> Thanks for your quick reply!
> >>
> >> Red5-server is "custom tomcat" (zip/tgz with scripts, libraries, configs
> >> etc.).
> >> We need to pack it in our distribution, not sure if it can be done
> "Maven
> >> way" :(
> >>
> >> 2) tgz contains flex based Flash compiler with all necessary libraries
> and
> >> binaries necessary to build Flash part of our application.
> >>
> >>
> >>
> >>
> >>
> >> On Thu, Mar 13, 2014 at 5:15 AM, Baptiste Mathus <ml@batmat.net> wrote:
> >>
> >>  IIUC, your project openmeetings depends on red5 libraries.
> >>>
> >>> About your questions:
> >>>
> >>> 1) Not actually a Maven issue, but you seem to think the way to go it
> to
> >>> build that dependency. As the project is ASLv2, you would far better
> make
> >>> sure/ask it be uploaded to Maven Central. Then just just the
> <dependency>
> >>> in a normal way/
> >>> Maven is actually very straightforward if you follow the Maven Way
> (yeah,
> >>> sounds like a sect somehow, you may think ;-)).
> >>>
> >>> 2) Once again, what does contain that tgz? If it contains jars and so
> on,
> >>> then forget about downloading and decompressing it during your buil. Or
> >>> you're gonna a world of despair. Just upload those libs under some
> >>> sensible
> >>> coordinates in a corporate (or better, in Maven Central if the project
> is
> >>> OSS), and add the dependency.
> >>>
> >>> Please ask more questions/give more precisions if you want more precise
> >>> help.
> >>>
> >>> HTH
> >>>
> >>>
> >>> 2014-03-12 17:51 GMT+01:00 Maxim Solodovnik <solomax666@gmail.com>:
> >>>
> >>>  Hello All,
> >>>>
> >>>> I'm new to maven and not very familiar with all its plugins.
> >>>>
> >>>> I need to move project [1] from ant+ivy to maven
> >>>> The problems are:
> >>>>
> >>>> 1) this project is build on top of [2] maven project (we need the
> exact
> >>>> structure and all libraries from this project) *[first problem: i
> don't
> >>>> know how to do it]*
> >>>>        I did it using ant as follows:
> >>>>        a) using SVN download the project sources
> >>>>        b) build it using maven
> >>>>        c) unpack artifact and use it's structure in my build
> >>>>
> >>>> Currently this project was moved to git and I was hoping it will be
> >>>> possible to using maven scm:git for this, not sure how :(
> >>>>
> >>>> 2) this project need to download tgz file with required framework,
> >>>>
> >>> extract
> >>>
> >>>> it somewhere and use extracted file to perform the build *[second
> >>>>
> >>> problem:
> >>>
> >>>> is this possible?]*
> >>>>
> >>>> Any help is highly appreciated
> >>>>
> >>>> [1]
> >>>>
> >>>>
> >>>>  https://svn.apache.org/viewvc/openmeetings/trunk/
> >>> singlewebapp/build.xml?view=markup
> >>>
> >>>> [2] https://github.com/Red5/red5-server
> >>>>
> >>>> --
> >>>> WBR
> >>>> Maxim aka solomax
> >>>>
> >>>> --
> >>>> Baptiste <Batmat> MATHUS - http://batmat.net
> >>>> Sauvez un arbre,
> >>>> Mangez un castor ! nbsp;!
> >>>>
> >>>
> >>
> >>
> >
> > --
> > Ron Wheeler
> > President
> > Artifact Software Inc
> > email: rwheeler@artifact-software.com
> > skype: ronaldmwheeler
> > phone: 866-970-2435, ext 102
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > For additional commands, e-mail: users-help@maven.apache.org
> >
> >
>
>
> --
> WBR
> Maxim aka solomax
>



-- 
Baptiste <Batmat> MATHUS - http://batmat.net
Sauvez un arbre,
Mangez un castor !

--001a11c368f29fbd4b04f47d58d1--

