From users-return-135723-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Mar  6 18:47:36 2014
Return-Path: <users-return-135723-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B898110010
	for <apmail-maven-users-archive@www.apache.org>; Thu,  6 Mar 2014 18:47:36 +0000 (UTC)
Received: (qmail 51351 invoked by uid 500); 6 Mar 2014 18:47:33 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 50785 invoked by uid 500); 6 Mar 2014 18:47:19 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 50365 invoked by uid 99); 6 Mar 2014 18:47:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Mar 2014 18:47:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [24.37.79.202] (HELO smtp.artifact-software.com) (24.37.79.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Mar 2014 18:47:10 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by smtp.artifact-software.com (Postfix) with ESMTP id 813E86A76F2
	for <users@maven.apache.org>; Thu,  6 Mar 2014 13:46:48 -0500 (EST)
X-Virus-Scanned: amavisd-new at artifact-software.com
Received: from smtp.artifact-software.com ([127.0.0.1])
	by localhost (smtp.artifact-software.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id s3D0DGomX1vK for <users@maven.apache.org>;
	Thu,  6 Mar 2014 13:46:38 -0500 (EST)
Received: from [192.168.3.170] (unknown [192.168.3.170])
	by smtp.artifact-software.com (Postfix) with ESMTP id A642C6A76F1
	for <users@maven.apache.org>; Thu,  6 Mar 2014 13:46:38 -0500 (EST)
Message-ID: <5318C28B.1020201@artifact-software.com>
Date: Thu, 06 Mar 2014 13:46:35 -0500
From: Ron Wheeler <rwheeler@artifact-software.com>
Reply-To: "users@maven.apache.org >> Maven Users List" <users@maven.apache.org>
Organization: Artifact Software
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.3.0
MIME-Version: 1.0
To: users@maven.apache.org
Subject: Re: Invalid signature file digest for Manifest main attributes
References: <09927282-9cc3-4e1c-9095-191a2d1ad01d@default>
In-Reply-To: <09927282-9cc3-4e1c-9095-191a2d1ad01d@default>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I just had a similar problem.
I used the shade plugin with the following exclusion filter and it worked.
Without the exclusion, I had .RSA and .DSA files in the resulting 
assembly and with the exclusions, they were omitted.

You notice that my filter applies to *:*   You might want to try that to 
see if your <artifact> specification is not being interpreted as you wish.


                         <filters>
                                 <filter>
<artifact>*:*</artifact>
                                     <excludes>
<exclude>META-INF/*.SF</exclude>
<exclude>META-INF/*.DSA</exclude>
<exclude>META-INF/*.RSA</exclude>
                                     </excludes>
                                 </filter>
                             </filters>


Ron


On 06/03/2014 12:34 PM, Venkata Suresh Kumar Pamidipati wrote:
> Hi Ron,
>
> In the assembly distribution jar, only file present was MANIFEST.MF and there were no other files. But the jar created from packaging has the .SF and .RSA files which indicates that exclude configuration did not work. The dependency jar which I have mentioned in pom.xml is a signed jar and has these .SF and .RSA files.
>
> Thanks,
> Suresh
>
>
> ----- Original Message -----
> From: rwheeler@artifact-software.com
> To: users@maven.apache.org
> Sent: Thursday, March 6, 2014 6:50:33 PM GMT +05:30 Chennai, Kolkata, Mumbai, New Delhi
> Subject: Re: Invalid signature file digest for Manifest main attributes
>
> Look in the jar that the assembly created to see if the excludes
> actually worked.
>
> Ron
>
> On 06/03/2014 8:09 AM, Martin Gainty wrote:
>> Hi Suresh
>>
>>    
>>
>> Your best solution will come from  Oracle Support India
>> They are supposed to know this information and will be able to assist you with your problem
>> Oracle India Support Line number is +91.22.66796200
>> If  Oracle India is unable to assist you ..we can find a resource on this side of the planet to help you
>>
>>
>> Warm Regards
>>
>>     
>>
>>
>>
>>> Date: Wed, 5 Mar 2014 19:19:44 -0800
>>> From: suresh.pamidipati@oracle.com
>>> To: users@maven.apache.org
>>> Subject: Invalid signature file digest for Manifest main attributes
>>>
>>> Hi,
>>>
>>> I am trying to build our project using maven. I have included multiple dependency jars in pom.xml and I am trying to build distribution jar using assembly:assembly goal. The command "mvn assembly:assembly" resulted in the below error.
>>>
>>> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.4:assembly (default-cli) on project my-plugin: Execution default-cli of goal org.apache.maven.plugins:maven-assembly-plugin:2.4:assembly failed: Invalid signature file digest for Manifest main attributes -> [Help 1]
>>>
>>> Two of the dependency jars when present together was causing this issue. I tried commenting one of them and mvn assembly:assembly command worked fine. To make it work with both the jars present together, I tried by adding excludes in dependency, assembly and even shade plugin configuration in pom.xml to exclude MANIFEST files of one of those two jars as shown below, but still the same error exists.
>>>
>>> <configuration>
>>> <filters>
>>> <filter>
>>> <artifact>MyJar1:MyJar1</artifact>
>>> <excludes>
>>> <exclude>META-INF/*.SF</exclude>
>>> <exclude>META-INF/*.DSA</exclude>
>>> <exclude>META-INF/*.RSA</exclude>
>>> </excludes>
>>> </filter>
>>> </filters>
>>> </configuration>
>>>
>>> Please let me know how to resolve this error. I am not sure if the exclude statements were being ignored or I am missing some thing here. Any information on this will be really helpful.
>>>
>>> Thanks & Regards,
>>> Suresh
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
>>> For additional commands, e-mail: users-help@maven.apache.org
>>>
>>    		 	   		
>


-- 
Ron Wheeler
President
Artifact Software Inc
email: rwheeler@artifact-software.com
skype: ronaldmwheeler
phone: 866-970-2435, ext 102


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


