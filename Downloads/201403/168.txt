From users-return-135694-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar  5 20:24:15 2014
Return-Path: <users-return-135694-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 69DEC10CF6
	for <apmail-maven-users-archive@www.apache.org>; Wed,  5 Mar 2014 20:24:15 +0000 (UTC)
Received: (qmail 32648 invoked by uid 500); 5 Mar 2014 20:24:10 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 32499 invoked by uid 500); 5 Mar 2014 20:24:09 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 31933 invoked by uid 99); 5 Mar 2014 20:24:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 20:24:08 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of prvs=51412A362D=howard@renci.org designates 152.54.5.131 as permitted sender)
Received: from [152.54.5.131] (HELO gateway.renci.org) (152.54.5.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Mar 2014 20:24:02 +0000
Received: from MAIL-CH1.ad.renci.org (172.25.10.50) by gateway.ad.renci.org
 (172.25.10.131) with Microsoft SMTP Server (TLS) id 14.3.123.3; Wed, 5 Mar
 2014 15:23:40 -0500
Received: from earle.europa.renci.org (172.25.10.130) by mail.renci.org
 (172.25.10.58) with Microsoft SMTP Server (TLS) id 14.3.123.3; Wed, 5 Mar
 2014 15:23:40 -0500
Message-ID: <531787D5.8090601@renci.org>
Date: Wed, 5 Mar 2014 15:23:49 -0500
From: Howard <howard@renci.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:24.0) Gecko/20100101 Thunderbird/24.3.0
MIME-Version: 1.0
To: <users@maven.apache.org>, Howard Lander <howard@renci.org>
Subject: Using github as a maven repo
Content-Type: multipart/alternative;
	boundary="------------050704050103020507040707"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------050704050103020507040707
Content-Type: text/plain; charset="ISO-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit

Hi all

I should preface this all by saying that I am not an experienced maven 
user, though I would not describe myself as a complete newbie, so I 
won't be too surprised if I am just doing something stupid here.  Please 
let me know if this is the wrong group for this type of question.

I've got a project where we are keeping all of our code on GitHub. The 
project name is DataBridge Because this is an National Science 
Foundation funded Open Source project I thought it might make sense to 
store the jar files we produce in a maven repository on GitHub. I found 
this web page

http://stackoverflow.com/questions/14013644/hosting-a-maven-repository-on-github

and followed the instructions for one project that produces one jar.  It 
seems to have worked great for putting the jar file up on Github. The 
problem is occurring when I try to download the jar as an artifact in 
another pom for another project that depends on it. I can download the 
jar and it's pom using wget at the following addresses:

wget 
https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar
wget 
https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.pom

but I don't seem to be able to find the magic to get maven to grab them. 
I'm thinking the problem is that I have the repository set incorrectly.  
It's set to

   <repositories>
     <repository>
         <id>github</id>
<url>https://github.com/HowardLander/DataBridge/blob/mvn-repo</url>
         <snapshots>
             <enabled>true</enabled>
             <updatePolicy>always</updatePolicy>
         </snapshots>
     </repository>
   </repositories>

Here's what I get from mvn -e compile

howard@databridge.renci.org:/projects/databridge/howard/DataBridge/network/BigData/XMLSim 
$ mvn -e compile
[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO]
[INFO] 
------------------------------------------------------------------------
[INFO] Building XMLTest 1
[INFO] 
------------------------------------------------------------------------
Downloading: 
https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/databridge-util/1.0-BETA/databridge-util-1.0-BETA.pom
[WARNING] The POM for 
org.renci.databridge-util:databridge-util:jar:1.0-BETA is missing, no 
dependency information available
Downloading: 
https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar
[INFO] 
------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] 
------------------------------------------------------------------------
[INFO] Total time: 1.593s
[INFO] Finished at: Wed Mar 05 11:56:41 EST 2014
[INFO] Final Memory: 4M/15M
[INFO] 
------------------------------------------------------------------------
[ERROR] Failed to execute goal on project XMLTest: Could not resolve 
dependencies for project com.RENCI.app:XMLTest:jar:1: Could not find 
artifact org.renci.databridge-util:databridge-util:jar:1.0-BETA in 
github (https://github.com/HowardLander/DataBridge/blob/mvn-repo) -> 
[Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to 
execute goal on project XMLTest: Could not resolve dependencies for 
project com.RENCI.app:XMLTest:jar:1: Could not find artifact 
org.renci.databridge-util:databridge-util:jar:1.0-BETA in github 
(https://github.com/HowardLander/DataBridge/blob/mvn-repo)

That seems fairly clear: it can't find 
https://github.com/HowardLander/DataBridge/blob/mvn-repo/org/renci/databridge-util/1.0-BETA/databridge-util-1.0-BETA.jar. 
Any suggestions?

For reference here's the part of the pom that is trying to download the  
jar:

    <dependency>
       <groupId>org.renci.databridge-util</groupId>
       <artifactId>databridge-util</artifactId>
       <version>1.0-BETA</version>
     </dependency>

The jar in question is part of the databridge-util project.  Here's the 
jar that pushes (successfully as far as I can tell) the jar and it's 
related artifacts to the github.

       <plugin>
           <groupId>com.github.github</groupId>
           <artifactId>site-maven-plugin</artifactId>
           <version>0.8</version>
           <configuration>
               <message>Maven artifacts for 
${project.version}</message>  <!-- git commit message -->
<noJekyll>true</noJekyll> <!-- disable webpage processing -->
<outputDirectory>${project.build.directory}/mvn-repo</outputDirectory> 
<!-- matches distribution management repository url above -->
<branch>refs/heads/mvn-repo</branch> <!-- remote branch name -->
<includes><include>**/*</include></includes>
<repositoryName>DataBridge</repositoryName>      <!-- github repo name -->
<repositoryOwner>HowardLander</repositoryOwner> <!-- github username  -->
           </configuration>
           <executions>
             <!-- run site-maven-plugin's 'site' target as part of the 
build's normal 'deploy' phase -->
             <execution>
               <goals>
                 <goal>site</goal>
               </goals>
               <phase>deploy</phase>
             </execution>
           </executions>
       </plugin>

Thanks much
Howard Lander

-- 
Howard Lander <mailto:howard@renci.org>
Senior Research Software Developer
Renaissance Computing Institute (RENCI) <http://www.renci.org>
The University of North Carolina at Chapel Hill
Duke University
North Carolina State University
100 Europa Drive
Suite 540
Chapel Hill, NC 27517
919-445-9651

--------------050704050103020507040707--

