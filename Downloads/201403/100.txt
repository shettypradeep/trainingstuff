From users-return-135828-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Mar 14 20:29:05 2014
Return-Path: <users-return-135828-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C207A10447
	for <apmail-maven-users-archive@www.apache.org>; Fri, 14 Mar 2014 20:29:05 +0000 (UTC)
Received: (qmail 86574 invoked by uid 500); 14 Mar 2014 20:29:01 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 86447 invoked by uid 500); 14 Mar 2014 20:28:56 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 86428 invoked by uid 99); 14 Mar 2014 20:28:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Mar 2014 20:28:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of khmarbaise@gmx.de designates 212.227.15.15 as permitted sender)
Received: from [212.227.15.15] (HELO mout.gmx.net) (212.227.15.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Mar 2014 20:28:45 +0000
Received: from Karl-Heinzs-MacBook-Pro.local ([217.247.2.215]) by mail.gmx.com
 (mrgmx101) with ESMTPSA (Nemesis) id 0LqV4f-1X22P13xBJ-00e4AA for
 <users@maven.apache.org>; Fri, 14 Mar 2014 21:28:23 +0100
Message-ID: <5323666A.50001@gmx.de>
Date: Fri, 14 Mar 2014 21:28:26 +0100
From: Karl Heinz Marbaise <khmarbaise@gmx.de>
Reply-To: info@soebes.de
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:24.0) Gecko/20100101 Thunderbird/24.3.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: Filtering issues with maven and assemblies...
References: <CA+uk_pK5ERBL+6triXKasDqvGaYkLaHhocHmp0+7oX9_5ayk_Q@mail.gmail.com>
In-Reply-To: <CA+uk_pK5ERBL+6triXKasDqvGaYkLaHhocHmp0+7oX9_5ayk_Q@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID:  V03:K0:wsIRN9jowQ4/Z2YAl+8sy/kUoxgvnNec/PwcmCjqBKX+uuf/1Sh
 UqrMwLaSx4rC0GmuHR9XH2DHzS0JQGAc978sHFCSowMaklwxvmA7RBlnpKoVttmC3sJiOUt
 cac7k42GV7DWvwC99wYX3p+Lt4eBfRphxoljIDTIsIzl8Fc8+1ZuJX/AoSxGJpYBciC3RTx
 HgWPNRnItIFtI8PuIhgMw==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Julien,

could you please create a simple example project with files and 
description what you expect the result should be...and what the current 
results are...

The best would be having a github project which can be cloned to analyze 
the problem...or may be a tar.gz / zip file which contains such a project...

Kind regards
Karl-Heinz Marbaise

On 3/13/14 4:58 PM, Julien Martin wrote:
> Hello,
>
> I am having issues with maven filtering. My resources are not filtered...
>
> I want to generate a jar with dependencies with custom filtering.
>
> Can anyone please help? Here is my configuration (*pom.xml* and
> *assembly.xml*):
>
>
>
>
> *Resources:*
>
>     <resources>
>              <resource>
>                  <directory>src/main/resources</directory>
>                  <filtering>true</filtering>
>              </resource>
>          </resources>
>
> *Plugins:*
>
> <plugin>
>                  <groupId>org.apache.maven.plugins</groupId>
>                  <artifactId>maven-resources-plugin</artifactId>
>                  <version>2.6</version>
>                  <executions>
>                      <execution>
>                          <id>copy-resources</id>
>                          <phase>validate</phase>
>                          <goals>
>                              <goal>copy-resources</goal>
>                          </goals>
>                          <configuration>
>                              <outputDirectory>target</outputDirectory>
>                              <resources>
>                                  <resource>
>
> <directory>misc/external-resources</directory>
>                                  </resource>
>                              </resources>
>                          </configuration>
>                      </execution>
>                      <execution>
>                          <id>dev</id>
>                          <phase>process-resources</phase>
>                          <goals>
>                              <goal>resources</goal>
>                          </goals>
>                          <configuration>
>                              <outputDirectory>target/dev</outputDirectory>
>                              <filters>
>
> <filter>src/main/resources/filters/dev.properties</filter>
>                              </filters>
>                          </configuration>
>                      </execution>
>                      <execution>
>                          <id>prod</id>
>                          <phase>process-resources</phase>
>                          <goals>
>                              <goal>resources</goal>
>                          </goals>
>                          <configuration>
>                              <outputDirectory>target/prod</outputDirectory>
>                              <filters>
>
> <filter>src/main/resources/filters/prod.properties</filter>
>                              </filters>
>                          </configuration>
>                      </execution>
>                  </executions>
>              </plugin>
>              <plugin>
>                  <groupId>org.codehaus.mojo</groupId>
>                  <artifactId>build-helper-maven-plugin</artifactId>
>                  <version>1.1</version>
>                  <executions>
>                      <execution>
>                          <phase>generate-sources</phase>
>                          <goals>
>                              <goal>add-source</goal>
>                          </goals>
>                          <configuration>
>                              <sources>
>
> <source>${project.generated-sources.directory}</source>
>                              </sources>
>                          </configuration>
>                      </execution>
>                  </executions>
>              </plugin>
>              <plugin>
>                  <artifactId>maven-assembly-plugin</artifactId>
>                  <version>2.4</version>
>                  <executions>
>                      <execution>
>                          <id>dev</id>
>                          <phase>package</phase>
>                          <goals>
>                              <goal>single</goal>
>                          </goals>
>                          <configuration>
>                              <archive>
>                                  <manifest>
>                                      <addClasspath>true</addClasspath>
>
> <mainClass>com.otcexids.main.Main</mainClass>
>                                  </manifest>
>                              </archive>
>                              <descriptors>
>
> <descriptor>src/main/resources/assemble/assembly.xml</descriptor>
>                              </descriptors>
>                              <filters>
>
> <filter>src/main/resources/filters/dev.properties</filter>
>                              </filters>
>                              <finalName>IDS-dev</finalName>
>                              <appendAssemblyId>false</appendAssemblyId>
>                          </configuration>
>                      </execution>
>                      <execution>
>                          <id>prod</id>
>                          <phase>package</phase>
>                          <goals>
>                              <goal>single</goal>
>                          </goals>
>                          <configuration>
>                              <archive>
>                                  <manifest>
>                                      <addClasspath>true</addClasspath>
>
> <mainClass>com.otcexids.main.Main</mainClass>
>                                  </manifest>
>                              </archive>
>                              <descriptors>
>
> <descriptor>src/main/resources/assemble/assembly.xml</descriptor>
>                              </descriptors>
>                              <filters>
>
> <filter>src/main/resources/filters/prod.properties</filter>
>                              </filters>
>                              <finalName>IDS-prod</finalName>
>                              <appendAssemblyId>false</appendAssemblyId>
>                          </configuration>
>                      </execution>
>                  </executions>
>              </plugin>
>
>
> *Assembly.xml*
>
>
> <?xml version="1.0" encoding="UTF-8"?>
> <assembly xmlns="
> http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
>            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
>            xsi:schemaLocation="
> http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2
> http://maven.apache.org/xsd/assembly-1.1.2.xsd">
>      <id>jar-with-dependencies</id>
>      <formats>
>          <format>jar</format>
>      </formats>
>      <includeBaseDirectory>false</includeBaseDirectory>
>      <dependencySets>
>          <dependencySet>
>              <outputDirectory>/</outputDirectory>
>              <useProjectArtifact>true</useProjectArtifact>
>              <unpack>true</unpack>
>              <scope>runtime</scope>
>          </dependencySet>
>      </dependencySets>
>      <files>
>          <file>
>              <filtered>true</filtered>
>              <outputDirectory>wsdl/brokerhub</outputDirectory>
>
> <source>src/main/resources/wsdl/brokerhub/soapinterface_1.2.wsdl</source>
>          </file>
>          <file>
>              <filtered>true</filtered>
>              <outputDirectory>wsdl/finderpro</outputDirectory>
>
> <source>src/main/resources/wsdl/finderpro/B2T_DataModel.asmx.wsdl</source>
>          </file>
>          <file>
>              <filtered>false</filtered>
>              <outputDirectory>wsdl/website</outputDirectory>
>
> <source>src/main/resources/wsdl/website/WSWebsiteIDS.wsdl</source>
>          </file>
>
>      </files>
> </assembly>
>
> Can anyone please help?
>
> Regards,
>
> J.
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


