From users-return-135865-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Mar 19 21:16:56 2014
Return-Path: <users-return-135865-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6548110898
	for <apmail-maven-users-archive@www.apache.org>; Wed, 19 Mar 2014 21:16:56 +0000 (UTC)
Received: (qmail 51959 invoked by uid 500); 19 Mar 2014 21:16:50 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 51765 invoked by uid 500); 19 Mar 2014 21:16:47 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 51640 invoked by uid 99); 19 Mar 2014 21:16:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Mar 2014 21:16:45 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mfriedenhagen@gmail.com designates 209.85.214.172 as permitted sender)
Received: from [209.85.214.172] (HELO mail-ob0-f172.google.com) (209.85.214.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Mar 2014 21:16:42 +0000
Received: by mail-ob0-f172.google.com with SMTP id wm4so8826886obc.3
        for <users@maven.apache.org>; Wed, 19 Mar 2014 14:16:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=/BwbAk/coco5NJjrRxrK43lkU0WPAnGbUOZfngGdXMA=;
        b=UdzJdbxbkCNWMGLr4IYbKxpk5u3Sw9U+9TF195SigN32wcC0s2olf+pjfgNZiypcTa
         6LkISskkTk3fvybG9YNEqTL3eA1VEov7lhBMEkvpLcyeGdy+rGgLuP2k/XNBbBvar6md
         BNqs3iVK6YkVMeavLz9qcwEQgIG9dFuiY3gjeCWYpVaAfyvdPMi9bqAKon+eCil2teub
         BBO+F89xpzuVbxoUPRCuRh5ef0aF/WQv9iKnT2jteL4rEvDDjEJptHm8hSZ1NVXV+f6M
         uvbER3/VFusOeSkQxfL9OOMlIwtPqmxg7fvXFLNnkdpbeZnAdVs67LTkusfM6S6CPhjk
         wVYw==
X-Received: by 10.60.141.9 with SMTP id rk9mr34548525oeb.12.1395263781456;
 Wed, 19 Mar 2014 14:16:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.182.193.9 with HTTP; Wed, 19 Mar 2014 14:15:38 -0700 (PDT)
In-Reply-To: <CAAUywg-0poAG=fjBD9FeeteMKz7Y9yEkO=gHr6rUqcPX_BBbdA@mail.gmail.com>
References: <5329FCAC.2050705@gmail.com> <CAAUywg-0poAG=fjBD9FeeteMKz7Y9yEkO=gHr6rUqcPX_BBbdA@mail.gmail.com>
From: Mirko Friedenhagen <mfriedenhagen@gmail.com>
Date: Wed, 19 Mar 2014 22:15:38 +0100
Message-ID: <CAK8jvqw4AOqhoyB0yvpK6BdRN8vLNFr=967z-bSuCQ139TRWoQ@mail.gmail.com>
Subject: Re: Open Source Best Practices with Maven - distributionManagement
To: Maven Users List <users@maven.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Eric,

as outlined in https://maven.apache.org/plugins/maven-deploy-plugin/deploy-=
mojo.html
in your settings.xml you might define properties
altReleaseDeploymentRepository and altSnapshotDeploymentRepository in
a profile internal-repository which is activated by default while you
do not define any repository at all in your pom.
Now while developing you just invoke mvn deploy and everything should
go to your local Nexus.
When invoking mvn -P!internal-repository everything should go to central.
Regards Mirko
--
http://illegalstateexception.blogspot.com/
https://github.com/mfriedenhagen/ (http://osrc.dfm.io/mfriedenhagen)
https://bitbucket.org/mfriedenhagen/


On Wed, Mar 19, 2014 at 9:39 PM, Stevo Slavi=C4=87 <sslavic@gmail.com> wrot=
e:
> Hello Eric,
>
> I'd consider using Sonatype OSS with Sonatype OSS parent pom and everythi=
ng
> that goes along (see more details at
> https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repositor=
y+Usage+Guide)
> For OSS development maybe use private (and not local) Nexus as proxy only=
,
> with mirrors defined in local settings.xml, but publish both snapshots an=
d
> releases to Sonatype OSS repositories which get synced to Maven Central.
> Why run Nexus on local machine? To control dependencies and their metada
> for yourself only? Still looks as overkill to me, if you're the sole user
> and plan on developing OSS. You already have local repository, and you
> should have same experience as your OSS users (so no custom local metadat=
a
> of dependencies, depend only on stuff available on Maven Central, with
> metadata as it is published on Maven Central).
>
> Kind regards,
> Stevo Slavic
>
>
> On Wed, Mar 19, 2014 at 9:23 PM, Eric Kolotyluk <eric.kolotyluk@gmail.com=
>wrote:
>
>> Does anyone know of any good documentation on 'Open Source Best Practice=
s
>> with Maven'
>>
>> For example, in my POM, I want to set up
>>
>>   <distributionManagement>
>> <downloadUrl>http://localhost:8081/nexus/content/groups/public
>> </downloadUrl>
>>     <repository>
>>       <uniqueVersion>false</uniqueVersion>
>>       <id>nexus-kolotyluk</id>
>>       <name>Local Release Repository</name>
>> <url>http://localhost:8081/nexus/content/repositories/releases</url>
>>       <layout>default</layout>
>>     </repository>
>>     <snapshotRepository>
>>       <id>nexus-kolotyluk</id>
>>       <name>Local Snapshot Repository</name>
>> <url>http://localhost:8081/nexus/content/repositories/snapshots</url>
>>       <layout>default</layout>
>>     </snapshotRepository>
>>   </distributionManagement>
>>
>> But that is my local repository on my development computer.
>>
>> If I want to push my project to Maven Central some day, I don't think I
>> want this in my POM.
>>
>> Should I put this in a parent POM, or inside a <profile> of my
>> settings.xml file?
>>
>> If I put it in a parent POM, then I need to push that to Maven Central
>> too, so that does not sound like a good idea.
>>
>> Cheer, Eric
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
>> For additional commands, e-mail: users-help@maven.apache.org
>>
>>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


