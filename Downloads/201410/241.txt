From users-return-137579-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Fri Oct 17 16:14:54 2014
Return-Path: <users-return-137579-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3382917332
	for <apmail-maven-users-archive@www.apache.org>; Fri, 17 Oct 2014 16:14:54 +0000 (UTC)
Received: (qmail 26572 invoked by uid 500); 17 Oct 2014 16:14:52 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 26483 invoked by uid 500); 17 Oct 2014 16:14:52 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 26472 invoked by uid 99); 17 Oct 2014 16:14:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Oct 2014 16:14:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.116.21 as permitted sender)
Received: from [65.55.116.21] (HELO BLU004-OMC1S10.hotmail.com) (65.55.116.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Oct 2014 16:14:26 +0000
Received: from BLU172-W9 ([65.55.116.7]) by BLU004-OMC1S10.hotmail.com over TLS secured channel with Microsoft SMTPSVC(7.5.7601.22751);
	 Fri, 17 Oct 2014 09:14:24 -0700
X-TMN: [MVYwpjYtHbWkehLWk7Qvt1mhIaGml+mk]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W998EA26432D41BAF30E82AEA80@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_02076fc8-97d5-4cca-a31f-8097d4c4c21d_"
From: Martin Gainty <mgainty@hotmail.com>
To: "users@maven.apache.org" <users@maven.apache.org>
Subject: RE: AW: Strange Dependency problem after switching to Maven 3.1.1
Date: Fri, 17 Oct 2014 12:14:23 -0400
Importance: Normal
In-Reply-To: <1413558236574.98615@c-ware.de>
References:
 <1413548420515.75258@c-ware.de>,<1413548891289.97719@c-ware.de>,<1413558236574.98615@c-ware.de>
MIME-Version: 1.0
X-OriginalArrivalTime: 17 Oct 2014 16:14:24.0904 (UTC) FILETIME=[6B20E080:01CFEA25]
X-Virus-Checked: Checked by ClamAV on apache.org

--_02076fc8-97d5-4cca-a31f-8097d4c4c21d_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable





> From: christofer.dutz@c-ware.de
> To: users@maven.apache.org
> Subject: AW: Strange Dependency problem after switching to Maven 3.1.1
> Date: Fri=2C 17 Oct 2014 15:04:00 +0000
>=20
> Ok ... well think I have to answer my own question again :-(
>=20
> It took me about a day to debug this=2C but it seems the conflict resolut=
ion of Maven has changed.
> The thing is the framework:swc has the same name and groupId as the frame=
work:rb.swc ... so maven thinks there are two identical dependencies but wi=
th different scope. This causes maven to go into JavaScopeDeriver.getDerive=
dScope .... here in the end in the "else" simply RUNTIME is assumed as a de=
fault.

MG>"runtime default scoping" is explained somewhat at http://books.sonatype=
.com/mvnref-book/pdf/mvnref-pdf.pdf
MG>clearing up the situation for each dependency to have different GAV will=
 resolve

I think I will have to refactor the structure of our artifacts to generate =
the resource bundles into a different artifact (assumably by appending ".rb=
" to the group Id
MG>perhaps the owner of http://books.sonatype.com/mvnref-book/pdf/mvnref-pd=
f.pdf doc will allow documenting
MG>this side effect by Chris Dutz...no sense in anyone else being bit by "I=
dentical GAV default runtime scoping side-effect"
>=20
> Chris
>=20
> ________________________________________
> Von: Christofer Dutz <christofer.dutz@c-ware.de>
> Gesendet: Freitag=2C 17. Oktober 2014 14:28
> An: Maven Users List
> Betreff: AW: Strange Dependency problem after switching to Maven 3.1.1
>=20
> Actually in MavenProject the "resolvedArtifacts" variable contains this d=
ata ... not "artifacts" as the runtime artifacts are stripped out by the "a=
rtifactFilter".
>=20
> Chris
>=20
> ________________________________________
> Von: Christofer Dutz <christofer.dutz@c-ware.de>
> Gesendet: Freitag=2C 17. Oktober 2014 14:20
> An: Maven Users List
> Betreff: Strange Dependency problem after switching to Maven 3.1.1
>=20
> Hi=2C
>=20
>=20
> I'm currently working on updating the Flexmojos plugin to support newer M=
aven versions. Now I'm having a strange problem:
>=20
>=20
> Flexmojos defines Flex dependencies as type "swc" for flex libraries and =
"rb.swc" for resource bundles. Furthermore we have a scope "rsl" (runtime s=
hared library) which sort of turns the default static linking to dynamic li=
nking.
>=20
>=20
> So assume I have an artifact A and B of type "swc" that has one "rb.swc" =
dependency to its corresponding resource bundle.
>=20
>=20
> In my project I now add one dependency to A with scope "rsl" and one depe=
ndency to B with the default "compile" scope.
>=20
>=20
> In Maven 3.0.5 I can see the MavenProjects.artifacts list containing
>=20
>=20
> A:swc:rsl
>=20
> A:rb.swc:compile
>=20
> B:swc:compile
>=20
> B:rb.swc:compile
>=20
>=20
> In Maven 3.1.1 this however is:
>=20
>=20
> A:swc:rsl
>=20
> A:rb.swc:runtime
>=20
> B:swc:compile
>=20
> B:rb.swc:compile
>=20
>=20
> Why does the scope of the transitive dependencies switch to "runtime" in =
Maven 3.1.1?
>=20
>=20
> Chris
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@maven.apache.org
> For additional commands=2C e-mail: users-help@maven.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@maven.apache.org
> For additional commands=2C e-mail: users-help@maven.apache.org
>=20
 		 	   		  =

--_02076fc8-97d5-4cca-a31f-8097d4c4c21d_--

