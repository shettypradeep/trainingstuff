From users-return-137606-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Oct 21 00:03:46 2014
Return-Path: <users-return-137606-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5405317B91
	for <apmail-maven-users-archive@www.apache.org>; Tue, 21 Oct 2014 00:03:46 +0000 (UTC)
Received: (qmail 38554 invoked by uid 500); 21 Oct 2014 00:03:44 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 38466 invoked by uid 500); 21 Oct 2014 00:03:44 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 38450 invoked by uid 99); 21 Oct 2014 00:03:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Oct 2014 00:03:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.216.177] (HELO mail-qc0-f177.google.com) (209.85.216.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Oct 2014 00:03:17 +0000
Received: by mail-qc0-f177.google.com with SMTP id c9so85003qcz.36
        for <users@maven.apache.org>; Mon, 20 Oct 2014 17:03:16 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:date:from:to:subject:message-id:in-reply-to
         :references:mime-version:content-type:content-transfer-encoding;
        bh=42qkuBDjSkZUwfEkqmbjAaEZE+3rmDVc8QFeJWf59jM=;
        b=W2D4QCrl9YcqcicSWXPSNka2nLAVJamUwdDqWaha1Zjy84aIFd6d9TcMEJvi0O8Cfm
         F4067j0GSxdYG/9g8VboGwDhS1tdiEdoXfONBCqSo0WWrz8iytKGGuCuWdUuEzJiJj8J
         KHZF1v79Mk7MUJy3CHuirq27NxYJi4omTRRS4d3P+aKV7Gdkjn3uL5vV1M60IIJgavBI
         /PlgxDJtFp4o6FYosf7S7EkD3N7ApZyGg45ky1THliKgT0D3bkybuNrlyrjpv5Y08DKo
         mKPpJaXhKUzb8RvXnF8lQGZ+zwtEGvsuoUW9+10ylwUu7QX2i+QzFmnx0ttSJRnu3tdE
         pLpA==
X-Gm-Message-State: ALoCoQnaY7jtDlioAuJM+Rlo1BG/DoPRzhkyGpiKVZ2R8iBzrLVzdQsbXNxqmnn4MNAzgIRql08F
X-Received: by 10.229.244.1 with SMTP id lo1mr16137868qcb.29.1413849796600;
        Mon, 20 Oct 2014 17:03:16 -0700 (PDT)
Received: from localhost (HSI-KBW-109-193-068-033.hsi7.kabel-badenwuerttemberg.de. [109.193.68.33])
        by mx.google.com with ESMTPSA id e7sm9280446qaf.11.2014.10.20.17.03.15
        for <users@maven.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 20 Oct 2014 17:03:16 -0700 (PDT)
Date: Tue, 21 Oct 2014 02:03:11 +0200
From: Bernd Eckenfels <ecki@zusammenkunft.net>
To: Maven Users List <users@maven.apache.org>
Subject: Re: How to create ISO image that supports long file names?
Message-ID: <20141021020311.00000978.ecki@zusammenkunft.net>
In-Reply-To: <CAA8BW8FmFePd6+9qT4twu-BGMCzQqDOAFOJOikuV64Ae8Sa1Vg@mail.gmail.com>
References: <CAA8BW8FmFePd6+9qT4twu-BGMCzQqDOAFOJOikuV64Ae8Sa1Vg@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello David,

we are using an external executable to do this.

It is genisoimage from crdkit.org (debian fork of cdrtools). It can
produce for example Joilet extensions (which are used for long
filenames AFAIK). There are still filename limitations for ISO names
(but the joilet names seen on linux/windows are less restrictive). I
think the tools prints them:

http://linux.die.net/man/1/genisoimage

            <plugin>
                <!-- ISO generation. -->
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.2.1</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <phase>verify</phase>
                    </execution>
                </executions>
                <configuration>
                    <executable>genisoimage</executable>
                    <arguments>
                        <argument>-V</argument>
                        <argument>${iso.name}</argument>
                        <argument>-m</argument>
                        <argument>*.iso</argument>
                        <argument>-dir-mode</argument>
                        <argument>0555</argument>
                        <argument>-file-mode</argument>
                        <argument>0555</argument>
                        <argument>-gid</argument>
                        <argument>0</argument>
                        <argument>-uid</argument>
                        <argument>0</argument>
                        <argument>-iso-level</argument>
                        <argument>2</argument>
                        <argument>-J</argument>
                        <argument>-joliet-long</argument>
                        <argument>-r</argument>
                        <argument>-o</argument>
                        <argument>${project.build.directory}/${iso.name}</argument>
                        <argument>${iso.preparation.dir}</argument>
                    </arguments>
                </configuration>
            </plugin>

The above tries to be rather compatible (not using level 3 or version 2
or enforcing Rock Ridge or UDF).

Gruss
Bernd

Mon, 20 Oct 2014 15:42:42 -0600 schrieb David Hoffer
<dhoffer6@gmail.com>:

> I'm trying to use iso9660-maven-plugin to generate an iso image and
> I'm getting string index out of range errors.  My input has long file
> names, e.g.
> 7b0a8ad702ee0be0b971a082023550bd71bd33d3cbb4fa17f1de6af66f1871d4-comps-Server.x86_64.xml.gz
> and I suspect this is causing the problem.
> 
> How can I resolve this?  I don't technically need/want an 9660 image
> as I'm creating DVD images (actually these will be used by vSphere
> and I think it's quite tolerant of ISO format).  Is there a way to
> configure iso9660-maven-plugin to allow long file names or is there a
> different goal/plugin that I should be using that supports this?
> Currently I'm running the 'iso' goal on iso9660-maven-plugin.
> 
> Example error:
> Execution generate-iso of goal
> com.github.stephenc.java-iso-tools:iso9660-maven-plugin:2.0.0:iso
> failed: String index out of range: -2
> 
> -Dave
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


