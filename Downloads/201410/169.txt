From users-return-137625-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Oct 23 12:06:39 2014
Return-Path: <users-return-137625-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB35D17C62
	for <apmail-maven-users-archive@www.apache.org>; Thu, 23 Oct 2014 12:06:39 +0000 (UTC)
Received: (qmail 78122 invoked by uid 500); 23 Oct 2014 12:06:37 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 78054 invoked by uid 500); 23 Oct 2014 12:06:37 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 78042 invoked by uid 99); 23 Oct 2014 12:06:36 -0000
Received: from mx1-us-east.apache.org (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Oct 2014 12:06:36 +0000
Received: from mx1-us-east.apache.org (localhost [127.0.0.1])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id BE28D4382E
	for <users@maven.apache.org>; Thu, 23 Oct 2014 12:06:35 +0000 (UTC)
Received: by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org, from userid 111)
	id B383C43862; Thu, 23 Oct 2014 12:06:35 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	mx1-us-east.apache.org
X-Spam-Level: *
X-Spam-Status: No, score=1.4 required=10.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RCVD_IN_MSPIKE_H3,
	RCVD_IN_MSPIKE_WL,SPF_PASS,URIBL_BLOCKED autolearn=disabled version=3.4.0
Received: from mail-oi0-f45.google.com (mail-oi0-f45.google.com [209.85.218.45])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 492604382E
	for <users@maven.apache.org>; Thu, 23 Oct 2014 12:06:35 +0000 (UTC)
Received: by mail-oi0-f45.google.com with SMTP id i138so590437oig.4
        for <users@maven.apache.org>; Thu, 23 Oct 2014 05:06:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=D5cJRgf5iP92F3zhsnStgTsdrgma6BMOnaEhRa4/ojY=;
        b=cyUZQCZ2hWyz8hhVKhWlnF4kxPlQuzQPiBGzSSFGSXKaBlvclD8Xi1vQWiaVvKTvqj
         y5wcEwrIJdHVq6gRGcky6aaLyKSaJmjPLmCXUrhhAvFnlYJaeWSLslG7mEFdFw3FrXcq
         YYAZhNGFlvjBwq3fC2Ez/YrbmM+rwMi2rMShAUQggv+yl2ZS9blb0WLPrl1D/WNOj/Di
         CniEwYOYBGj+8xY3hZ2esHSb6CWR8t/oPWxxqsD8j04ZdLg68k8g+t/HSNIprC2Lt7XL
         PAqkDQrPxKJC0YPsAdoeQ4bKWUvx1tf5X/Io3R9X2XKBRpcAY3h/T4DrFkwqtiBYk2IT
         9P/A==
MIME-Version: 1.0
X-Received: by 10.182.144.230 with SMTP id sp6mr59214obb.83.1414065994266;
 Thu, 23 Oct 2014 05:06:34 -0700 (PDT)
Received: by 10.60.116.39 with HTTP; Thu, 23 Oct 2014 05:06:34 -0700 (PDT)
In-Reply-To: <etPan.5448c1a0.66334873.12a@Vlads-MacBook-Air-6.local>
References: <etPan.5448c1a0.66334873.12a@Vlads-MacBook-Air-6.local>
Date: Thu, 23 Oct 2014 13:06:34 +0100
Message-ID: <CA+nPnMzJva8aTrwpH0DoCLWaUn7wiOKFQEF+ynMyxXq_Uzdwpw@mail.gmail.com>
Subject: Re: Maven Release Plugin Unexpected Behaviour
From: Stephen Connolly <stephen.alan.connolly@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=089e0149d05646fd62050615e59d
X-Virus-Scanned: ClamAV using ClamSMTP

--089e0149d05646fd62050615e59d
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<plugin>
    <artifactId>maven-release-plugin</artifactId>
    <version>2.5.1</version>
</plugin>

does the job

as does

mvn org.apache.maven.plugins:maven-release-plugin:2.5.1:prepare
org.apache.maven.plugins:maven-release-plugin:2.5.1:perform

On 23 October 2014 09:51, Vlad Slepukhin <slp.vld@gmail.com> wrote:

> Hello!
>
> I has already posted this question to StackOverflow, though I didn=E2=80=
=99t get
> much help (expect warning about git requirements for 2.5.x version).
>
> The thing is that I=E2=80=99m trying to set up our project deployment to =
Nexus
> process via release-plugin. My script is:
>
> git checkout -b release-${RELEASE_VERSION}
> mvn org.apache.maven.plugins:maven-release-plugin:2.4.2:prepare
> -DautoVersionSubmodules=3Dtrue
> -DdevelopmentVersion=3D${RELEASE_VERSION}.1-SNAPSHOT -DpushChanges=3Dtrue
> -DreleaseVersion=3D${RELEASE_VERSION}.0 -Dtag=3Dv${RELEASE_VERSION}.0
> mvn  org.apache.maven.plugins:maven-release-plugin:2.4.2:perform
>
> The problem is: if this plugin (and its SCM dependency) is not added to
> the main project pom, it is going to push your artifact to snapshot
> repository with wrong name and WONT=E2=80=99T push updates to your branch=
.
>
> It seems to repeat this problem:
> https://jira.codehaus.org/browse/MRELEASE-812
>
> However, it was closed in 1.9.1 of maven-scm-provider-gitexe, which I=E2=
=80=99m
> using right now.
>
> Any ideas on solving this issue without adding next lines to main pom:
>
> <plugin>
>     <artifactId>maven-release-plugin</artifactId>
>        <version>2.4.2</version>
>        <dependencies>
>          <dependency>
>            <groupId>org.apache.maven.scm</groupId>
>            <artifactId>maven-scm-provider-gitexe</artifactId>
>              <version>1.9.2</version>
>          </dependency>
>        </dependencies>
>  </plugin>
>
> --
> Kind Regards,
> Vlad Slepukhin
>
>

--089e0149d05646fd62050615e59d--

