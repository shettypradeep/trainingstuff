From users-return-137494-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Oct  8 18:55:07 2014
Return-Path: <users-return-137494-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C6F917669
	for <apmail-maven-users-archive@www.apache.org>; Wed,  8 Oct 2014 18:55:07 +0000 (UTC)
Received: (qmail 68741 invoked by uid 500); 8 Oct 2014 18:55:06 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 68669 invoked by uid 500); 8 Oct 2014 18:55:05 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 68658 invoked by uid 99); 8 Oct 2014 18:55:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Oct 2014 18:55:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of khmarbaise@gmx.de designates 212.227.15.19 as permitted sender)
Received: from [212.227.15.19] (HELO mout.gmx.net) (212.227.15.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Oct 2014 18:54:37 +0000
Received: from Karl-Heinzs-MacBook-Pro.local ([217.247.12.194]) by
 mail.gmx.com (mrgmx003) with ESMTPSA (Nemesis) id 0LskfZ-1YLoxR3U2D-012J5j
 for <users@maven.apache.org>; Wed, 08 Oct 2014 20:54:36 +0200
Message-ID: <5435886C.2080306@gmx.de>
Date: Wed, 08 Oct 2014 20:54:36 +0200
From: Karl Heinz Marbaise <khmarbaise@gmx.de>
Reply-To: info@soebes.de
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:24.0) Gecko/20100101 Thunderbird/24.6.0
MIME-Version: 1.0
To: Maven Users List <users@maven.apache.org>
Subject: Re: Why do running modules in parallel take longer to execute than
 running them in sequence?
References: <1412793888704-5808128.post@n5.nabble.com>
In-Reply-To: <1412793888704-5808128.post@n5.nabble.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:oMDC0/Bnm/wzw61m4x/97zWV7ZZHr8ko38Hme0Z/qitsCItxZCt
 XMiFuqV7Umpj9FvPuPleTWxjFIQXLPCxdXKADFcy/KUd5tJZe/YC0TUv8GbQyj5GalhToC/
 IYkzLhtZolJDEVQD095//9Pl9jvOr6fiytwA7pGAKWD9vrUAo2OqO7NXpjJP5+qECh58oUm
 UqKvt2Vdi9ZGVcaflF8bg==
X-UI-Out-Filterresults: notjunk:1;
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,


have paid attention to forkCount ? How did you set it?

How many core's do you have ?


On 10/8/14 8:44 PM, laredotornado-3 wrote:
> Hi,
>
> Iâ€™m using Maven 3.2.3, Spring 3.2.11.RELEASE, JUnit 4.11, Java 6, and the
> Surefire/Failsafe 2.17 plugins.  Iâ€™m trying to figure out why when running a
> couple of modules in parallel, it takes much longer than when I run them
> individually.  Iâ€™m trying to figure out ways to speed up my build.  I have
> this in my parent pom â€¦
>
>          <modules>
>                  <module>core</module>
>                  â€¦
> 		<module>module-x</module>
>                  <module>module-y</module>
>          </modules>
>
> When I run â€œmvn clean install -T 4â€?, modules â€œmodule-xâ€? and â€œmodule-yâ€? run
> in parallel.  Both have a number of integration tests, all using
>
> 	@RunWith(SpringJUnit4ClassRunner.class)
> 	@ContextConfiguration({ "classpath:test-context.xml" })
> 	public class MyServiceIT
> 	{
>
> Below are my surefire/failsafe configurations â€¦
>
>                          <plugin>
>                                  <groupId>org.apache.maven.plugins</groupId>
>
> <artifactId>maven-surefire-plugin</artifactId>
>                                  <version>2.17</version>
>                                  <configuration>
>                                          <reuseForks>true</reuseForks>
>                                          <argLine>-Xmx2048m
> -XX:MaxPermSize=512M </argLine>
>
> <skipTests>${skipAllTests}</skipTests>
>                                  </configuration>
>                          </plugin>
>                          <plugin>
>                                  <groupId>org.apache.maven.plugins</groupId>
>
> <artifactId>maven-failsafe-plugin</artifactId>
>                                  <version>2.17</version>
>                                  <configuration>
>                                          <reuseForks>true</reuseForks>
>                                          <argLine>-Xmx4096m
> -XX:MaxPermSize=512M </argLine>
>
> <skipTests>${skipAllTests}</skipTests>
>                                  </configuration>
>                                  <executions>
>                                          <execution>
>                                                  <goals>
>
> <goal>integration-test</goal>
>                                                          <goal>verify</goal>
>                                                  </goals>
>                                          </execution>
>                                  </executions>
>                          </plugin>
>
> When I run the tests in parallel, the modules take 11 minutes and 13
> minutes, respectively, to run.  However, running them concurrently (without
> the â€œ-Tâ€? option), they execute in 6 minutes and 9 minutes, respectively.
> Iâ€™m confused about why they take so much longer to run when they both run at
> the same time and was hoping some folks could suggest some ways I can
> troubleshoot this further.

Kind regards
Karl-Heinz Marbaise


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


