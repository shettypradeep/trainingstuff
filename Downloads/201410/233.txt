From users-return-137611-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Tue Oct 21 01:37:47 2014
Return-Path: <users-return-137611-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6AB5817F30
	for <apmail-maven-users-archive@www.apache.org>; Tue, 21 Oct 2014 01:37:47 +0000 (UTC)
Received: (qmail 81621 invoked by uid 500); 21 Oct 2014 01:37:45 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 81524 invoked by uid 500); 21 Oct 2014 01:37:45 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 81508 invoked by uid 99); 21 Oct 2014 01:37:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Oct 2014 01:37:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.53] (HELO mail-qa0-f53.google.com) (209.85.216.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Oct 2014 01:37:41 +0000
Received: by mail-qa0-f53.google.com with SMTP id v10so158758qac.26
        for <users@maven.apache.org>; Mon, 20 Oct 2014 18:36:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:date:from:to:subject:message-id:in-reply-to
         :references:mime-version:content-type:content-transfer-encoding;
        bh=AoI6y4+BETh2qW2i5/QoNfvwLaGPxyXTqtkan3e18+U=;
        b=JdXfrG9HpZHQrDIymysbNHZBGAbITypk1ObJgczdsjnGHSJqxueoxAnjAHSDoqq137
         qX2t7LKyrqlhk8vugeQsrHwFby1MwD8Ox1dQa0WqJ1JgWjOHoAT5iELFtKPFg483fYoE
         WHh9yrGm0LSrioAM3LiDFE02a2iQQDyQiypQ7IfpdX1r+SlCr23b+K3ALEOoH/l0sEGj
         aenId4mjiurFeBVBWfDCTtWO38XHfWxHSL1aKTU0b7SG+elJ9qlPhzScCToK1PPcwVLG
         BVt2nf8Yh6qF/w2rMXGbvBOuXD4c3b6kCbAiO9eT6PZ1sX/FWV35xzENVsDkgkcFkNWd
         wdzw==
X-Gm-Message-State: ALoCoQmYwQwRVdyrWDI2JvZIzJE/GFYi2spHIkldmMibyHj6+p5v9NhJF8PQ9lJ9/a4sn/FA6DYy
X-Received: by 10.140.42.39 with SMTP id b36mr15240413qga.102.1413855395103;
        Mon, 20 Oct 2014 18:36:35 -0700 (PDT)
Received: from localhost (HSI-KBW-109-193-068-033.hsi7.kabel-badenwuerttemberg.de. [109.193.68.33])
        by mx.google.com with ESMTPSA id e7sm9471192qaf.11.2014.10.20.18.36.34
        for <users@maven.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 20 Oct 2014 18:36:35 -0700 (PDT)
Date: Tue, 21 Oct 2014 03:36:29 +0200
From: Bernd Eckenfels <ecki@zusammenkunft.net>
To: Maven Users List <users@maven.apache.org>
Subject: Re: How to create ISO image that supports long file names?
Message-ID: <20141021033629.00002ae7.ecki@zusammenkunft.net>
In-Reply-To: <CAA8BW8FBDBATEoxHhXvevRSY02Yo6z_0Yq9BR0g5Zo3KuX8KKQ@mail.gmail.com>
References: <CAA8BW8FmFePd6+9qT4twu-BGMCzQqDOAFOJOikuV64Ae8Sa1Vg@mail.gmail.com>
	<20141021020311.00000978.ecki@zusammenkunft.net>
	<CAA8BW8Gtaoxoi24jwg1sbKp1uHOMsk2hzR-K4HBX2KpnBLqKBA@mail.gmail.com>
	<20141021024656.00000d09.ecki@zusammenkunft.net>
	<CAA8BW8FBDBATEoxHhXvevRSY02Yo6z_0Yq9BR0g5Zo3KuX8KKQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

no I have'nt tried it personally, and I am not sure if the person who
used the binary approach considerd maven plugin. I dont think so
because the maven job was replacing an existing DOS batch file with
the same command :) 

Gruss
Bernd


Am Mon, 20 Oct 2014 19:03:18 -0600 schrieb David
Hoffer <dhoffer6@gmail.com>:

> Hi Bernd,
> 
> Thanks I'll take a look at the Windows approach.  Just curious, did
> you try using Stephen's maven plugin?  Just wondering if that might
> work for your use case.
> 
> A little background on my use case might be in order.  I just got
> handed this task today.  For years this has been building with a
> Maven build that runs an ant task to do all the work.  It's using a
> couple of jars that are really old to create the iso.  The problem is
> that the file names we get from Red Hat and others keep getting
> longer...now the code can't handle it.
> 
> I tried updating the jars to the latest version with no luck.  Then I
> found Stephen's plugin which is much...much nicer to use...but it has
> the same problem.  I think Stephen forked the same code that's in the
> jars we are using but not certain of that.
> 
> I don't know that much about iso format and all the extensions.  I'd
> like to know if someone thinks it's feasible to update Stephen's
> plugin...as that makes the build much simpler and I don't have to
> worry about platform/exec issues.
> 
> -Dave
> 
> On Mon, Oct 20, 2014 at 6:46 PM, Bernd Eckenfels
> <ecki@zusammenkunft.net> wrote:
> 
> > Hello David,
> >
> > you can replace the ISO in local builds with a a ZIP file for most
> > cases - but there is also a Windows/cygwin binary available.
> >
> > Or you use the original mkisofs which offers a win32 executable.
> > (http://www.student.tugraz.at/thomas.plank/index_en.html)
> >
> > BTW: for unpacking the ISO in integration test we use loopy, but not
> > sure if it is easy to use for creating.
> >
> > Stephen, does the maven plugin indirectly use loopy as well?
> >
> > Gruss
> > Bernd
> >
> > Am Mon, 20 Oct 2014 18:26:35 -0600
> > schrieb David Hoffer <dhoffer6@gmail.com>:
> >
> > > Hi Bernd,
> > >
> > > Tanks for the suggestion, that's an interesting approach.
> > > However I suspect that's Linux only and that might be deal
> > > breaker.  We have some CI build agents that are Linux but most
> > > developers use Windows and I suspect they will want to run this
> > > too.
> > >
> > > Thanks,
> > > -Dave
> > >
> > > On Mon, Oct 20, 2014 at 6:03 PM, Bernd Eckenfels
> > > <ecki@zusammenkunft.net> wrote:
> > >
> > > > Hello David,
> > > >
> > > > we are using an external executable to do this.
> > > >
> > > > It is genisoimage from crdkit.org (debian fork of cdrtools). It
> > > > can produce for example Joilet extensions (which are used for
> > > > long filenames AFAIK). There are still filename limitations for
> > > > ISO names (but the joilet names seen on linux/windows are less
> > > > restrictive). I think the tools prints them:
> > > >
> > > > http://linux.die.net/man/1/genisoimage
> > > >
> > > >             <plugin>
> > > >                 <!-- ISO generation. -->
> > > >                 <groupId>org.codehaus.mojo</groupId>
> > > >                 <artifactId>exec-maven-plugin</artifactId>
> > > >                 <version>1.2.1</version>
> > > >                 <executions>
> > > >                     <execution>
> > > >                         <goals>
> > > >                             <goal>exec</goal>
> > > >                         </goals>
> > > >                         <phase>verify</phase>
> > > >                     </execution>
> > > >                 </executions>
> > > >                 <configuration>
> > > >                     <executable>genisoimage</executable>
> > > >                     <arguments>
> > > >                         <argument>-V</argument>
> > > >                         <argument>${iso.name}</argument>
> > > >                         <argument>-m</argument>
> > > >                         <argument>*.iso</argument>
> > > >                         <argument>-dir-mode</argument>
> > > >                         <argument>0555</argument>
> > > >                         <argument>-file-mode</argument>
> > > >                         <argument>0555</argument>
> > > >                         <argument>-gid</argument>
> > > >                         <argument>0</argument>
> > > >                         <argument>-uid</argument>
> > > >                         <argument>0</argument>
> > > >                         <argument>-iso-level</argument>
> > > >                         <argument>2</argument>
> > > >                         <argument>-J</argument>
> > > >                         <argument>-joliet-long</argument>
> > > >                         <argument>-r</argument>
> > > >                         <argument>-o</argument>
> > > >                         <argument>${project.build.directory}/${
> > iso.name
> > > > }</argument>
> > > >                         <argument>${iso.preparation.dir}</argument>
> > > >                     </arguments>
> > > >                 </configuration>
> > > >             </plugin>
> > > >
> > > > The above tries to be rather compatible (not using level 3 or
> > > > version 2 or enforcing Rock Ridge or UDF).
> > > >
> > > > Gruss
> > > > Bernd
> > > >
> > > > Mon, 20 Oct 2014 15:42:42 -0600 schrieb David Hoffer
> > > > <dhoffer6@gmail.com>:
> > > >
> > > > > I'm trying to use iso9660-maven-plugin to generate an iso
> > > > > image and I'm getting string index out of range errors.  My
> > > > > input has long file names, e.g.
> > > > >
> > > >
> > 7b0a8ad702ee0be0b971a082023550bd71bd33d3cbb4fa17f1de6af66f1871d4-comps-Server.x86_64.xml.gz
> > > > > and I suspect this is causing the problem.
> > > > >
> > > > > How can I resolve this?  I don't technically need/want an 9660
> > > > > image as I'm creating DVD images (actually these will be used
> > > > > by vSphere and I think it's quite tolerant of ISO format).
> > > > > Is there a way to configure iso9660-maven-plugin to allow
> > > > > long file names or is there a different goal/plugin that I
> > > > > should be using that supports this? Currently I'm running the
> > > > > 'iso' goal on iso9660-maven-plugin.
> > > > >
> > > > > Example error:
> > > > > Execution generate-iso of goal
> > > > > com.github.stephenc.java-iso-tools:iso9660-maven-plugin:2.0.0:iso
> > > > > failed: String index out of range: -2
> > > > >
> > > > > -Dave
> > > > >
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > > > For additional commands, e-mail: users-help@maven.apache.org
> > > >
> > > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> > For additional commands, e-mail: users-help@maven.apache.org
> >
> >
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


