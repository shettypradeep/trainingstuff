From users-return-137543-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Mon Oct 13 06:39:10 2014
Return-Path: <users-return-137543-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65426176A6
	for <apmail-maven-users-archive@www.apache.org>; Mon, 13 Oct 2014 06:39:10 +0000 (UTC)
Received: (qmail 83500 invoked by uid 500); 13 Oct 2014 06:39:08 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 83420 invoked by uid 500); 13 Oct 2014 06:39:08 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 83406 invoked by uid 99); 13 Oct 2014 06:39:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Oct 2014 06:39:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cregganna@gmail.com designates 209.85.220.181 as permitted sender)
Received: from [209.85.220.181] (HELO mail-vc0-f181.google.com) (209.85.220.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Oct 2014 06:38:42 +0000
Received: by mail-vc0-f181.google.com with SMTP id le20so5286165vcb.26
        for <users@maven.apache.org>; Sun, 12 Oct 2014 23:38:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=bNCvAr2icAxcvmisVczJwCFYhLouB/GDSmUtCYaGD4k=;
        b=PxTPDntLPWR4sVr1dsf1+YMMBh06JzAAKKN/L6Yi/32HwpPwGjxHODXoapa759uGnR
         3EykQSPbOK7X9cz9i2PobCRXtu6X/Ce70E4B4oT3hUXTn2ei1Cdy75bSJPAHYMY0PJ5f
         j1yxlxIHKw/auq/JWxgzitRtFh549O4433Yn550xjMIfGuFNLvtHzQ1LcJn/n/0X6wSA
         stPQ/BdtEdV8mn9BDPBdBlVC/SnAWgIC5DaIXoX+5FiNHDrIavnsBLqRLpviS7FV5QHH
         JapSMUL6CnLCEPRKTLLVQ67qJTLiqd2jQYxbdT322My3awce5yJsr18n0S9nKou8F+Ew
         OUCw==
MIME-Version: 1.0
X-Received: by 10.52.146.17 with SMTP id sy17mr14093908vdb.29.1413182321338;
 Sun, 12 Oct 2014 23:38:41 -0700 (PDT)
Sender: cregganna@gmail.com
Received: by 10.31.3.6 with HTTP; Sun, 12 Oct 2014 23:38:41 -0700 (PDT)
In-Reply-To: <543B6DDF.9000506@gmx.de>
References: <CAPdv7QxNAERSQmNBnjSDiSG_i5kzvzfzAH+HhGCTWnn5a7rnbg@mail.gmail.com>
	<543B6DDF.9000506@gmx.de>
Date: Mon, 13 Oct 2014 07:38:41 +0100
X-Google-Sender-Auth: Awy_AObXJ1mGzZPDDMvL-xmV-aA
Message-ID: <CAPdv7Qwi3UuVzL3DNQ4Qc+CJpdB0OOHGeNukAQer=rchLGD__g@mail.gmail.com>
Subject: Re: Request for functionality in maven-assembly-plugin - ignoreProjectBuildFilters
From: Tony Jewell <tony.jewell@cregganna.com>
To: Maven Users List <users@maven.apache.org>, info@soebes.de
Content-Type: multipart/alternative; boundary=bcaec52d5987442e6d050548260d
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec52d5987442e6d050548260d
Content-Type: text/plain; charset=UTF-8

Thanks Karl,

Two things:


   1. I couldn't get access to the JIRA to submit a ticket myself - is this
   something I am allowed to request?
   2. Of course I'm going to ask: when is maven-assembly-plugin:2.4.2
   likely to be released?

Thanks,
Tony Jewell

On 13 October 2014 07:14, Karl Heinz Marbaise <khmarbaise@gmx.de> wrote:

> Hi Tony,
>
> I have taken a look into your patch...looks ok...
>
> This looks like a usefull enhancement so I will integrate your patch...
>
> I have created an appropriate JIRA entry:
>
> http://jira.codehaus.org/browse/MASSEMBLY-717
>
> Kind regards
> Karl Heinz Marbaise
>
>
>
> On 10/13/14 1:09 AM, Tony Jewell wrote:
>
>> Hi,
>>
>> We hit an issue when using maven-assembly-plugin:2.4.1.
>>
>> We were using filters in assemblies to filter config property files
>> according to the assembly we were producing - thus targetting our
>> various environments.
>>
>> In the Project Build we defined test filter sources for tests and
>> running in the IDE.
>>
>> Unfortunately, the default action in maven-assembly-plugin is to include
>> all ${project.build.filters} - before the filters defined in the
>> Assembly configuration. This meant all our assemblies had the Test
>> configs.
>>
>> I have attached an example project that displays the issue and a patch
>> to the current trunk maven-assembly-plugin:2.4.2-SNAPSHOT.
>>
>> A snippet from sample pom.xml showing the proposed new
>> ignoreProjectBuildFilters config boolean usage is:
>>
>>            <plugin>
>>                <groupId>org.apache.maven.plugins</groupId>
>>                <artifactId>maven-assembly-plugin</artifactId>
>>                <version>${maven-assembly-plugin.version}</version>
>>                <executions>
>>                    <execution>
>>                        <id>prod-assemble</id>
>>                        <phase>package</phase>
>>                        <goals><goal>single</goal></goals>
>>                        <configuration>
>>                            <!-- Do not include the Filters as defined in
>> the Project Build -->
>>
>> <includeProjectBuildFilters>false</includeProjectBuildFilters>
>>                            <filters>
>>
>> <filter>src/main/filters/prod.properties</filter>
>>                            </filters>
>>                            <descriptors>
>>
>> <descriptors>src/main/assemblies/prod-assemble.xml</descriptors>
>>                            </descriptors>
>>                        </configuration>
>>                    </execution>
>>                </executions>
>>            </plugin>
>>
>> Thanks,
>>
>> Tony Jewell
>> Cregganna Computer Consultants Ltd
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>

--bcaec52d5987442e6d050548260d--

