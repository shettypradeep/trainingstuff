From users-return-137571-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Oct 15 18:21:39 2014
Return-Path: <users-return-137571-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0583173DE
	for <apmail-maven-users-archive@www.apache.org>; Wed, 15 Oct 2014 18:21:39 +0000 (UTC)
Received: (qmail 97244 invoked by uid 500); 15 Oct 2014 18:21:37 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 97163 invoked by uid 500); 15 Oct 2014 18:21:37 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 97152 invoked by uid 99); 15 Oct 2014 18:21:37 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Oct 2014 18:21:37 +0000
Received: from localhost (HELO robertscholte) (127.0.0.1)
  (smtp-auth username rfscholte, mechanism login)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Oct 2014 18:21:37 +0000
Content-Type: text/plain; charset=iso-8859-15; format=flowed; delsp=yes
To: "Maven Users List" <users@maven.apache.org>
Subject: Re: Installing the pom.xml from inside an artifact using
 maven-install-plugin ?
References: <CAPJN_SjqFCrv58ku8wXtV9f3+y53TXucCkgNA_=SZSVvrUw_mA@mail.gmail.com>
Date: Wed, 15 Oct 2014 20:21:36 +0200
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
From: "Robert Scholte" <rfscholte@apache.org>
Message-ID: <op.xnsamaeskdkhrr@robertscholte>
In-Reply-To: <CAPJN_SjqFCrv58ku8wXtV9f3+y53TXucCkgNA_=SZSVvrUw_mA@mail.gmail.com>
User-Agent: Opera Mail/12.17 (Win32)

Kind of surprising this issue is discovered after more than a year.
I can confirm that right now it only *reads* the GAV information from the  
pom, but this pom file itself isn't actually used as part of the deploy.
So the plugin should be improved here.
Could you create an issue for it?[1]

thanks,
Robert

[1] https://jira.codehaus.org/browse/MINSTALL

Op Tue, 14 Oct 2014 13:17:06 +0200 schreef Johan Ekesparr  
<johan.eke@gmail.com>:

> The instructions on the page custom-pom-installation doesn't solve the
> problem I'm having ( I'm usin the  
> maven-install-plugin:2.5.2:install-file )
>
> Example 1) Here we must have two files. The artifact jar-file _and_ an
> pom.xml file. I see no way of referencing the pom.xml _inside_ the  
> artifact
> jar-file. So this I can't use since the pom.xml is bundled inside hte
> artifact.jar.
>
> Example 2) This will install the artifact jar-file with the information  
> in
> the bundled pom.xml but then it generates a dummy pom.xml and install it.
> Why is it not installing the pom.xml it just read !?
>
> Generated POM-file looks like this :-(
>
> <?xml version="1.0" encoding="UTF-8"?>
> <project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
> http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="
> http://maven.apache.org/POM/4.0.0"
>     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
>   <modelVersion>4.0.0</modelVersion>
>   <groupId>com.pop.group</groupId>
>   <artifactId>beatles</artifactId>
>   <version>1.2.3</version>
>   <description>POM was created from install:install-file</description>
> </project>
>
> /J
>
>> Hi,
>>
>> this is supported since version 2.5.
>> Read
>>
> http://maven.apache.org/plugins/maven-install-plugin/examples/custom-pom-installation.html
>>
>> for the details.
>>
>> thanks,
>> Robert
>>
>> Op Mon, 13 Oct 2014 13:56:26 +0200 schreef Johan Ekesparr
>> <johan.eke@gmail.com>:
>>
>> > Is there any way of installing the pom.xml file from inside an  
>> existing
>> > artifact using the maven-install-plugin ?
>> >
>> > Currently when we have an artifact created in a maven build the  
>> artifact
>> > includes the pom.xml file. Using the goal install:install-file we can
>> > install the arrtifact(jar-file) and the install plugin will read the
>> > pom.xml insiden the artifact to get the groupId and name of the  
>> artifact
>> > during the installation.
>> > We would like the installer to also be able to extract and install the
>> > pom.xml file from the artifact at the same time. I find it odd that  
>> it's
>> > not done during the installation of the artifact since it's already
>> > reading
>> > the pom.xml the logical step from my point of view is to also install
> it.
>> >
>> > Currently I'm forced to create a small ant-script to extract the  
>> pom.xml
>> > file and install it separatly.
>> >
>> > So is it possible to do this with the current tool that I have missed  
>> or
>> > could someone suggest a way to get this into the suggested improvment
>> > list
>> > for the project ?
>> >
>> > /J
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
>> For additional commands, e-mail: users-help@maven.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


