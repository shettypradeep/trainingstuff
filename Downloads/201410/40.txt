From users-return-137514-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Oct  9 22:36:55 2014
Return-Path: <users-return-137514-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D55C417449
	for <apmail-maven-users-archive@www.apache.org>; Thu,  9 Oct 2014 22:36:55 +0000 (UTC)
Received: (qmail 5851 invoked by uid 500); 9 Oct 2014 22:36:54 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 5770 invoked by uid 500); 9 Oct 2014 22:36:54 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 5758 invoked by uid 99); 9 Oct 2014 22:36:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Oct 2014 22:36:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [85.13.151.183] (HELO dd34514.kasserver.com) (85.13.151.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Oct 2014 22:36:26 +0000
Received: from dd34514.kasserver.com (dd0800.kasserver.com [85.13.143.204])
	by dd34514.kasserver.com (Postfix) with ESMTPSA id 2E8184340113
	for <users@maven.apache.org>; Fri, 10 Oct 2014 00:36:26 +0200 (CEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-SenderIP: 24.68.152.10
User-Agent: ALL-INKL Webmail 2.11
In-Reply-To: <1412762773689-5808061.post@n5.nabble.com>
References: <1363963713150-5751512.post@n5.nabble.com> <1412759666132-5808056.post@n5.nabble.com> <CAKDUN1trtvD_UYDfCS-Ozd0xTHactkE3waLWy710_eKc5rXreg@mail.gmail.com><1412762773689-5808061.post@n5.nabble.com>
Subject: Re: maven deploy artifacts to Nexus repository
From: "Manfred Moser" <manfred@mosabuam.com>
To: users@maven.apache.org
Message-Id: <20141009223626.2E8184340113@dd34514.kasserver.com>
Date: Fri, 10 Oct 2014 00:36:26 +0200 (CEST)
X-Virus-Checked: Checked by ClamAV on apache.org

Rather than having two different server sections in settings.xml it is better to use one and the same id in the distribtutionMgt in the pom if they are for the same server. So e.g. if you deploy everything to nexus it could look like this

<distributionManagement>
   <repository>
      <id>nexus</id>
      <url>http://localhost:8081/nexus/content/repositories/releases</url>
    </repository>
    <snapshotRepository>
      <id>nexus</id>
      <url>http://localhost:8081/nexus/content/repositories/snapshots</url>
    </snapshotRepository>
    <site>
      <id>nexus</id>
      <url>dav:http://localhost:8081/nexus/content/sites/site-internal/example</url>
    </site>
  </distributionManagement>

and then settings just needs 

<server>
<id>nexus</id>
....

The same id is also used if you set up mirror in settings e.g.

  <mirror>
<id>nexus</id>

causes the same credentials to be used for accessing the mirror url. You can use that to e.g. disable anonymous access on Nexus and then require credentials.

manfred

DJViking wrote on 08.10.2014 03:06:

> That was it. 
>        <snapshotRepository>
>            <id>snapshots</id>
>           
> <url>http://maven-vm1:8081/nexus/content/repositories/snapshots</url>
>        </snapshotRepository>
>        <repository>
>            <id>releases</id>
>           
> <url>http://maven-vm1:8081/nexus/content/repositories/releases</url>
>        </repository>
> 
> I had to create two servers with both these Id's, then it worked just fine.
> 
> Maybe I missed it, but I couldn't find anywhere in the documentation that
> this id needed to match the id in the server.
> 
> 
> 
> --
> View this message in context:
> http://maven.40175.n5.nabble.com/maven-deploy-artifacts-to-Nexus-repository-tp5751512p5808061.html
> Sent from the Maven - Users mailing list archive at Nabble.com.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


