From users-return-137502-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Oct  9 08:41:45 2014
Return-Path: <users-return-137502-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9DDB4172DB
	for <apmail-maven-users-archive@www.apache.org>; Thu,  9 Oct 2014 08:41:45 +0000 (UTC)
Received: (qmail 20919 invoked by uid 500); 9 Oct 2014 08:41:44 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 20808 invoked by uid 500); 9 Oct 2014 08:41:43 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 20796 invoked by uid 99); 9 Oct 2014 08:41:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Oct 2014 08:41:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of adrien.rivard@gmail.com designates 209.85.213.170 as permitted sender)
Received: from [209.85.213.170] (HELO mail-ig0-f170.google.com) (209.85.213.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Oct 2014 08:41:17 +0000
Received: by mail-ig0-f170.google.com with SMTP id hn15so2181423igb.5
        for <users@maven.apache.org>; Thu, 09 Oct 2014 01:41:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mSXs1t9G0PHpY2RUOZ2of4+S8nBonJpJmzrlG15LXtE=;
        b=n0QRDGtoDDORcLIxWP//W8d0UinA/VxZSGUzdlpfn5i6oEm/eF0xuscSgIKTJ8V2r/
         3ugZ7iFhYLupAlZfAkXQKwRvblmmIMTvMqIofzuyw+dlG1NdAYWh6Mbh91BFGVmFDMW5
         2SceTh1GAxHMEuUV/0I3rf7HOziiXJZOKbRjv1jmtUet8zJ8mgkqLqPb8irlZijL+C7D
         Xo92c9SwhtLjPfU9Dfdl4RtJsxYYSGl6Jwlzmp2uylcBXJc5XR9zt2WX/FHdQwpXl/F9
         CV0bGJeSDKihkVGgydcnKKuHxvhI/9/KvpH51siFg5uwXO3GyxyiNYlEXmYSQk2yHJuL
         5IJg==
MIME-Version: 1.0
X-Received: by 10.50.152.35 with SMTP id uv3mr6908991igb.46.1412844076008;
 Thu, 09 Oct 2014 01:41:16 -0700 (PDT)
Received: by 10.42.250.2 with HTTP; Thu, 9 Oct 2014 01:41:15 -0700 (PDT)
In-Reply-To: <CAFDw+_MKcYKPdc9M74-b0=AMwq-kKoWxzhwxjr--nWTpbKH9Kw@mail.gmail.com>
References: <CAFDw+_MKcYKPdc9M74-b0=AMwq-kKoWxzhwxjr--nWTpbKH9Kw@mail.gmail.com>
Date: Thu, 9 Oct 2014 10:41:15 +0200
Message-ID: <CAPCUOdFc1+Fzf5VxjY=0zqL3zcwzbm7M5SVWxFhtM05Bki3Fxw@mail.gmail.com>
Subject: Re: What packaging to use for a sub-module that just runs integration tests?
From: Adrien Rivard <adrien.rivard@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=089e013d0b7e460b130504f96544
X-Virus-Checked: Checked by ClamAV on apache.org

--089e013d0b7e460b130504f96544
Content-Type: text/plain; charset=UTF-8

Hi,

I would try to skip  the deploy goal for this particular plugin
see http://maven.apache.org/plugins/maven-deploy-plugin/faq.html#skip

On Thu, Oct 9, 2014 at 10:23 AM, Robert Mark Bram <
robertmarkbram+mailing.lists@gmail.com> wrote:

> My parent POM declares this Selenium project in a profile.
>    <profile>
>       <id>default-build</id>
>       <!-- This profile will be active if another profile isn't triggered
> -->
>       <activation>
>          <activeByDefault>true</activeByDefault>
>       </activation>
>       <modules>
>          <module>FooProject-Model</module>
>          <module>FooProject-Thermal</module>
>          <module>FooProject-ViewController</module>
>          <module>FooProject-API-V1</module>
>          <module>FooProject-Monitoring</module>
>          <module>FooProject-ADF</module>
>          <module>FooProject-BIRT</module>
>          <module>FooProject-Selenium</module>
>       </modules>
>    </profile>
>
> And the Selenium pom (sub-module) has the following:
>
> Packaging
>    <packaging>jar</packaging>
>
> Depend on the ear being built and deployed from another sub-module project.
>    <dependencies>
>       <dependency>
>          <groupId>${project.groupId}</groupId>
>          <artifactId>FooProject-ADF</artifactId>
>          <version>1.0</version>
>          <type>ear</type>
>       </dependency>
>
> Run integration tests.
>    </dependencies>
>    <build>
>       <plugins>
>          <plugin>
>             <groupId>org.apache.maven.plugins</groupId>
>             <artifactId>maven-failsafe-plugin</artifactId>
>             <version>2.17</version>
>             <configuration>
>                <forkMode>once</forkMode>
>             </configuration>
>             <executions>
>                <execution>
>                   <goals>
>                      <goal>integration-test</goal>
>                      <goal>verify</goal>
>                   </goals>
>                </execution>
>             </executions>
>          </plugin>
>       </plugins>
>    </build>
>
> The build (run from parent pom) is failing with this error:
>    [ERROR] Failed to execute goal
> org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy
> (default-deploy) on project FooProject-Selenium: Deployment failed:
> repository element was not specified in the POM inside
> distributionManagement element or in
> -DaltDeploymentRepository=id::layout::url parameter -> [Help 1]
>
> I understand this is because by specifying package as jar, Mavan wants
> to know where I want to put the FooProject-Selenium jar, and of course
> I don't want to generate a jar at all.
>
> I have ready suggestions that I should use the pom packaging statement
> and http://stackoverflow.com/a/8845858/257233 says that if I do that,
> I will have to explicitly call my goals with
>    mvn clean compiler:testCompile surefire:test
> But I don't want this - I need the parent pom to be able to be able to
> co-ordinate the entire build.
>
> So.. what is the best way to deal with this?
>
> Rob
> :)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>


-- 
Adrien Rivard

--089e013d0b7e460b130504f96544--

