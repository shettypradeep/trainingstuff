From users-return-135431-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Feb 12 21:10:29 2014
Return-Path: <users-return-135431-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 30B8210457
	for <apmail-maven-users-archive@www.apache.org>; Wed, 12 Feb 2014 21:10:29 +0000 (UTC)
Received: (qmail 67661 invoked by uid 500); 12 Feb 2014 21:10:21 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 67520 invoked by uid 500); 12 Feb 2014 21:10:20 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 67438 invoked by uid 99); 12 Feb 2014 21:10:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 21:10:19 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of benoit@berthonneau.com designates 46.105.63.121 as permitted sender)
Received: from [46.105.63.121] (HELO mo2.mail-out.ovh.net) (46.105.63.121)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 21:10:11 +0000
Received: from mail422.ha.ovh.net (gw6.ovh.net [213.251.189.206])
	by mo2.mail-out.ovh.net (Postfix) with SMTP id AE079FFC8D2
	for <users@maven.apache.org>; Wed, 12 Feb 2014 22:09:50 +0100 (CET)
Received: from b0.ovh.net (HELO queueout) (213.186.33.50)
	by b0.ovh.net with SMTP; 12 Feb 2014 23:10:09 +0200
Received: from 128-79-78-59.hfc.dyn.abo.bbox.fr (HELO PCSalon) (benoit@berthonneau.com@128.79.78.59)
  by ns0.ovh.net with SMTP; 12 Feb 2014 23:10:08 +0200
From: =?iso-8859-1?Q?Beno=EEt_Berthonneau?= <benoit@berthonneau.com>
To: "'Maven Users List'" <users@maven.apache.org>
References: <9e5201cf2831$52f17c60$f8d47520$@berthonneau.com>	<CABLGb9yyWxO8om2YE2Y-3v0RwLgB4RmY6cG9UK330DY4UVGHpQ@mail.gmail.com> <CAJZYdziydpwUPJLn4apNkeLaG_oSYvS4v09G1qO91B6iT5SePg@mail.gmail.com>
In-Reply-To: <CAJZYdziydpwUPJLn4apNkeLaG_oSYvS4v09G1qO91B6iT5SePg@mail.gmail.com>
Subject: RE: Code coverage with debug logs: 100% branch coverage not possible?...
Date: Wed, 12 Feb 2014 22:09:47 +0100
Message-ID: <00a201cf2836$c2ee5ce0$48cb16a0$@berthonneau.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 15.0
Thread-Index: AQIRh6Hnn/whgjj5FLNk5uRzCGHz6AHmtaMtAU8BLJKaE6/OMA==
Content-Language: fr
X-Antivirus: avast! (VPS 140212-2, 12/02/2014), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 16370584645634140432
X-Ovh-Remote: 128.79.78.59 (128-79-78-59.hfc.dyn.abo.bbox.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: -100
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeejtddrjedvucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmd
X-Spam-Check: DONE|U 0.5/N
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: -100
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeejtddrkeejucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmd
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Reto,

I understood your point of view but to me the problem I'm talking about
could be "easily" solved for a better branch coverage and know what is =
the
real missed branches report.

Beno=EEt.


-----Message d'origine-----
De=A0: Reto Habl=FCtzel [mailto:rethab@rethab.ch]=20
Envoy=E9=A0: mercredi 12 f=E9vrier 2014 21:47
=C0=A0: Maven Users List
Objet=A0: Re: Code coverage with debug logs: 100% branch coverage not
possible?...

To follow up on Paul's answer, I would go as far as to say that I test =
my
code in order to feel comfortable that it actually does what it should =
do.
Thus, I can very well live with 90% coverage if I know what the missing =
10%
are rather than testing for the sake of making a good impression with a =
100%
report.

- Reto
On Feb 12, 2014 9:37 PM, "Paul Benedict" <pbenedict@apache.org> wrote:

> IIRC, there should be an option in Emma/Cobertura that allows you to=20
> exclude coverage on certain classes. So if you can exclude your log4j=20
> classes (you don't really want to test your logging, do you?), then=20
> you should be able to raise your percentage.
>
>
> On Wed, Feb 12, 2014 at 2:30 PM, Beno=EEt Berthonneau
> <benoit@berthonneau.com>wrote:
>
> > Hi all,
> >
> >
> >
> > I need your opinion/way to tackle the following problem:
> >
> > In many projects we use a Logger (doesn't matter which =
implementation).
> It
> > is often recommend to test if the debug level is activated before
> logging a
> > debug trace like the following:
> >
> > if (logger.isDebugEnabled()) {
> >
> >     logger.debug("blah " + i + " in the loop that contains " + max);
> >
> > }
> >
> >
> >
> > Now when you run unit tests on this kind of code you need to make a
> choice:
> > run tests with INFO level or run tests with ALL traces activated. I
> choose
> > the second option in order to:
> >
> > *         Check that debug traces doesn't throw unwanted exception =
(like
> > NPE)
> >
> > *         Have a better code coverage in term of covered lines
> >
> >
> >
> > But in term of branches coverage we could never have a 100% :(
> >
> >
> >
> > To me the only way to cover this is to run the tests suite 2 times:=20
> > one with INFO traces configured, and another one with ALL traces=20
> > activated.
> >
> > Did you face this issue and how did you solve it ?
> >
> >
> >
> > Thanks,
> >
> > Beno=EEt.
> >
> >
>
>
> --
> Cheers,
> Paul
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


