From users-return-135633-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Thu Feb 27 17:40:45 2014
Return-Path: <users-return-135633-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A0C910D07
	for <apmail-maven-users-archive@www.apache.org>; Thu, 27 Feb 2014 17:40:45 +0000 (UTC)
Received: (qmail 34552 invoked by uid 500); 27 Feb 2014 17:40:41 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 34486 invoked by uid 500); 27 Feb 2014 17:40:40 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 34478 invoked by uid 99); 27 Feb 2014 17:40:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Feb 2014 17:40:40 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.lessard.3@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Feb 2014 17:40:34 +0000
Received: by mail-wi0-f177.google.com with SMTP id r20so1001796wiv.4
        for <users@maven.apache.org>; Thu, 27 Feb 2014 09:40:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=py+00X7wT5AUrf62ER9RgG0CpFZpiwbqSNKvq4aCqMI=;
        b=HfLF1eB+EiV+IDAxCxQnJxfqWsDnnqPcI4IRxXCMy9ADPKVxQZcJcyqgoRfqveq5fX
         j7i8wURPpKTNB//ZgOZADURY4lTE2Ps34QIGHsFeqkpMmWolbspf3Dz6DUc3my0N2csi
         wxHLEewPXXvvVw5Y+Ie6ipnRRVKhIxdk85MMHaFCYthOGmI28K68SFWmPMyfQ8pFc9OI
         n9A+x0HNVPr0w/Zq3NlGFJLMcL3kjWJc4O3lplsqX08gtvbBA6mbnn08j6sb4TA9mmUB
         7gNxep39Zp3mqDSiFhJV2d5TnNBdG+5rseMSu073/y6u7qG1rNUXQ1WGdQ7HQKSglDP4
         OEYQ==
MIME-Version: 1.0
X-Received: by 10.194.93.193 with SMTP id cw1mr3357723wjb.72.1393522814615;
 Thu, 27 Feb 2014 09:40:14 -0800 (PST)
Received: by 10.194.138.8 with HTTP; Thu, 27 Feb 2014 09:40:14 -0800 (PST)
In-Reply-To: <CAHTRnexnK5ECtJbRAw8+MBU=Yh_wAs5uWVttL1nkoHAvs2SB+Q@mail.gmail.com>
References: <20140227092431.205ec8f6@linux-du93.site>
	<CAB7wfMqriOJptgWdX+SOt0HAXgXAWKnuLiKSNXqKSEhCZs0hfQ@mail.gmail.com>
	<20140227170531.6c38285c@linux-du93.site>
	<CAHTRnezVoc=hiDxHMEVJz1HP1Xx2DKcFbxW0_TUeEwUR4Wyyqg@mail.gmail.com>
	<20140227171404.321aef96@linux-du93.site>
	<CAHTRneycD+yQQby5pQJ8nBf1hSahH=mTS=2VrVUDwOipkkizxg@mail.gmail.com>
	<20140227172637.797e2808@linux-du93.site>
	<CAHTRnexnK5ECtJbRAw8+MBU=Yh_wAs5uWVttL1nkoHAvs2SB+Q@mail.gmail.com>
Date: Thu, 27 Feb 2014 18:40:14 +0100
Message-ID: <CAB7wfMr6RR8UukD6vZddi03U0R=99=M_xe32ALviOVWDcSfHPg@mail.gmail.com>
Subject: Re: Are skinny WARs still recommended?
From: Simon Lessard <simon.lessard.3@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc05385a040904f366d0a5
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bdc05385a040904f366d0a5
Content-Type: text/plain; charset=ISO-8859-1

Hi,

>From a pure JSF point of view, you could also add a
WEB-INF/faces-config.xml file in your project that redefine all OmniFaces
artifact that are annotated. It's a super poor man solution/ugly hack as
you might have to alter the file with every OmniFaces releases, but would
allow you to have the OmniFaces JAR in the EAR while still have everything
it provides available. I agree with Antonio's suggestion to ask for a
library split within OmniFaces as a more future-proof solution.


Regards,


On Thu, Feb 27, 2014 at 5:31 PM, Antonio Petrelli <
antonio.petrelli@gmail.com> wrote:

> 2014-02-27 17:26 GMT+01:00 Martin Hoeller <martin@xss.co.at>:
>
> > On 27 Feb 2014, Antonio Petrelli wrote:
> >
> > > 2014-02-27 17:14 GMT+01:00 Martin Hoeller <martin@xss.co.at>:
> > >
> > > > On 27 Feb 2014, Antonio Petrelli wrote:
> > > >
> > > > > 2014-02-27 17:05 GMT+01:00 Martin Hoeller <martin@xss.co.at>:
> > > > >
> > > > > > I have another concrete example with a single WAR where OmniFaces
> > is a
> > > > > > dependency by the WAR and by some EJB JAR, both contained in the
> > EAR.
> > > > The
> > > > > > OmniFaces JAR goes in the EARs lib folder and thus OmniFaces ist
> > not
> > > > > > fully usable without workarounds. See also my question on
> > > > StackOverflow:
> > > > > >
> > > > > >
> > > >
> >
> http://stackoverflow.com/questions/22046464/how-to-correctly-use-omnifaces-in-an-ear
> > > > > >
> > > > > >
> > > > > Hi,
> > > > > the real question is: why do you want to use a JSF-specific library
> > > > inside
> > > > > an EJB?
> > > >
> > > > OmniFaces is a JSF library but not UI component focused like
> RichFaces.
> > > > It hast some really nice classes like BeanManager that could be
> useful
> > > > outside a JSF application.
> > > >
> > >
> > > If it's really BeanManager or few classes that you need, I suggest to
> use
> > > the Shade plugin, to create an artifact with one (or few) classes,
> > possibly
> > > moved to another package:
> > >
> >
> http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html
> >
> > I was already thinking of this :)
> >
> > However, I felt like there would be something wrong with this approach,
> as
> > I usually just need to declare a dependency when I want to use a library.
> > Not repackage it and include the classes twice in the EAR.
> >
>
> In fact what I proposed is a workaround. Probably you could collaborate
> with OmniFaces to split the library into a "common" jar and a JSF-specific
> jar, so that the common can be safely put in the EAR.
>
> Antonio
>



-- 
*Simon Lessard*, ADF Architect
*CMA* *SYSTeMS*
*( +33(0) 6 79 37 39 85 (France)*

--047d7bdc05385a040904f366d0a5--

