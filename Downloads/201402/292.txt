From users-return-135420-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Feb 12 09:34:01 2014
Return-Path: <users-return-135420-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5EA9910768
	for <apmail-maven-users-archive@www.apache.org>; Wed, 12 Feb 2014 09:34:01 +0000 (UTC)
Received: (qmail 91044 invoked by uid 500); 12 Feb 2014 09:33:56 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 90658 invoked by uid 500); 12 Feb 2014 09:33:54 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 90641 invoked by uid 99); 12 Feb 2014 09:33:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 09:33:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 09:33:46 +0000
Received: from [192.168.236.26] (helo=sam.nabble.com)
	by sam.nabble.com with esmtp (Exim 4.72)
	(envelope-from <hartnell_g@yahoo.co.uk>)
	id 1WDWC6-0007t4-3H
	for users@maven.apache.org; Wed, 12 Feb 2014 01:33:26 -0800
Date: Wed, 12 Feb 2014 01:33:26 -0800 (PST)
From: geoffh <hartnell_g@yahoo.co.uk>
To: users@maven.apache.org
Message-ID: <1392197606067-5784252.post@n5.nabble.com>
In-Reply-To: <CADVp3v8=TwD9dOCyeU_o0P=GgymOQJMO-JZbv8MEEuarwwDAZA@mail.gmail.com>
References: <1392106732883-5784035.post@n5.nabble.com> <CAHNdxun4zRCm1mCpnA_q27OYJj0khLpKLpBsGCD0Es4DRn3Qaw@mail.gmail.com> <CADVp3v9wpqkQRA5UyYMTCj6cmN3n-y4G85zgcQ8sOeZewKhnsg@mail.gmail.com> <CAHNdxukgfWP4Rrthk2uMegQU6zToYxMHAvvC1KfAS5J7RqGQtg@mail.gmail.com> <CADVp3v8=TwD9dOCyeU_o0P=GgymOQJMO-JZbv8MEEuarwwDAZA@mail.gmail.com>
Subject: Re: Adding dependency management to parent pom causes errors
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Laird, Barrie

Thanks for taking the time with some useful explanations
I'd like to put more detail into my problem in the hope that you may be able
to spot something I am doing wrong:

I started off with parent and child poms with no dependency management -
along the lines of:

Parent pom (without dependencyManagement)

		<dependencies>
			<dependency>
				<groupId>log4j</groupId>
				<artifactId>log4j</artifactId>
				<version>${log4j-version}</version>
			</dependency>

.
.
.
		</dependencies>

Child pom (without dependencyManagement)

	<dependencies>
			<dependency>
					<groupId>log4j</groupId>
					<artifactId>log4j</artifactId>
					<version>${log4j-version}</version>
			</dependency>
.
.
.
	</dependencies>

As I said, 'mvn clean deploy' completed successfully with no compilation
errors


I then changed the parent and child poms to use dependency management -
along the lines of:

Parent pom (with dependencyManagement)
	<dependencyManagement>
		<dependencies>
			<dependency>
				<groupId>log4j</groupId>
				<artifactId>log4j</artifactId>
				<version>${log4j-version}</version>
			</dependency>

.
.
.
		</dependencies>
	</dependencyManagement>


Child pom (with dependencyManagement)

	<dependencies>
			<dependency>
					<groupId>log4j</groupId>
					<artifactId>log4j</artifactId>
			</dependency>
.
.
.
	</dependencies>

I arranged that each child pom only referenced the dependencies it needed
- with the parent pom having all dependencies required by all children
After that I got the compilation error
Interestingly, I got the same error trace when invoking 'mvn
dependency:analyze'

>The compilation error you're talking about looks like something more
>substantial than a bad dependency--you're getting a compiler error from
>within javac itself.

However,  the compilation error did not occur in the situation without
dependencyManagement	
If there is a genuine compilation error, would it be expected to show in
both cases

Is that the correct way to use dependencyManagement ?

Thanks for reading and any help / suggestions
Geoff



--
View this message in context: http://maven.40175.n5.nabble.com/Adding-dependency-management-to-parent-pom-causes-errors-tp5784035p5784252.html
Sent from the Maven - Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


