From users-return-135421-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Feb 12 09:43:03 2014
Return-Path: <users-return-135421-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0AF6107B3
	for <apmail-maven-users-archive@www.apache.org>; Wed, 12 Feb 2014 09:43:03 +0000 (UTC)
Received: (qmail 4922 invoked by uid 500); 12 Feb 2014 09:42:59 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 4855 invoked by uid 500); 12 Feb 2014 09:42:57 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 4842 invoked by uid 99); 12 Feb 2014 09:42:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 09:42:56 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of adrien.rivard@gmail.com designates 209.85.220.171 as permitted sender)
Received: from [209.85.220.171] (HELO mail-vc0-f171.google.com) (209.85.220.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 09:42:52 +0000
Received: by mail-vc0-f171.google.com with SMTP id le5so6762725vcb.2
        for <users@maven.apache.org>; Wed, 12 Feb 2014 01:42:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=An2HKnxfVyCxbRUHYdUItsVIlQOLPPXKwuEkpAr7CwE=;
        b=1KcR953oFxpEwP+asnjaYOQIEd7humyQyANcsbQAxl5MsJrrbYq4KkjhZLuc91D+oK
         GMaBYTqqjgqgp9iBTUa0gsqzoNCavsWavE/lHIJq591xztmc7tdngsrgIpLFQ3R0hXJE
         f9quj8Ovg4MhuFZeUTy90Xsfp+ddWorDvJYJnJ00leQO1cfc8W9ux1OiEkA8ksqG9YXk
         4A70H4vetSq1XzqMex0ALYAW6V5aDuCxrb/jZ7PIscyE6it0MnKq2FX7F9X8QiUeahuY
         RodDYz8QbjdJ1wbtb/PQPfWn4izDw6XOVN9tvFN+vvMaxDSiHIVa2H1OyaIZwqUdwmKd
         hSDg==
MIME-Version: 1.0
X-Received: by 10.58.186.132 with SMTP id fk4mr31816037vec.9.1392198151380;
 Wed, 12 Feb 2014 01:42:31 -0800 (PST)
Received: by 10.220.140.13 with HTTP; Wed, 12 Feb 2014 01:42:31 -0800 (PST)
In-Reply-To: <1392197606067-5784252.post@n5.nabble.com>
References: <1392106732883-5784035.post@n5.nabble.com>
	<CAHNdxun4zRCm1mCpnA_q27OYJj0khLpKLpBsGCD0Es4DRn3Qaw@mail.gmail.com>
	<CADVp3v9wpqkQRA5UyYMTCj6cmN3n-y4G85zgcQ8sOeZewKhnsg@mail.gmail.com>
	<CAHNdxukgfWP4Rrthk2uMegQU6zToYxMHAvvC1KfAS5J7RqGQtg@mail.gmail.com>
	<CADVp3v8=TwD9dOCyeU_o0P=GgymOQJMO-JZbv8MEEuarwwDAZA@mail.gmail.com>
	<1392197606067-5784252.post@n5.nabble.com>
Date: Wed, 12 Feb 2014 10:42:31 +0100
Message-ID: <CAPCUOdHEdDn3jVsCQTALv=t-hXWzrcWtvgXCwPxzSU_aadtNLg@mail.gmail.com>
Subject: Re: Adding dependency management to parent pom causes errors
From: Adrien Rivard <adrien.rivard@gmail.com>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=047d7b6dc2504527a004f23264df
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b6dc2504527a004f23264df
Content-Type: text/plain; charset=UTF-8

Hi,

DependencyManagement is declaring dependencies(mostly for versions) and
dependencies is using them,
So in general you should have only dependencyManagement in the parent poms
and only dependencies in the childs.

Now there are exceptions, for example junit is generally used in all child
projects , so you can add it in dependencies of the parent pom and it will
be avaible in all childs.




On Wed, Feb 12, 2014 at 10:33 AM, geoffh <hartnell_g@yahoo.co.uk> wrote:

> Laird, Barrie
>
> Thanks for taking the time with some useful explanations
> I'd like to put more detail into my problem in the hope that you may be
> able
> to spot something I am doing wrong:
>
> I started off with parent and child poms with no dependency management -
> along the lines of:
>
> Parent pom (without dependencyManagement)
>
>                 <dependencies>
>                         <dependency>
>                                 <groupId>log4j</groupId>
>                                 <artifactId>log4j</artifactId>
>                                 <version>${log4j-version}</version>
>                         </dependency>
>
> .
> .
> .
>                 </dependencies>
>
> Child pom (without dependencyManagement)
>
>         <dependencies>
>                         <dependency>
>                                         <groupId>log4j</groupId>
>                                         <artifactId>log4j</artifactId>
>                                         <version>${log4j-version}</version>
>                         </dependency>
> .
> .
> .
>         </dependencies>
>
> As I said, 'mvn clean deploy' completed successfully with no compilation
> errors
>
>
> I then changed the parent and child poms to use dependency management -
> along the lines of:
>
> Parent pom (with dependencyManagement)
>         <dependencyManagement>
>                 <dependencies>
>                         <dependency>
>                                 <groupId>log4j</groupId>
>                                 <artifactId>log4j</artifactId>
>                                 <version>${log4j-version}</version>
>                         </dependency>
>
> .
> .
> .
>                 </dependencies>
>         </dependencyManagement>
>
>
> Child pom (with dependencyManagement)
>
>         <dependencies>
>                         <dependency>
>                                         <groupId>log4j</groupId>
>                                         <artifactId>log4j</artifactId>
>                         </dependency>
> .
> .
> .
>         </dependencies>
>
> I arranged that each child pom only referenced the dependencies it needed
> - with the parent pom having all dependencies required by all children
> After that I got the compilation error
> Interestingly, I got the same error trace when invoking 'mvn
> dependency:analyze'
>
> >The compilation error you're talking about looks like something more
> >substantial than a bad dependency--you're getting a compiler error from
> >within javac itself.
>
> However,  the compilation error did not occur in the situation without
> dependencyManagement
> If there is a genuine compilation error, would it be expected to show in
> both cases
>
> Is that the correct way to use dependencyManagement ?
>
> Thanks for reading and any help / suggestions
> Geoff
>
>
>
> --
> View this message in context:
> http://maven.40175.n5.nabble.com/Adding-dependency-management-to-parent-pom-causes-errors-tp5784035p5784252.html
> Sent from the Maven - Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
> For additional commands, e-mail: users-help@maven.apache.org
>
>


-- 
Adrien Rivard

--047d7b6dc2504527a004f23264df--

