From users-return-135322-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sat Feb  1 11:41:43 2014
Return-Path: <users-return-135322-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D364A109A2
	for <apmail-maven-users-archive@www.apache.org>; Sat,  1 Feb 2014 11:41:43 +0000 (UTC)
Received: (qmail 67526 invoked by uid 500); 1 Feb 2014 11:41:40 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 67219 invoked by uid 500); 1 Feb 2014 11:41:27 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 67204 invoked by uid 99); 1 Feb 2014 11:41:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Feb 2014 11:41:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of benoit@berthonneau.com designates 46.105.63.121 as permitted sender)
Received: from [46.105.63.121] (HELO mo2.mail-out.ovh.net) (46.105.63.121)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Feb 2014 11:41:16 +0000
Received: from mail176.ha.ovh.net (gw6.ovh.net [213.251.189.206])
	by mo2.mail-out.ovh.net (Postfix) with SMTP id D468B100065E
	for <users@maven.apache.org>; Sat,  1 Feb 2014 12:40:52 +0100 (CET)
Received: from b0.ovh.net (HELO queueout) (213.186.33.50)
	by b0.ovh.net with SMTP; 1 Feb 2014 13:40:52 +0200
Received: from 128-79-78-59.hfc.dyn.abo.bbox.fr (HELO PCSalon) (benoit@berthonneau.com@128.79.78.59)
  by ns0.ovh.net with SMTP; 1 Feb 2014 13:40:51 +0200
From: =?utf-8?Q?Beno=C3=AEt_Berthonneau?= <benoit@berthonneau.com>
To: "'Maven Users List'" <users@maven.apache.org>
References: <1391203116192-5782919.post@n5.nabble.com>
In-Reply-To: <1391203116192-5782919.post@n5.nabble.com>
Subject: RE: Work-around to the Maven restriction on AND condition profile activation?
Date: Sat, 1 Feb 2014 12:40:47 +0100
Message-ID: <037401cf1f42$73279430$5976bc90$@berthonneau.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Outlook 15.0
Thread-Index: AQLODgMs3JYuX8+ttiDUxjGRTD4lqpiiZ3dA
Content-Language: fr
X-Antivirus: avast! (VPS 140131-2, 31/01/2014), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 15943587107960760592
X-Ovh-Remote: 128.79.78.59 (128-79-78-59.hfc.dyn.abo.bbox.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: -100
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeejtddrieelucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmd
X-Spam-Check: DONE|U 0.5/N
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: -100
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeejtddrieelucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmd
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Dave,

I don't what is the purpose of your double activation profile but I did =
something that could help you.
I implement 2 profiles: "should-i-do-something" and "do-something".

 - The "should-i-do-something" profile is automatically activated by the =
existence of a file in a project, but the phase of all plugins involved =
was set to "none" (that's the trick)
 - The "do-something" profile is activated on demand and just set the =
phase(s) of the plugins involved in the previous profile

Hope this help,
Beno=C3=AEt.


-----Message d'origine-----
De : laredotornado-3 [mailto:laredotornado@gmail.com]=20
Envoy=C3=A9 : vendredi 31 janvier 2014 22:19
=C3=80 : users@maven.apache.org
Objet : Work-around to the Maven restriction on AND condition profile =
activation?

Hi,

I=E2=80=99m using Maven 3.1.1 and Java 1.6.  From reading over posts =
online, it seems a profile cannot be activated based on two conditions =
(i.e. there is no such thing as logical AND in Maven profile =
activation).  So I was wondering if someone knows of a work-around for =
what I want to do.  I want to run a plugin if a flag is given on the =
command line (=E2=80=9C-DdeployWars=E2=80=9D) and a file is present in =
my module, e.g.

                        <activation>
                                <file>

<exists>${basedir}/src/main/webapp/WEB-INF/web.xml</exists>
                                </file>
                        </activation>

Unfortunately, its not an option to include the AND profile activation =
extension (https://github.com/johnjcool/and-activation-profile-selector) =
in our Maven installation, unless there is some way to reference that =
extension from the Maven project itself.

Thanks for your thoughts, - Dave



--
View this message in context:=20
http://maven.40175.n5.nabble.com/Work-around-to-the-Maven-restriction-on-=
AND-condition-profile-activation-tp5782919.html
Sent from the Maven - Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@maven.apache.org
For additional commands, e-mail: users-help@maven.apache.org


