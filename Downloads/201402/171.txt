From users-return-135429-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Feb 12 20:49:25 2014
Return-Path: <users-return-135429-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 874E51035D
	for <apmail-maven-users-archive@www.apache.org>; Wed, 12 Feb 2014 20:49:25 +0000 (UTC)
Received: (qmail 28605 invoked by uid 500); 12 Feb 2014 20:49:20 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 28438 invoked by uid 500); 12 Feb 2014 20:49:20 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 28430 invoked by uid 99); 12 Feb 2014 20:49:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 20:49:20 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [88.198.41.52] (HELO tux235.hoststar.ch) (88.198.41.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 20:49:15 +0000
Received: from mail-qc0-f181.google.com (mail-qc0-f181.google.com [209.85.216.181])
	(authenticated bits=0)
	by tux235.hoststar.ch (8.13.8/8.12.11) with ESMTP id s1CKkrdD000667
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=FAIL)
	for <users@maven.apache.org>; Wed, 12 Feb 2014 21:46:54 +0100
Received: by mail-qc0-f181.google.com with SMTP id e9so16117529qcy.26
        for <users@maven.apache.org>; Wed, 12 Feb 2014 12:46:53 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FFCcisbTE67okB6K3ZQEh34kpZ3tagECuOCK2ikgEG8=;
        b=A+caoLooQD92IErs676ROkY0PJG1oN2MPFYxUIbELqVJpmFs/qVm47MDe6xTiXo74N
         NhqMsoVZHiOMqRket5/0eq9hNcwwaquO9+hYBozoO77nPPXVFZbmrXAVCTLFcTdpDcoG
         unKOghAqSffJKnlIq/1pu5IwuFtqR4QpyZspckOAyYPhi315iIxupj4b/zehWpa+78Wi
         wVd+/Nj8NgfcMg9vuspDFDBkCJNPUIDUdG3rrrK0fc3qsgIziUal/NLbq3FydwCzbcqO
         LuH87bMLNqykYaPGinZxRgv8malrfofseGpZz42NGl2vMCYJb6CWgz3Ad+aaRdiIWnvG
         u5iA==
MIME-Version: 1.0
X-Received: by 10.140.100.135 with SMTP id s7mr33139952qge.114.1392238013597;
 Wed, 12 Feb 2014 12:46:53 -0800 (PST)
Received: by 10.224.182.203 with HTTP; Wed, 12 Feb 2014 12:46:53 -0800 (PST)
Received: by 10.224.182.203 with HTTP; Wed, 12 Feb 2014 12:46:53 -0800 (PST)
In-Reply-To: <CABLGb9yyWxO8om2YE2Y-3v0RwLgB4RmY6cG9UK330DY4UVGHpQ@mail.gmail.com>
References: <9e5201cf2831$52f17c60$f8d47520$@berthonneau.com>
	<CABLGb9yyWxO8om2YE2Y-3v0RwLgB4RmY6cG9UK330DY4UVGHpQ@mail.gmail.com>
Date: Wed, 12 Feb 2014 21:46:53 +0100
Message-ID: <CAJZYdziydpwUPJLn4apNkeLaG_oSYvS4v09G1qO91B6iT5SePg@mail.gmail.com>
Subject: Re: Code coverage with debug logs: 100% branch coverage not possible?...
From: =?ISO-8859-1?Q?Reto_Habl=FCtzel?= <rethab@rethab.ch>
To: Maven Users List <users@maven.apache.org>
Content-Type: multipart/alternative; boundary=001a1134e3aa3e4ea904f23bacea
X-Scanned-By: mimedefang-scanned
X-Virus-Checked: Checked by ClamAV on apache.org

--001a1134e3aa3e4ea904f23bacea
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

To follow up on Paul's answer, I would go as far as to say that I test my
code in order to feel comfortable that it actually does what it should do.
Thus, I can very well live with 90% coverage if I know what the missing 10%
are rather than testing for the sake of making a good impression with a
100% report.

- Reto
On Feb 12, 2014 9:37 PM, "Paul Benedict" <pbenedict@apache.org> wrote:

> IIRC, there should be an option in Emma/Cobertura that allows you to
> exclude coverage on certain classes. So if you can exclude your log4j
> classes (you don't really want to test your logging, do you?), then you
> should be able to raise your percentage.
>
>
> On Wed, Feb 12, 2014 at 2:30 PM, Beno=EEt Berthonneau
> <benoit@berthonneau.com>wrote:
>
> > Hi all,
> >
> >
> >
> > I need your opinion/way to tackle the following problem:
> >
> > In many projects we use a Logger (doesn't matter which implementation).
> It
> > is often recommend to test if the debug level is activated before
> logging a
> > debug trace like the following:
> >
> > if (logger.isDebugEnabled()) {
> >
> >     logger.debug("blah " + i + " in the loop that contains " + max);
> >
> > }
> >
> >
> >
> > Now when you run unit tests on this kind of code you need to make a
> choice:
> > run tests with INFO level or run tests with ALL traces activated. I
> choose
> > the second option in order to:
> >
> > *         Check that debug traces doesn't throw unwanted exception (lik=
e
> > NPE)
> >
> > *         Have a better code coverage in term of covered lines
> >
> >
> >
> > But in term of branches coverage we could never have a 100% :(
> >
> >
> >
> > To me the only way to cover this is to run the tests suite 2 times: one
> > with
> > INFO traces configured, and another one with ALL traces activated.
> >
> > Did you face this issue and how did you solve it ?
> >
> >
> >
> > Thanks,
> >
> > Beno=EEt.
> >
> >
>
>
> --
> Cheers,
> Paul
>

--001a1134e3aa3e4ea904f23bacea--

