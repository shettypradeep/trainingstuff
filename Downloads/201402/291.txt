From users-return-135390-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Sat Feb  8 10:36:50 2014
Return-Path: <users-return-135390-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36FA210BAE
	for <apmail-maven-users-archive@www.apache.org>; Sat,  8 Feb 2014 10:36:50 +0000 (UTC)
Received: (qmail 82067 invoked by uid 500); 8 Feb 2014 10:36:46 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 81820 invoked by uid 500); 8 Feb 2014 10:36:45 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 81810 invoked by uid 99); 8 Feb 2014 10:36:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Feb 2014 10:36:42 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pavlina.temelakieva@gmail.com designates 209.85.160.175 as permitted sender)
Received: from [209.85.160.175] (HELO mail-yk0-f175.google.com) (209.85.160.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Feb 2014 10:36:37 +0000
Received: by mail-yk0-f175.google.com with SMTP id 131so1901003ykp.6
        for <users@maven.apache.org>; Sat, 08 Feb 2014 02:36:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xWjdAcjBYmlqUdB2qwJkXEfBGBSoRPZLqgWTo1zzvFY=;
        b=c+KUl2DM8YPXEoAW0GbRhiiqwuwIzuYr2D6TKDWR7WDVp8aYVqnZwWn+2IrHLm/89Y
         7ycPA0NEfjXtDHlSlwOtaIuUhkyvVEuxnd9/OPiR57EHtaxKlm/wXLlKKCoLcqkGhcq7
         wtvn8cFLWGZiFtsAuauHQsZmac9Dw9c7b14UQ5LXnX/2RAaccEhs6pBr1fc07kUyPLju
         ihetgTGlxCbpG8DJPMDld8uxLDUyJOw7UrGSnk0u/oZa5zt0M1BmAFb1TSzMDZ0+C/8C
         CqX7qdUoqGd8uwbiE12EN1KNJS5xGNteSAx2nfyVL+5L4Z+BSlvIJYQuAxg4t8hdpVr6
         ZIWg==
MIME-Version: 1.0
X-Received: by 10.236.26.17 with SMTP id b17mr612581yha.77.1391855776707; Sat,
 08 Feb 2014 02:36:16 -0800 (PST)
Received: by 10.170.142.132 with HTTP; Sat, 8 Feb 2014 02:36:16 -0800 (PST)
In-Reply-To: <CAJJtLVqJg9EmbN_THH4OYpQMGwjK1erButVuSe1i6QgB5wPsOA@mail.gmail.com>
References: <CAJJtLVqJg9EmbN_THH4OYpQMGwjK1erButVuSe1i6QgB5wPsOA@mail.gmail.com>
Date: Sat, 8 Feb 2014 12:36:16 +0200
Message-ID: <CAJJtLVpRdWuNh7O3w2_6ZiBCW0i17htU8_b85pVA57xGicG9Sg@mail.gmail.com>
Subject: Re: Maven build hangs forever while running TestNG unit tests.
From: Pavlina Temelakieva <pavlina.temelakieva@gmail.com>
To: users@maven.apache.org
Content-Type: multipart/alternative; boundary=089e014953a4263a8204f1e2ad2f
X-Virus-Checked: Checked by ClamAV on apache.org

--089e014953a4263a8204f1e2ad2f
Content-Type: text/plain; charset=ISO-8859-1

I managed to find the process id and dump the stack trace of the process.
Turned out one of my unit tests, which test a producer/consumer kind of
scenario is causing the hanging.


On Sat, Feb 8, 2014 at 10:15 AM, Pavlina Temelakieva <
pavlina.temelakieva@gmail.com> wrote:

> Hello everyone,
>
> I am running maven build on my project and it stuck forever when trying to
> run a unit test. I tried disabling the unit test where it used to stuck (by
> comment the @Test annotation), but then the build hangs on the Test stage,
> without executing a single unit test.
> *Output:*
> -------------------------------------------------------
>  T E S T S
> -------------------------------------------------------
> Running TestSuite
>
> I am using:
> (mvn -version)
> *Output:*
> ARCH: lin32
> JAVA_HOME: /path/to/jdk-1.7.0_45
> Apache Maven 3.0.3 (r1075438; 2011-02-28 19:31:09+0200)
> Default locale: en_US, platform encoding: UTF-8
> OS name: "linux", version: "2.6.38-8-generic", arch: "i386", family: "unix"
> Java version: 1.7.0_45, vendor: Oracle Corporation
>
> For the unit tests I am using TestNG:
>   <plugin>
>        <artifactId>maven-surefire-plugin</artifactId>
>        <version>2.4.2</version>
>    </plugin>
>
> My current MAVEN_OPTS settings are : -Xmx512m -XX:MaxPermSize=128m
> I read somewhere that changing the MaxPermSize will fix the issue, so I
> tried increasing MaxPermGenSize to 256m and the issue is still present.
> I rebooted and the issue is still present.
> I also tried stopping the process with CTRL+Z, but the output doesn't seem
> to give me the PID of the process:
> *Output:*
> [1]+  Stopped                 mvn clean install -pl ../myProject/
> Also, the -e, and the -X options doesn't give any additional information
> when the hanging is reached.
> Note that when I run mvn clean install -DskipTests, the issue doesn't
> appear, and the project is built successfully without the unit tests are
> executed.
>
> I really have no clue what causes this hanging. Can you help?
>
>

--089e014953a4263a8204f1e2ad2f--

