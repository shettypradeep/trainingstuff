From users-return-135427-apmail-maven-users-archive=maven.apache.org@maven.apache.org  Wed Feb 12 20:31:29 2014
Return-Path: <users-return-135427-apmail-maven-users-archive=maven.apache.org@maven.apache.org>
X-Original-To: apmail-maven-users-archive@www.apache.org
Delivered-To: apmail-maven-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7FE811028E
	for <apmail-maven-users-archive@www.apache.org>; Wed, 12 Feb 2014 20:31:29 +0000 (UTC)
Received: (qmail 80658 invoked by uid 500); 12 Feb 2014 20:31:25 -0000
Delivered-To: apmail-maven-users-archive@maven.apache.org
Received: (qmail 80590 invoked by uid 500); 12 Feb 2014 20:31:25 -0000
Mailing-List: contact users-help@maven.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:users-unsubscribe@maven.apache.org>
List-Help: <mailto:users-help@maven.apache.org>
List-Post: <mailto:users@maven.apache.org>
List-Id: "Maven Users List" <users.maven.apache.org>
Reply-To: "Maven Users List" <users@maven.apache.org>
Delivered-To: mailing list users@maven.apache.org
Received: (qmail 80582 invoked by uid 99); 12 Feb 2014 20:31:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 20:31:25 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of benoit@berthonneau.com designates 46.105.63.121 as permitted sender)
Received: from [46.105.63.121] (HELO mo2.mail-out.ovh.net) (46.105.63.121)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Feb 2014 20:31:16 +0000
Received: from mail422.ha.ovh.net (gw6.ovh.net [213.251.189.206])
	by mo2.mail-out.ovh.net (Postfix) with SMTP id D8BB5FFC6CB
	for <users@maven.apache.org>; Wed, 12 Feb 2014 21:30:55 +0100 (CET)
Received: from b0.ovh.net (HELO queueout) (213.186.33.50)
	by b0.ovh.net with SMTP; 12 Feb 2014 22:31:14 +0200
Received: from 128-79-78-59.hfc.dyn.abo.bbox.fr (HELO PCSalon) (benoit@berthonneau.com@128.79.78.59)
  by ns0.ovh.net with SMTP; 12 Feb 2014 22:31:13 +0200
From: =?iso-8859-1?Q?Beno=EEt_Berthonneau?= <benoit@berthonneau.com>
To: <users@maven.apache.org>
Subject: Code coverage with debug logs: 100% branch coverage not possible?...
Date: Wed, 12 Feb 2014 21:30:52 +0100
Message-ID: <9e5201cf2831$52f17c60$f8d47520$@berthonneau.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_9E53_01CF2839.B4B6CEC0"
X-Mailer: Microsoft Outlook 15.0
Thread-Index: Ac8oMQba6Akh1ik6Roeq9bvvZNF8LQ==
Content-Language: fr
X-Antivirus: avast! (VPS 140212-1, 12/02/2014), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 15713340576440101136
X-Ovh-Remote: 128.79.78.59 (128-79-78-59.hfc.dyn.abo.bbox.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: 0
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeejtddrjedvucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-Spam-Check: DONE|U 0.5/N
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeejtddrkeejucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_9E53_01CF2839.B4B6CEC0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,

=20

I need your opinion/way to tackle the following problem:

In many projects we use a Logger (doesn=92t matter which =
implementation). It
is often recommend to test if the debug level is activated before =
logging a
debug trace like the following:

if (logger.isDebugEnabled()) {

    logger.debug(=93blah =94 + i + =93 in the loop that contains =94 + =
max);

}

=20

Now when you run unit tests on this kind of code you need to make a =
choice:
run tests with INFO level or run tests with ALL traces activated. I =
choose
the second option in order to:

*         Check that debug traces doesn=92t throw unwanted exception =
(like
NPE)

*         Have a better code coverage in term of covered lines

=20

But in term of branches coverage we could never have a 100% :(

=20

To me the only way to cover this is to run the tests suite 2 times: one =
with
INFO traces configured, and another one with ALL traces activated.

Did you face this issue and how did you solve it ?

=20

Thanks,

Beno=EEt.


------=_NextPart_000_9E53_01CF2839.B4B6CEC0--


